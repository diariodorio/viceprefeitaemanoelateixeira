(()=>{var fc=Object.create;var pr=Object.defineProperty;var gc=Object.getOwnPropertyDescriptor;var yc=Object.getOwnPropertyNames;var vc=Object.getPrototypeOf,bc=Object.prototype.hasOwnProperty;var ke=(p,a)=>()=>(p&&(a=p(p=0)),a);var Ie=(p,a)=>()=>(a||p((a={exports:{}}).exports,a),a.exports),We=(p,a)=>{for(var n in a)pr(p,n,{get:a[n],enumerable:!0})},xc=(p,a,n,o)=>{if(a&&typeof a=="object"||typeof a=="function")for(let l of yc(a))!bc.call(p,l)&&l!==n&&pr(p,l,{get:()=>a[l],enumerable:!(o=gc(a,l))||o.enumerable});return p};var da=(p,a,n)=>(n=p!=null?fc(vc(p)):{},xc(a||!p||!p.__esModule?pr(n,"default",{value:p,enumerable:!0}):n,p));var le,N=ke(()=>{le={marketgid:`<div class="mgheader">
	<span class="mghead">%WIDGET_TITLE%</span>
	<div class="mg_addad%id">
		<a href="#" style="display: flex !important; align-items: center; justify-content: center; position: static;">
			<object aria-label="logo" width="58" height="26">
				<a style="position: static !important; margin-right: 3px !important; width: 55px; height: 26px"
				   href="https://widgets.mgid.com/%lang/%utm%id" target="_blank">
					<img style="display: inline-block; width: 55px !important; height: 26px !important;
					margin: 0 !important; position: static;" src="https://cdn.mgid.com/images/mgid/mgid_ua.svg"
					    width="55" height="26" alt />
				</a>
			</object>
			<object aria-label="logo" width="20" height="26">
				<a style="position: static !important; margin: 0 !important; width: 20px; height: 26px"
				   href="https://www.mgid.com/services/privacy-policy" target="_blank">
					<img style="display: inline-block; width: 20px !important; height: 20px !important;
					margin: 0 !important; position: static;" src="https://cdn.mgid.com/images/logos/Adchoices.svg"
					    width="20" height="20" alt />
				</a>
			</object>
		</a>
	</div>
</div>
<style>
	.mghead {
        font-weight: 700;
        font-size: 14px;
        text-transform: uppercase;
        text-align: left;
        font-family: Verdana, sans-serif;
        color: #4555a7;
        display: block;
        margin: 5px 0 0px 5px;
        float: left;
    }

    .mgheader {
        display: table !Important;
        width: 100% !important;
        margin-bottom: 0px;
    }

    div.mg_addad%id {
        text-align: right;
        opacity: 0.5;
        margin-right: 10px;
        display: inline-block;
        float: right;
    }

    div.mg_addad%id:hover {
        opacity: 1
    }

    div.mg_addad%id a {
        color: #000000;
        font: normal 10px Myriad Pro;
        text-decoration: none;
    }

    div.mg_addad%id img {
        margin: 0px -5px 0px 0px;
        border: 0px;
        float: none;
        padding: 0px;
    }
	div.mg_addad%id object a {
		height: 26px;
		display: flex;
		align-items: center;position: static !important; margin: 0 !important;
	}
</style>
`}});var pe,V=ke(()=>{pe={"in-article":{"in-article-impact":"mgid-in-article-impact"}}});var oe,U=ke(()=>{oe=["make cl[i1!]ck","(cl[i!1]ck|cl[i!1]que|kl[i!1]kone|shtyp|kl[i!1]k|kl[i!1]kn[i!1]\u0435e) ((on|[i!1]n the) )?(h[e3]re|me|please|ads|to|en cualqu[i!1]er anunc[i!1]o|qu\u1EA3ng c\xE1o|na [i!1]megen|nje nga reklamat|no an\xFAnc[i!1]o|reklamen|em alguma propaganda|[i!1]klan atan|below banner)","pres[i1!]ona \u0441ualqu[i1!]er [i1!]magen","toca la pr[i1!]mera [i1!]magen ","(cl[i!1]ck|cl[i!1]que|kl[i!1]kone|shtyp|kl[i!1]k|kl[i!1]kn[i!1]\u0435e) ((on|[i!1]n the) )?([i!1]zpod)"]});var ce,j=ke(()=>{ce={"[GO]":"IR","[INFORMER_BACK_BUTTON_BANNER_TEXT]":"Mais hist\xF3rias para conferir antes de ir","[INFORMER_BTN_DISCOVER_MORE]":"Discover More","[INFORMER_BUTTON_MORE]":"Mais","[INFORMER_CLOSE_AD_BUTTON]":"An\xFAncio fechado","[INFORMER_CTA_LEARN_MORE]":"Leia mais","[INFORMER_OPEN_BUTTON]":"Aberto","[INFORMER_VIDEO_CLICK_TEXT]":"Saiba mais","[LS_CAB_SITE_BLOCK_ANTIFRAUD_SUBJECT_V2]":"Seu site %s foi bloqueado (%s)","[LS_INFORMERS_CLOSE_BUTTON]":"Fechar","[LS_INFORMERS_MOBILEMODAL_GO]":"Go","[LS_INFORMERS_WIDGET_MOBILE_CONTINUE]":"Continue","[WIDGET_TITLE_CHECK_THIS_OUT]":"Veja isso","[WIDGET_TITLE_INTERESTING]":"Interessante na rede","[WIDGET_TITLE_INTERESTING_FOR_YOU]":"Interessante para voc\xEA","[WIDGET_TITLE_MORE_COOL_STUFF]":"Mais coisas legais","[WIDGET_TITLE_MORE_FROM_AROUND_THE_WEB]":"Mais da Web","[WIDGET_TITLE_PARTNERS_NEWS]":"Not\xEDcias de Parceiros","[WIDGET_TITLE_POPULAR]":"Popular na rede","[WIDGET_TITLE_PROMOTED_CONTENT]":"Conte\xFAdo Promovido","[WIDGET_TITLE_SMI]":"Em outra m\xEDdia","[WIDGET_TITLE_SPONSORED_CONTENT]":"Conte\xFAdo Patrocinado","[WIDGET_TITLE_SUGGESTED_NEWS]":"Not\xEDcias Sugeridas","[WIDGET_TITLE_YOU_MAY_LIKE]":"Voc\xEA pode gostar"}});var z=ke(()=>{});var de,$=ke(()=>{de=["es","vi","it","hi","pl","ru","uk"]});var Z=ke(()=>{});var ge,Me=ke(()=>{N();V();U();j();z();$();Z();ge=class{constructor(a){this.app=a}addHook(a,n,o=0){{let l=o!==0;this.app[a].push(c=>{let d=this.name||this.constructor.name,g=[];return g.push(this.app.lifeCycleBlock.execute(`${a} hook ${d}`,y=>{try{l?(c=c||[],c.push(y),n.apply(this,c)):(n.apply(this,c),y())}catch(b){this.app.log(`${a} hook ${d}:`,"error",b),y()}},0,!1,!0)),l&&o!==999999&&g.push(this.app.lifeCycleBlock.execute("",y=>{y()},o,!1,!0)),Promise.race(g)})}}}});var Ga,Zn=ke(()=>{N();V();U();j();z();$();Z();Me();Ga=class extends ge{constructor(a){super(a),this.isDebugEnabled=!1,this.isProfilerEnabled=!1,this.app.log=this.log.bind(this),this.app.time=this.time.bind(this),this.app.timeEnd=this.timeEnd.bind(this)}initDebugger(){this.isDebugEnabled=this.app.getQueryParameterByName("mgwdebug")==="1"||!1,this.isProfilerEnabled=this.app.getQueryParameterByName("mgwprofile")==="1"||!1}log(a,n="log",o=null){if(this.isDebugEnabled){let c=["log","info","warn","error"].indexOf(n)!==-1?n:"log";typeof console[c]!="function"&&(c="log"),o&&o.stack&&o.message?console[c](`WIDGET_${1401472}_${this.app.uniqId}`,a,o.stack):console[c](`WIDGET_${1401472}_${this.app.uniqId}`,a)}}time(a){this.isProfilerEnabled&&typeof console.time=="function"&&console.time(`WIDGET_${1401472}_${this.app.uniqId} ${a}`)}timeEnd(a){this.isProfilerEnabled&&typeof console.timeEnd=="function"&&console.timeEnd(`WIDGET_${1401472}_${this.app.uniqId} ${a}`)}}});var Be,je,Ti,Nt=ke(()=>{N();V();U();j();z();$();Z();(function(p){p.Teaser="teaser",p.Banner="banner",p.Gpt="gpt"})(Be||(Be={}));(function(p){p.Wages="w",p.Exchange="e",p.InternalExchange="i",p.Video="v",p.DirectPublisherDemand="dpd"})(je||(je={}));(function(p){p.Desktop="desktop",p.Mobile="mobile",p.Tablet="tablet",p.SmartTV="smarttv"})(Ti||(Ti={}))});var st=Ie($t=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty($t,"__esModule",{value:!0});$t.Debug=$t.setDebugFlag=$t.getDebugFlag=$t.mgForceSend=$t.mgDebug=void 0;var Vt,kc=function(){function p(a,n){var o=p.queryString();n&&n.mgRec&&n.mgRec.config&&n.mgRec.config.debug&&(this.debugMode=n.mgRec.config.debug);var l=a?a.Helpers.getCookie("mgwdebug"):void 0;if((o.mgwdebug||l!==void 0)&&(this.debugMode||(this.debugMode=o.mgwdebug||l),this.copyToConsole=!0),this.debugMode&&(this.debugFlag=!0),n){n.mgRec&&n.mgRec.cid?this.cid=n.mgRec.cid:this.cid=0,this.sensorUrl=n.libConfig.videoSensorUrlTemplate,this.sensorUrl=this.sensorUrl.replace("{{DOMAIN}}",n.mgRec.countersDomain||"c.".concat(n.mgRec.subnetDomain));var c=document.location.protocol;c=c.indexOf("http")===0?c:"https:",this.sensorUrl="".concat(c).concat(this.sensorUrl)}}return p.init=function(a){if(!a){Vt=new p;return}a.debug||(Vt=new p(a.modules,a),a.debug=Vt.debug,a.remoteMessage=Vt.remoteMessage);var n=this.queryString(),o=a.mgRec.config.debug;(n.mgwdebug||n["mgwdebug_".concat(a.mgRec.cid)]||o&&typeof o!="string"||typeof o=="string"&&parseInt(o,10)||a.block.getAttribute("data-mgwdebug"))&&(Vt.debugFlag=!0)},p.queryString=function(){var a={},n=window.location!==window.parent.location?document.referrer:document.location.href;if(n===document.referrer)try{n=window.parent.location.href}catch{}var o=n.match(/\?\S+/);if(o)for(var l=o[0].substring(1).split("&"),c=0;c<l.length;c++){var d=l[c].split("=");if(typeof a[d[0]]>"u")a[d[0]]=decodeURIComponent(d[1]);else if(typeof a[d[0]]=="string"){var g=[a[d[0]],decodeURIComponent(d[1])];a[d[0]]=g}else a[d[0]].push(decodeURIComponent(d[1]))}return a},p.prototype.debug=function(a,n){if(n===void 0&&(n=!1),this.debugFlag||n){var o=a;typeof o!="object"&&(o="".concat(new Date().toISOString().replace("Z","MG")," ").concat(o)),this.debugMode==="remote"||n?(this.remoteMessage(o),this.copyToConsole&&console.debug(o)):console.debug(o)}},p.prototype.remoteMessage=function(a){var n=new Image;this.sensorUrl&&(n.src="".concat(this.sensorUrl,"?e=mgwdebug&iid=").concat(this.cid)+"&o=".concat(encodeURIComponent(a),"&c=").concat(Math.floor(Math.random()*65535)))},p}();$t.Debug=kc;function Dc(p){Vt&&Vt.debug(p)}$t.mgDebug=Dc;function Ic(p){Vt&&Vt.debug(p,!0)}$t.mgForceSend=Ic;function Ec(){return Vt&&Vt.debugFlag}$t.getDebugFlag=Ec;function Pc(p){Vt&&(Vt.debugFlag=p)}$t.setDebugFlag=Pc});var Xn=Ie(qa=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty(qa,"__esModule",{value:!0});qa.Config=void 0;var Ac=function(){function p(){}return p.init=function(a){var n=a.modules.Helpers.getUrlParam("mgwtest")||a.modules.Helpers.getUrlParam("mgwtest".concat(a.mgRec.cid))||a.modules.Helpers.getCookie("mgwtest");if(n){var o="test".concat(n.replace(/(_|^)(\w)/g,function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return l[2].toUpperCase()}));a.modules.Helpers&&a.modules.Helpers.mergeObjects&&a.mgRec.config[o]&&a.setConfig(a.modules.Helpers.mergeObjects(a.mgRec.config,a.mgRec.config[o],!0))}},p}();qa.Config=Ac});var Gi=Ie(Ua=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty(Ua,"__esModule",{value:!0});Ua.Loader=void 0;var Lc=function(){function p(a,n,o){o===void 0&&(o="0");var l=this;this.config=a,this.callback=n,this.widgetIndex=o,this.loaded={},this.loading={},this.allLoaded=!1,this.checkAgain=!1;var c=document.location.protocol;this.protocol=c.indexOf("http")===0?c:"https:",Object.keys(this.config).forEach(function(d){if(Object.prototype.hasOwnProperty.call(l.config[d],"exists"))if(l.loading[d]=!1,!document.getElementById("".concat(d,"_").concat(l.widgetIndex))&&!window["".concat(d,"_").concat(l.widgetIndex)]){var g=document.createElement("script");g.id="".concat(d,"_").concat(l.widgetIndex),g.innerHTML="(function(){window.mg".concat(d,"_").concat(l.widgetIndex)+" = function () { return !!(".concat(l.config[d].exists,");};})();"),document.head.insertBefore(g,document.head.querySelector("script")||document.head.lastChild),l.loaded[d]=window["mg".concat(d,"_").concat(l.widgetIndex)]()}else window["mg".concat(d,"_").concat(l.widgetIndex)]&&(l.loaded[d]=window["mg".concat(d,"_").concat(l.widgetIndex)]())})}return p.prototype.checkLoaded=function(){var a=this;this.allLoaded=!0,this.checkAgain=!1,Object.keys(this.loaded).forEach(function(n){if(!a.loaded[n]){var o=!0;if(Object.prototype.hasOwnProperty.call(a.config[n],"dep"))for(var l=0;l<a.config[n].dep.length;l++)a.loaded[a.config[n].dep[l]]||(o=!1);o&&(a.allLoaded=a.allLoaded&&a.createScript(n))}}),this.checkAgain?this.checkLoaded():this.allLoaded&&this.callback()},p.prototype.createScript=function(a){var n=this,o=document.getElementById(a);if(!o)o=document.createElement("script"),o.id=a,this.config[a].url.indexOf("http")===0?o.src=this.config[a].url:o.src="".concat(this.protocol).concat(this.config[a].url),o.addEventListener("load",function(){n.onLoadScript(o)}),document.head.appendChild(o),this.loading[a]=!0;else if(!o.getAttribute("data-loaded")&&!this.loading[a])this.loading[a]=!0,o.addEventListener("load",function(){n.onLoadScript(o)});else if(o.getAttribute("data-loaded"))return this.loaded[a]=!0,this.checkAgain=!0,!0;return!1},p.prototype.onLoadScript=function(a,n){n===void 0&&(n=null),a.setAttribute("data-loaded",!0),this.loaded[a.id]=!0,this.checkLoaded(),n&&n()},p}();Ua.Loader=Lc});var Jn=Ie(()=>{N();V();U();j();z();$();Z();(function(){"use strict";if(typeof window!="object")return;if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype){"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});return}function p(J){try{return J.defaultView&&J.defaultView.frameElement||null}catch{return null}}var a=function(J){for(var ae=J,ee=p(ae);ee;)ae=ee.ownerDocument,ee=p(ae);return ae}(window.document),n=[],o=null,l=null;function c(J){this.time=J.time,this.target=J.target,this.rootBounds=K(J.rootBounds),this.boundingClientRect=K(J.boundingClientRect),this.intersectionRect=K(J.intersectionRect||E()),this.isIntersecting=!!J.intersectionRect;var ae=this.boundingClientRect,ee=ae.width*ae.height,Se=this.intersectionRect,me=Se.width*Se.height;ee?this.intersectionRatio=Number((me/ee).toFixed(4)):this.intersectionRatio=this.isIntersecting?1:0}function d(J,ae){var ee=ae||{};if(typeof J!="function")throw new Error("callback must be a function");if(ee.root&&ee.root.nodeType!=1)throw new Error("root must be an Element");this._checkForIntersections=y(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=J,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(ee.rootMargin),this.thresholds=this._initThresholds(ee.threshold),this.root=ee.root||null,this.rootMargin=this._rootMarginValues.map(function(Se){return Se.value+Se.unit}).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}d.prototype.THROTTLE_TIMEOUT=100,d.prototype.POLL_INTERVAL=null,d.prototype.USE_MUTATION_OBSERVER=!0,d._setupCrossOriginUpdater=function(){return o||(o=function(J,ae){!J||!ae?l=E():l=W(J,ae),n.forEach(function(ee){ee._checkForIntersections()})}),o},d._resetCrossOriginUpdater=function(){o=null,l=null},d.prototype.observe=function(J){var ae=this._observationTargets.some(function(ee){return ee.element==J});if(!ae){if(!(J&&J.nodeType==1))throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:J,entry:null}),this._monitorIntersections(J.ownerDocument),this._checkForIntersections()}},d.prototype.unobserve=function(J){this._observationTargets=this._observationTargets.filter(function(ae){return ae.element!=J}),this._unmonitorIntersections(J.ownerDocument),this._observationTargets.length==0&&this._unregisterInstance()},d.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},d.prototype.takeRecords=function(){var J=this._queuedEntries.slice();return this._queuedEntries=[],J},d.prototype._initThresholds=function(J){var ae=J||[0];return Array.isArray(ae)||(ae=[ae]),ae.sort().filter(function(ee,Se,me){if(typeof ee!="number"||isNaN(ee)||ee<0||ee>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return ee!==me[Se-1]})},d.prototype._parseRootMargin=function(J){var ae=J||"0px",ee=ae.split(/\s+/).map(function(Se){var me=/^(-?\d*\.?\d+)(px|%)$/.exec(Se);if(!me)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(me[1]),unit:me[2]}});return ee[1]=ee[1]||ee[0],ee[2]=ee[2]||ee[0],ee[3]=ee[3]||ee[1],ee},d.prototype._monitorIntersections=function(J){var ae=J.defaultView;if(!!ae&&this._monitoringDocuments.indexOf(J)==-1){var ee=this._checkForIntersections,Se=null,me=null;if(this.POLL_INTERVAL?Se=ae.setInterval(ee,this.POLL_INTERVAL):(b(ae,"resize",ee,!0),b(J,"scroll",ee,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in ae&&(me=new ae.MutationObserver(ee),me.observe(J,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))),this._monitoringDocuments.push(J),this._monitoringUnsubscribes.push(function(){var xe=J.defaultView;xe&&(Se&&xe.clearInterval(Se),_(xe,"resize",ee,!0)),_(J,"scroll",ee,!0),me&&me.disconnect()}),J!=(this.root&&this.root.ownerDocument||a)){var ye=p(J);ye&&this._monitorIntersections(ye.ownerDocument)}}},d.prototype._unmonitorIntersections=function(J){var ae=this._monitoringDocuments.indexOf(J);if(ae!=-1){var ee=this.root&&this.root.ownerDocument||a,Se=this._observationTargets.some(function(xe){var _e=xe.element.ownerDocument;if(_e==J)return!0;for(;_e&&_e!=ee;){var Re=p(_e);if(_e=Re&&Re.ownerDocument,_e==J)return!0}return!1});if(!Se){var me=this._monitoringUnsubscribes[ae];if(this._monitoringDocuments.splice(ae,1),this._monitoringUnsubscribes.splice(ae,1),me(),J!=ee){var ye=p(J);ye&&this._unmonitorIntersections(ye.ownerDocument)}}}},d.prototype._unmonitorAllIntersections=function(){var J=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var ae=0;ae<J.length;ae++)J[ae]()},d.prototype._checkForIntersections=function(){if(!(!this.root&&o&&!l)){var J=this._rootIsInDom(),ae=J?this._getRootRect():E();this._observationTargets.forEach(function(ee){var Se=ee.element,me=M(Se),ye=this._rootContainsTarget(Se),xe=ee.entry,_e=J&&ye&&this._computeTargetAndRootIntersection(Se,me,ae),Re=ee.entry=new c({time:g(),target:Se,boundingClientRect:me,rootBounds:o&&!this.root?null:ae,intersectionRect:_e});xe?J&&ye?this._hasCrossedThreshold(xe,Re)&&this._queuedEntries.push(Re):xe&&xe.isIntersecting&&this._queuedEntries.push(Re):this._queuedEntries.push(Re)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},d.prototype._computeTargetAndRootIntersection=function(J,ae,ee){if(window.getComputedStyle(J).display!="none"){for(var Se=ae,me=ie(J),ye=!1;!ye&&me;){var xe=null,_e=me.nodeType==1?window.getComputedStyle(me):{};if(_e.display=="none")return null;if(me==this.root||me.nodeType==9)if(ye=!0,me==this.root||me==a)o&&!this.root?!l||l.width==0&&l.height==0?(me=null,xe=null,Se=null):xe=l:xe=ee;else{var Re=ie(me),Ee=Re&&M(Re),Oe=Re&&this._computeTargetAndRootIntersection(Re,Ee,ee);Ee&&Oe?(me=Re,xe=W(Ee,Oe)):(me=null,Se=null)}else{var gt=me.ownerDocument;me!=gt.body&&me!=gt.documentElement&&_e.overflow!="visible"&&(xe=M(me))}if(xe&&(Se=k(xe,Se)),!Se)break;me=me&&ie(me)}return Se}},d.prototype._getRootRect=function(){var J;if(this.root)J=M(this.root);else{var ae=a.documentElement,ee=a.body;J={top:0,left:0,right:ae.clientWidth||ee.clientWidth,width:ae.clientWidth||ee.clientWidth,bottom:ae.clientHeight||ee.clientHeight,height:ae.clientHeight||ee.clientHeight}}return this._expandRectByRootMargin(J)},d.prototype._expandRectByRootMargin=function(J){var ae=this._rootMarginValues.map(function(Se,me){return Se.unit=="px"?Se.value:Se.value*(me%2?J.width:J.height)/100}),ee={top:J.top-ae[0],right:J.right+ae[1],bottom:J.bottom+ae[2],left:J.left-ae[3]};return ee.width=ee.right-ee.left,ee.height=ee.bottom-ee.top,ee},d.prototype._hasCrossedThreshold=function(J,ae){var ee=J&&J.isIntersecting?J.intersectionRatio||0:-1,Se=ae.isIntersecting?ae.intersectionRatio||0:-1;if(ee!==Se)for(var me=0;me<this.thresholds.length;me++){var ye=this.thresholds[me];if(ye==ee||ye==Se||ye<ee!=ye<Se)return!0}},d.prototype._rootIsInDom=function(){return!this.root||Q(a,this.root)},d.prototype._rootContainsTarget=function(J){return Q(this.root||a,J)&&(!this.root||this.root.ownerDocument==J.ownerDocument)},d.prototype._registerInstance=function(){n.indexOf(this)<0&&n.push(this)},d.prototype._unregisterInstance=function(){var J=n.indexOf(this);J!=-1&&n.splice(J,1)};function g(){return window.performance&&performance.now&&performance.now()}function y(J,ae){var ee=null;return function(){ee||(ee=setTimeout(function(){J(),ee=null},ae))}}function b(J,ae,ee,Se){typeof J.addEventListener=="function"?J.addEventListener(ae,ee,Se||!1):typeof J.attachEvent=="function"&&J.attachEvent("on"+ae,ee)}function _(J,ae,ee,Se){typeof J.removeEventListener=="function"?J.removeEventListener(ae,ee,Se||!1):typeof J.detatchEvent=="function"&&J.detatchEvent("on"+ae,ee)}function k(J,ae){var ee=Math.max(J.top,ae.top),Se=Math.min(J.bottom,ae.bottom),me=Math.max(J.left,ae.left),ye=Math.min(J.right,ae.right),xe=ye-me,_e=Se-ee;return xe>=0&&_e>=0&&{top:ee,bottom:Se,left:me,right:ye,width:xe,height:_e}||null}function M(J){var ae;try{ae=J.getBoundingClientRect()}catch{}return ae?(ae.width&&ae.height||(ae={top:ae.top,right:ae.right,bottom:ae.bottom,left:ae.left,width:ae.right-ae.left,height:ae.bottom-ae.top}),ae):E()}function E(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function K(J){return!J||"x"in J?J:{top:J.top,y:J.top,bottom:J.bottom,left:J.left,x:J.left,right:J.right,width:J.width,height:J.height}}function W(J,ae){var ee=ae.top-J.top,Se=ae.left-J.left;return{top:ee,left:Se,height:ae.height,width:ae.width,bottom:ee+ae.height,right:Se+ae.width}}function Q(J,ae){for(var ee=ae;ee;){if(ee==J)return!0;ee=ie(ee)}return!1}function ie(J){var ae=J.parentNode;return J.nodeType==9&&J!=a?p(J):ae&&ae.nodeType==11&&ae.host?ae.host:ae&&ae.assignedSlot?ae.assignedSlot.parentNode:ae}window.IntersectionObserver=d,window.IntersectionObserverEntry=c})()});var ze=Ie(qi=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty(qi,"__esModule",{value:!0});qi.Helpers=qi.getInObject=void 0;Jn();var Bc=function(){function p(){this.elements=[],this.listeners=[],this.interceptEventsListeners()}return p.init=function(){window.listTracker||(window.listTracker=new p)},p.registerElement=function(a){if(window.listTracker.elements.indexOf(a)===-1){var n=[{},{}];window.listTracker.elements.push(a),window.listTracker.listeners.push(n)}return window.listTracker.listeners[window.listTracker.elements.indexOf(a)]},p.prototype.interceptEventsListeners=function(){this.superObj={addEventListener:HTMLElement.prototype.addEventListener,removeEventListener:HTMLElement.prototype.removeEventListener},Element.prototype.addEventListener=function(a,n,o){var l=p.registerElement(this);window.listTracker.superObj.addEventListener.apply(this,arguments);var c=o?1:0;l[c][a]||(l[c][a]=[]),l[c][a].push(n)},Element.prototype.removeEventListener=function(a,n,o){var l=p.registerElement(this);window.listTracker.superObj.removeEventListener.apply(this,arguments);var c=o?1:0;if(!!l[c][a]){var d=l[c][a].indexOf(n);d>-1&&l[c][a].splice(d,1)}},Element.prototype.getEventListeners=function(a){for(var n=p.registerElement(this),o=[],l=function(y,b){b=n[y],typeof a=="string"?b[a]&&Object.keys(b[a]).forEach(function(_){o.push({type:a,listener:b[a][_],useCapture:!!y})}):Object.keys(b).forEach(function(_){Object.keys(b[a]).forEach(function(k){o.push({curType:_,listener:b[_][k],useCapture:!!y})})}),c=b},c,d=0,g=void 0;n[d];d++)l(d,g),g=c;return o}},p}(),Oc=function(){function p(){}return p.safeAdd=function(a,n){var o=(a&65535)+(n&65535),l=(a>>16)+(n>>16)+(o>>16);return l<<16|o&65535},p.bitRotateLeft=function(a,n){return a<<n|a>>>32-n},p.md5cmn=function(a,n,o,l,c,d){return p.safeAdd(p.bitRotateLeft(p.safeAdd(p.safeAdd(n,a),p.safeAdd(l,d)),c),o)},p.md5ff=function(a,n,o,l,c,d,g){return p.md5cmn(n&o|~n&l,a,n,c,d,g)},p.md5gg=function(a,n,o,l,c,d,g){return p.md5cmn(n&l|o&~l,a,n,c,d,g)},p.md5hh=function(a,n,o,l,c,d,g){return p.md5cmn(n^o^l,a,n,c,d,g)},p.md5ii=function(a,n,o,l,c,d,g){return p.md5cmn(o^(n|~l),a,n,c,d,g)},p.binlMD5=function(a,n){a[n>>5]|=128<<n%32,a[(n+64>>>9<<4)+14]=n;for(var o=null,l=null,c=null,d=null,g=1732584193,y=-271733879,b=-1732584194,_=271733878,k=0;k<a.length;k+=16)o=g,l=y,c=b,d=_,g=p.md5ff(g,y,b,_,a[k],7,-680876936),_=p.md5ff(_,g,y,b,a[k+1],12,-389564586),b=p.md5ff(b,_,g,y,a[k+2],17,606105819),y=p.md5ff(y,b,_,g,a[k+3],22,-1044525330),g=p.md5ff(g,y,b,_,a[k+4],7,-176418897),_=p.md5ff(_,g,y,b,a[k+5],12,1200080426),b=p.md5ff(b,_,g,y,a[k+6],17,-1473231341),y=p.md5ff(y,b,_,g,a[k+7],22,-45705983),g=p.md5ff(g,y,b,_,a[k+8],7,1770035416),_=p.md5ff(_,g,y,b,a[k+9],12,-1958414417),b=p.md5ff(b,_,g,y,a[k+10],17,-42063),y=p.md5ff(y,b,_,g,a[k+11],22,-1990404162),g=p.md5ff(g,y,b,_,a[k+12],7,1804603682),_=p.md5ff(_,g,y,b,a[k+13],12,-40341101),b=p.md5ff(b,_,g,y,a[k+14],17,-1502002290),y=p.md5ff(y,b,_,g,a[k+15],22,1236535329),g=p.md5gg(g,y,b,_,a[k+1],5,-165796510),_=p.md5gg(_,g,y,b,a[k+6],9,-1069501632),b=p.md5gg(b,_,g,y,a[k+11],14,643717713),y=p.md5gg(y,b,_,g,a[k],20,-373897302),g=p.md5gg(g,y,b,_,a[k+5],5,-701558691),_=p.md5gg(_,g,y,b,a[k+10],9,38016083),b=p.md5gg(b,_,g,y,a[k+15],14,-660478335),y=p.md5gg(y,b,_,g,a[k+4],20,-405537848),g=p.md5gg(g,y,b,_,a[k+9],5,568446438),_=p.md5gg(_,g,y,b,a[k+14],9,-1019803690),b=p.md5gg(b,_,g,y,a[k+3],14,-187363961),y=p.md5gg(y,b,_,g,a[k+8],20,1163531501),g=p.md5gg(g,y,b,_,a[k+13],5,-1444681467),_=p.md5gg(_,g,y,b,a[k+2],9,-51403784),b=p.md5gg(b,_,g,y,a[k+7],14,1735328473),y=p.md5gg(y,b,_,g,a[k+12],20,-1926607734),g=p.md5hh(g,y,b,_,a[k+5],4,-378558),_=p.md5hh(_,g,y,b,a[k+8],11,-2022574463),b=p.md5hh(b,_,g,y,a[k+11],16,1839030562),y=p.md5hh(y,b,_,g,a[k+14],23,-35309556),g=p.md5hh(g,y,b,_,a[k+1],4,-1530992060),_=p.md5hh(_,g,y,b,a[k+4],11,1272893353),b=p.md5hh(b,_,g,y,a[k+7],16,-155497632),y=p.md5hh(y,b,_,g,a[k+10],23,-1094730640),g=p.md5hh(g,y,b,_,a[k+13],4,681279174),_=p.md5hh(_,g,y,b,a[k],11,-358537222),b=p.md5hh(b,_,g,y,a[k+3],16,-722521979),y=p.md5hh(y,b,_,g,a[k+6],23,76029189),g=p.md5hh(g,y,b,_,a[k+9],4,-640364487),_=p.md5hh(_,g,y,b,a[k+12],11,-421815835),b=p.md5hh(b,_,g,y,a[k+15],16,530742520),y=p.md5hh(y,b,_,g,a[k+2],23,-995338651),g=p.md5ii(g,y,b,_,a[k],6,-198630844),_=p.md5ii(_,g,y,b,a[k+7],10,1126891415),b=p.md5ii(b,_,g,y,a[k+14],15,-1416354905),y=p.md5ii(y,b,_,g,a[k+5],21,-57434055),g=p.md5ii(g,y,b,_,a[k+12],6,1700485571),_=p.md5ii(_,g,y,b,a[k+3],10,-1894986606),b=p.md5ii(b,_,g,y,a[k+10],15,-1051523),y=p.md5ii(y,b,_,g,a[k+1],21,-2054922799),g=p.md5ii(g,y,b,_,a[k+8],6,1873313359),_=p.md5ii(_,g,y,b,a[k+15],10,-30611744),b=p.md5ii(b,_,g,y,a[k+6],15,-1560198380),y=p.md5ii(y,b,_,g,a[k+13],21,1309151649),g=p.md5ii(g,y,b,_,a[k+4],6,-145523070),_=p.md5ii(_,g,y,b,a[k+11],10,-1120210379),b=p.md5ii(b,_,g,y,a[k+2],15,718787259),y=p.md5ii(y,b,_,g,a[k+9],21,-343485551),g=p.safeAdd(g,o),y=p.safeAdd(y,l),b=p.safeAdd(b,c),_=p.safeAdd(_,d);return[g,y,b,_]},p.binl2rstr=function(a){for(var n="",o=a.length*32,l=0;l<o;l+=8)n+=String.fromCharCode(a[l>>5]>>>l%32&255);return n},p.rstr2binl=function(a){var n=[];n[(a.length>>2)-1]=void 0;for(var o=0;o<n.length;o+=1)n[o]=0;for(var l=a.length*8,o=0;o<l;o+=8)n[o>>5]|=(a.charCodeAt(o/8)&255)<<o%32;return n},p.rstrMD5=function(a){return p.binl2rstr(p.binlMD5(p.rstr2binl(a),a.length*8))},p.rstrHMACMD5=function(a,n){var o=p.rstr2binl(a),l=[],c=[];l[15]=void 0,c[15]=void 0,o.length>16&&(o=p.binlMD5(o,a.length*8));for(var d=0;d<16;d+=1)l[d]=o[d]^909522486,c[d]=o[d]^1549556828;var g=p.binlMD5(l.concat(p.rstr2binl(n)),512+n.length*8);return p.binl2rstr(p.binlMD5(c.concat(g),512+128))},p.rstr2hex=function(a){var n="0123456789abcdef",o="",l=null,c;for(c=0;c<a.length;c+=1)l=a.charCodeAt(c),o+=n.charAt(l>>>4&15)+n.charAt(l&15);return o},p.str2rstrUTF8=function(a){return unescape(encodeURIComponent(a))},p.rawMD5=function(a){return p.rstrMD5(p.str2rstrUTF8(a))},p.hexMD5=function(a){return p.rstr2hex(p.rawMD5(a))},p.rawHMACMD5=function(a,n){return p.rstrHMACMD5(p.str2rstrUTF8(a),p.str2rstrUTF8(n))},p.hexHMACMD5=function(a,n){return p.rstr2hex(p.rawHMACMD5(a,n))},p.md5=function(a,n,o){return n===void 0&&(n=void 0),o===void 0&&(o=!1),n?o?p.rawHMACMD5(n,a):p.hexHMACMD5(n,a):o?p.rawMD5(a):p.hexMD5(a)},p}(),Rc=function(){function p(){}return p.isScrolledIntoView=function(a,n,o){n===void 0&&(n=1),o===void 0&&(o=0);var l=p.getViewTop(),c=this.getWindowHeight(),d=l+c,g=this.getOffsetTop(a),y=g;if(a.offsetHeight)y+=a.offsetHeight;else{var b=this.getParentBlockByClass(a,"mgline");b&&(y+=b.offsetHeight)}return o>0&&(y+=o),y-(1-n)*a.offsetHeight<=d&&g+(1-n)*a.offsetHeight>=l},p.onVisible=function(a,n,o,l,c,d){o===void 0&&(o=1),l===void 0&&(l=.5),c===void 0&&(c=0),d===void 0&&(d=0);var g=new IntersectionObserver(function(y){y.forEach(function(b){return n(Math.floor(b.intersectionRatio*100)>o*.9*100)})},{threshold:[l,o],rootMargin:"".concat(d,"px 0px ").concat(c,"px 0px")});return g.POLL_INTERVAL=100,g.observe(a),g},p.getOffsetTop=function(a){var n=a.getBoundingClientRect(),o=document.body,l=document.documentElement,c=window.pageYOffset||l.scrollTop||o.scrollTop,d=l.clientTop||o.clientTop||0,g=n.top+c-d;return Math.round(g)},p.getOffsetLeft=function(a){var n=a.getBoundingClientRect(),o=document.body,l=document.documentElement,c=window.pageXOffset||l.scrollLeft||o.scrollLeft,d=l.clientLeft||o.clientLeft||0,g=n.left+c-d;return Math.round(g)},p.getViewTop=function(){return window.pageYOffset||document.documentElement.scrollTop},p.getWindowHeight=function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},p.getParentBlockByClass=function(a,n){for(var o=a;o!==document&&o.parentNode;){if(o.className&&o.className.indexOf(n)>=0)return o;o=o.parentNode}return null},p.getTeaserAlign=function(a,n){n===void 0&&(n=1);var o=document.body.scrollWidth,l=this.getRect(a,!0);return l.right*n<.3*o?"left":l.left*(1+(1-n))>=.7*o?"right":"center"},p.getRect=function(a,n){var o=a.getBoundingClientRect(),l={top:o.top,bottom:o.bottom,left:o.left,right:o.right,height:o.height?o.height:o.bottom-o.top,width:o.width?o.width:o.right-o.left};if(n){var c=this.getScroll();l.top+=c.top,l.bottom+=c.top,l.left+=c.left,l.right+=c.left}return l},p.getAtf=function(a){var n=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,o=this.getOffsetTop(a);return o<n},p.getScroll=function(){return{top:document.body.scrollTop||document.documentElement.scrollTop||0,left:document.body.scrollLeft||document.documentElement.scrollLeft||0}},p.removeClass=function(a,n){a&&typeof a.className<"u"&&(a.className=a.className.replace(new RegExp("(?:^|\\s)".concat(n),"g"),""))},p.addClass=function(a,n){var o=n;if(!(!a||typeof a.className>"u")){var l=a.className;l.indexOf(o)===-1&&(l!==""&&(o=" ".concat(o)),a.className=l+o)}},p.mergeObjects=function(a,n,o){var l=this;return o===void 0&&(o=!1),n&&Object.keys(n).forEach(function(c){o&&typeof n[c]=="object"&&n[c]!==null&&Object.prototype.hasOwnProperty.call(a,c)?Array.isArray(n[c])&&Array.isArray(a[c])?n[c].forEach(function(d,g){d!==null&&typeof d=="object"&&Object.prototype.hasOwnProperty.call(a[c],g)?a[c][g]=l.mergeObjects(a[c][g],d,!0):a[c][g]=d}):a[c]=l.mergeObjects(a[c],n[c],!0):a[c]=n[c]}),a},p.isEqual=function(a,n){var o=Object.getOwnPropertyNames(a),l=Object.getOwnPropertyNames(n);if(o.length!==l.length)return!1;for(var c=0;c<o.length;c++){var d=o[c];if(a[d]!==n[d])return!1}return!0},p.isChrome=function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)},p.isSafari=function(){return/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)},p.isIE=function(){return/MSIE\s|Trident\/|EDGE\//i.test(window.navigator.userAgent)},p.isFF=function(){return/firefox/i.test(window.navigator.userAgent)},p.iOSversion=function(){var a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=[];return a!=null?(n=[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3]||"0",10)],parseFloat(n.join("."))):!1},p.createImg=function(a,n,o){n===void 0&&(n=null),o===void 0&&(o=null);var l=new Image;o&&l.addEventListener("load",function(c){o(c)}),n&&l.addEventListener("error",function(c){n(c)}),l.src=a},p.createScriptAndRun=function(a,n){if(!document.getElementById(a)&&!window["mg".concat(a)]){var o=document.createElement("script");o.id=a,o.innerHTML="(function(){window.mg".concat(a," = function () { ").concat(n," };})();"),document.head.appendChild(o),window["mg".concat(a)]()}else window["mg".concat(a)]&&window["mg".concat(a)]()},p.repaintSafari=function(){if(this.isSafari()){var a=document.styleSheets;if(a){var n=a.length,o=void 0;for(o=0;o<n;o++)if(a[o].rules!==null){a[o].addRule(".mgReload","color: red;"),a[o].removeRule(a[o].rules.length-1);break}}}},p.setCustomEventListenerManager=function(){Bc.init()},p.isPortrait=function(){return window.matchMedia("(orientation: portrait)").matches},p.isLandscape=function(){return window.matchMedia("(orientation: landscape)").matches},p.fromAscii=function(a){var n=a.replace(/\\u([\d\w]{4})/gi,function(o,l){return String.fromCharCode(parseInt(l,16))});return n=n.replace(/\\"/g,'"').replace(/\\[nt]/g," "),n},p.getUrlParam=function(a){a===void 0&&(a="");var n=window.location!==window.parent.location?document.referrer:document.location.href;if(n===document.referrer)try{n=window.parent.location.href}catch{}if(a){var o=n.match(/\?\S+/);if(o){for(var l=o[0].substring(1).split("&"),c=0;c<l.length;c++)if(l[c].indexOf(a)!==-1){var d=l[c].split("=")[1];return d?decodeURIComponent(d):!0}}return!1}return n},p.getPlayerPos=function(a,n,o,l,c,d,g,y,b){var _;b===void 0&&(b=null);var k,M,E,K,W=n,Q=1,ie=n,J=b||document,ae=a.getBoundingClientRect(),ee;if(g&&J.querySelector(g)===a)ee={width:ae.width,height:ae.height,top:a.className.indexOf("mgbox")>-1?0:this.getOffsetTop(a),left:a.className.indexOf("mgbox")>-1?0:this.getOffsetLeft(a),single:!0,pHeight:0,pWidth:0};else if(g&&J.querySelector(g)){var Se=J.querySelector(g).getBoundingClientRect();ee={width:Se.width,height:Se.height,top:Se.top-ae.top,left:Se.left-ae.left,single:!0,pHeight:0,pWidth:0}}else{var me=a.querySelectorAll(".mgline");if(me&&me.length>0&&(me[ie]?k=me[ie].getBoundingClientRect():(ie=0,k=me[0].getBoundingClientRect())),M=k,E=k,me[ie]&&me[ie].clientWidth<301&&!y){for(var ye=ie+1;ye<me.length;ye++)if(me[ye]&&(K=me[ye].getBoundingClientRect(),M.right===k.right&&K.top===k.top&&(M=K,W=ye),E.top===k.top&&k.bottom<K.top)){E=K;break}}var xe=ie+o-1;if(o>1){me.length<xe-1&&(xe=me.length-1);for(var ye=xe;ye>W;ye--)if(me[ye]&&(K=me[ye].getBoundingClientRect(),K.top===k.top)){M=K;break}}if(l>1)for(var ye=0;ye<me.length&&l>Q;ye++)me[ye]&&(K=me[ye].getBoundingClientRect(),Math.floor(K.right)===Math.floor(k.right)&&K.bottom>k.bottom&&(E=K,Q+=1));ee={width:M.right-k.left,height:l===1?k.bottom-k.top:E.bottom-k.top,top:k.top-ae.top,left:k.left-ae.left,single:M.right===k.right,pHeight:0,pWidth:0},c==="bottom-right"&&me&&me.length>0&&(K=me[me.length-1].getBoundingClientRect(),ee.top=K.bottom-ee.height-ae.top,ee.left=K.right-ee.width-ae.left)}var _e=ee.width,Re=_e/(d.width/d.height||1.777);return Re>ee.height&&(Re=ee.height,_e=Re*(d.width/d.height||1.777)),_=this.adjustPlayerSize(_e,Re,d),_e=_[0],Re=_[1],ee.pHeight=Re,ee.pWidth=_e,ee.pWidth>ee.width&&(ee.width=ee.pWidth),ee.pHeight>ee.height&&(ee.height=ee.pHeight),ee},p.adjustPlayerSize=function(a,n,o){var l=[a,n],c=l[0],d=l[1];d=Math.floor(d)-2,d%2===1&&(d+=1);for(var g=d+8,y=c,b=d,_=1;d<=g;){d+=2,c=d*(o.width/o.height||1.777);var k=Math.floor(c);if(c-k<.2){c=k;break}if(c-k>.8){c=k+1;break}var M=c-k;M>.5&&(M=1-M,k+=1),_>M&&(_=M,y=k,b=d)}return d>g&&(c=y,d=b),[c,d]},p.formatTime=function(a){var n=Math.floor(a/60/60),o="";n===0?o="":n<10?o="0".concat(n,":"):o="".concat(n,":");var l=Math.floor(a/60),c=Math.floor(a%60);return"".concat(o).concat(l<10?"0":"").concat(l,":").concat(c<10?"0":"").concat(c)},p.parseTime=function(a){var n=new Date("1970-01-01T".concat(a,"Z"));return Math.trunc(n.getTime()/1e3)},p.getImgSizeByUrl=function(a){if(!a)return!1;var n=a.toString().match(/[?&]h=(\d+).*[?&]w=(\d+)/m);return n?{width:parseInt(n[2],10),height:parseInt(n[1],10)}:(n=a.toString().match(/[?&]w=(\d+).*[?&]h=(\d+)/m)||a.toString().match(/\/(\d+)x(\d+)\//m),n?{width:parseInt(n[1],10),height:parseInt(n[2],10)}:!1)},p.getElemWidth=function(a){var n=a.getBoundingClientRect();return n&&n.width?n.width:a.clientWidth||a.offsetWidth||a.parentNode.clientWidth||a.parentNode.offsetWidth},p.getElemHeight=function(a){var n=a.getBoundingClientRect();return n.height?n.height:a.clientHeight||a.offsetHeight||a.parentNode.clientHeight||a.parentNode.offsetHeight},p.checkIframe=function(a){try{var n=a.contentDocument||a.contentWindow.document;return n&&(!a.src||!p.getHostFromUrl(a.src))?n:!1}catch{return!1}},p.getHostFromUrl=function(a){try{return new URL(a).host}catch{return""}},p.getTranslated=function(a,n,o){var l=a.get("language","en");return a.get("lang.".concat(n,".").concat(l),a.get("libConfig.lang.".concat(n,".").concat(l)))||a.get("lang.".concat(n,".en"),a.get("libConfig.lang.".concat(n,".en"),o))},p.getCookie=function(a){var n=document.cookie.match(new RegExp("(?:^|; )".concat(a.replace(/([.$?*|{}()[\]\\/+^])/g,"\\$1"),"=([^;]*)")));return n?decodeURIComponent(n[1]):void 0},p.parseXml=function(a){var n;return window.DOMParser?n=new DOMParser().parseFromString(a,"text/xml"):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async=!1,n.loadXML(a)),n},p.getFromDocumentByTagName=function(a,n){var o,l="",c=a.getElementsByTagName(n);return c&&c[0]&&(l=((o=c[0].textContent)!==null&&o!==void 0?o:"").trim()),l},p.cyrb53=function(a,n){n===void 0&&(n=0);for(var o=3735928559^n,l=1103547991^n,c=0,d=void 0;c<a.length;c++)d=a.charCodeAt(c),o=Math.imul(o^d,2654435761),l=Math.imul(l^d,1597334677);return o=Math.imul(o^o>>>16,2246822507)^Math.imul(l^l>>>13,3266489909),l=Math.imul(l^l>>>16,2246822507)^Math.imul(o^o>>>13,3266489909),(4294967296*(2097151&l)+(o>>>0)).toString()},p.md5=function(a){return Oc.md5(a)},p.getConsentData=function(){if(!this.consentObject.consentData)try{if(this.getMostTopWindow().localStorage){var a=JSON.parse(this.getMostTopWindow().localStorage.getItem("MG_ConsentData"));a!=null&&typeof a.gdprApplies<"u"&&typeof a.consentData<"u"&&(a.gdprApplies&&(this.consentObject.gdpr=!0),this.consentObject.consentData=a.consentData),a=JSON.parse(this.getMostTopWindow().localStorage.getItem("MG_tcfv2Data")),a!=null&&typeof a.gdprApplies<"u"&&typeof a.tcString<"u"&&(a.gdprApplies&&(this.consentObject.gdpr=!0),this.consentObject.consentData=a.tcString)}}catch{}return this.consentObject},p.replaceAll=function(a,n,o){return a.split(n).join(o)},p.getMostTopWindow=function(){if(!this.topWindow){for(var a=window;a!==a.parent;)try{var n=a.parent.document.body;a=a.parent}catch{break}this.topWindow=a}return this.topWindow},p.getMostTopWindowUrl=function(){var a=p.getMostTopWindow();return p.isAMP()?a?.context.canonicalUrl:a.location.href},p.getMostTopWindowReferrer=function(){var a=p.getMostTopWindow();return p.isAMP()?a?.context.referrer.length?a?.context.referrer:new URL(p.getMostTopWindowUrl()).host:a.document.referrer.length?a.document.referrer:a.location.host},p.isAMP=function(){var a,n=p.getMostTopWindow();return(a=n?.ampSeen)!==null&&a!==void 0?a:!1},p.parseUrl=function(a){var n=new RegExp(/(http|https):\/\/([\w_-]+(?:(?:\.[\w_-]+)+))([\w.,@^=%&\\/~+#-]*)/),o=n.exec(decodeURI(a));return o?o[0]:null},p.callScriptURL=function(){var a,n=new Error,o=((a=n.stack)!==null&&a!==void 0?a:"").trim().split(".js?r=");if(o){var l=o[o.length-1];return p.parseUrl(l)}return null},p.getPageScriptsList=function(){var a=Array.from(document.getElementsByTagName("script")),n=[];return n.push(window.location.href.split("?")[0]),a.forEach(function(o){o.src&&n.push(p.parseUrl(o.src))}),n},p.getDntVal=function(){var a=typeof navigator.doNotTrack<"u"?navigator.doNotTrack:typeof window.doNotTrack<"u"?window.doNotTrack:typeof navigator.msDoNotTrack<"u"?navigator.msDoNotTrack:null;return parseInt(a,10)===1||a==="yes"?"1":"0"},p.getCcpa=function(){var a=null;try{a=p.getCookie("usprivacy")||p.getMostTopWindow().localStorage.MG_uspString}catch{}return a},p.prepareAdSourceMacroses=function(a){if(a.indexOf("{")===-1)return a;var n=p.replaceAll(a,"{dnt}",p.getDntVal());return n=p.replaceAll(n,"{url}",encodeURIComponent(p.getMostTopWindowUrl())),n=p.replaceAll(n,"{referer_url}",encodeURIComponent(p.getMostTopWindowReferrer())),n=p.replaceAll(n,"{ccpa}",p.getCcpa()||"1---"),n=p.replaceAll(n,"{gdpr_consent}",p.getConsentData().consentData),n=p.attachRequestParams(n),n},p.tryCorrectZeroSizes=function(a,n,o){n<1&&o<1&&(n=p.getElemWidth(a),o=p.getElemHeight(a));var l=16/9;return n<1&&o>=1?n=o*l:o<1&&n>=1&&(o=n/l),{width:n,height:o}},p.vitalCall=function(a,n){if(a&&typeof a=="function")n?setTimeout(function(){return a()},0):a();else throw new Error("callback must be a function")},p.replaceAdSource=function(a,n){var o=a.replace("vpaid","vast");return o=o.replace(/\?.*/,"").concat("?mgwteaser=",n),o},p.initClientHintData=function(a){var n;(n=p.getMostTopWindow().navigator.userAgentData)===null||n===void 0||n.getHighEntropyValues(Object.keys(p.userAgentDataParams)).then(function(o){Object.keys(o).forEach(function(l){var c=o[l],d="";typeof c=="object"&&(d=c.map(function(g){return'"'.concat(g.brand,'";v="').concat(g.version,'"')}).join(", ")),typeof c=="boolean"&&(d=c?"?1":"?0"),typeof c=="string"&&c.length&&(d=c),Array.isArray(c)&&c.length&&(d=c.reduce(function(g,y,b,_){return"".concat(g,'"').concat(y.brand,'";v="').concat(y.version,'"')+"".concat(b!==_.length-1?", ":"")},"")),p.requestParams[p.userAgentDataParams[l]]=encodeURIComponent(d)}),typeof a=="function"&&a()})},p.attachRequestParams=function(a){var n=new URL(a);Object.entries(p.requestParams).forEach(function(l){var c=l[0],d=l[1];n.searchParams.append(c,d.toString())});var o=n.href;return o=p.replaceAll(o,"%7B","{"),o=p.replaceAll(o,"%7D","}"),o},p.requestParams={},p.consentObject={consentData:"",gdpr:!1},p.userAgentDataParams={architecture:"scua",bitness:"scub",brands:"scu",fullVersionList:"scufvl",mobile:"scum",model:"scumd",platform:"scup",platformVersion:"scupv",uaFullVersion:"scufv",wow64:"scuw"},p}();qi.Helpers=Rc;function Mc(p,a,n){n===void 0&&(n=null);var o=p;return a.forEach(function(l){o&&Object.prototype.hasOwnProperty.call(o,l)?o=o[l]:o=n}),o}qi.getInObject=Mc;Math.imul||(Math.imul=function(p,a){var n=p>>>16&65535,o=p&65535,l=a>>>16&65535,c=a&65535;return o*c+(n*c+o*l<<16>>>0)|0})});var Qn=Ie(ja=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty(ja,"__esModule",{value:!0});ja.Script=void 0;var Wc=Gi(),Kn=ze(),Hc=function(){function p(){}return p.init=function(a){var n=this,o=new Wc.Loader((0,Kn.getInObject)(a,["mgRec","config","extLibraries"],{}),function(){n.addCustomScripts(a)},"".concat((0,Kn.getInObject)(a,["mgRec","cid"],0),"_").concat(a.getWidgets().length));o.checkLoaded()},p.addCustomScripts=function(a){for(var n=a.block.querySelectorAll("script"),o="".concat(a.mgRec.cid,"_").concat(a.getWidgets().length),l=0;l<n.length;l++){var c=document.getElementById("Custom_".concat(o,"_").concat(l));if(!c){var d=document.createElement("script");d.innerHTML=n[l].innerHTML,d.id="Custom_".concat(o,"_").concat(l),document.head.appendChild(d)}}},p}();ja.Script=Hc});var dr=Ie((ag,mi)=>{N();V();U();j();z();$();Z();function cr(p){return mi.exports=cr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},mi.exports.__esModule=!0,mi.exports.default=mi.exports,cr(p)}mi.exports=cr,mi.exports.__esModule=!0,mi.exports.default=mi.exports});var to=Ie((sg,ha)=>{N();V();U();j();z();$();Z();var eo=dr().default;function Nc(p,a){if(eo(p)!=="object"||p===null)return p;var n=p[Symbol.toPrimitive];if(n!==void 0){var o=n.call(p,a||"default");if(eo(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(p)}ha.exports=Nc,ha.exports.__esModule=!0,ha.exports.default=ha.exports});var io=Ie((rg,ua)=>{N();V();U();j();z();$();Z();var Vc=dr().default,Gc=to();function qc(p){var a=Gc(p,"string");return Vc(a)==="symbol"?a:String(a)}ua.exports=qc,ua.exports.__esModule=!0,ua.exports.default=ua.exports});var ao=Ie((ng,ma)=>{N();V();U();j();z();$();Z();var Uc=io();function jc(p,a,n){return a=Uc(a),a in p?Object.defineProperty(p,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):p[a]=n,p}ma.exports=jc,ma.exports.__esModule=!0,ma.exports.default=ma.exports});var ro=Ie((og,fa)=>{N();V();U();j();z();$();Z();var Fc=ao();function so(p,a){var n=Object.keys(p);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(p);a&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(p,l).enumerable})),n.push.apply(n,o)}return n}function zc(p){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?so(Object(n),!0).forEach(function(o){Fc(p,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(n)):so(Object(n)).forEach(function(o){Object.defineProperty(p,o,Object.getOwnPropertyDescriptor(n,o))})}return p}fa.exports=zc,fa.exports.__esModule=!0,fa.exports.default=fa.exports});var co=Ie(fi=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty(fi,"__esModule",{value:!0});var $c=ro();function Yc(p){return p&&typeof p=="object"&&"default"in p?p:{default:p}}var no=Yc($c);function Dt(p){return"Minified Redux error #"+p+"; visit https://redux.js.org/Errors?code="+p+" for the full message or use the non-minified dev environment for full errors. "}var oo=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),hr=function(){return Math.random().toString(36).substring(7).split("").join(".")},ga={INIT:"@@redux/INIT"+hr(),REPLACE:"@@redux/REPLACE"+hr(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+hr()}};function Zc(p){if(typeof p!="object"||p===null)return!1;for(var a=p;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(p)===a}function ur(p,a,n){var o;if(typeof a=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Dt(0));if(typeof a=="function"&&typeof n>"u"&&(n=a,a=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Dt(1));return n(ur)(p,a)}if(typeof p!="function")throw new Error(Dt(2));var l=p,c=a,d=[],g=d,y=!1;function b(){g===d&&(g=d.slice())}function _(){if(y)throw new Error(Dt(3));return c}function k(W){if(typeof W!="function")throw new Error(Dt(4));if(y)throw new Error(Dt(5));var Q=!0;return b(),g.push(W),function(){if(!!Q){if(y)throw new Error(Dt(6));Q=!1,b();var J=g.indexOf(W);g.splice(J,1),d=null}}}function M(W){if(!Zc(W))throw new Error(Dt(7));if(typeof W.type>"u")throw new Error(Dt(8));if(y)throw new Error(Dt(9));try{y=!0,c=l(c,W)}finally{y=!1}for(var Q=d=g,ie=0;ie<Q.length;ie++){var J=Q[ie];J()}return W}function E(W){if(typeof W!="function")throw new Error(Dt(10));l=W,M({type:ga.REPLACE})}function K(){var W,Q=k;return W={subscribe:function(J){if(typeof J!="object"||J===null)throw new Error(Dt(11));function ae(){J.next&&J.next(_())}ae();var ee=Q(ae);return{unsubscribe:ee}}},W[oo]=function(){return this},W}return M({type:ga.INIT}),o={dispatch:M,subscribe:k,getState:_,replaceReducer:E},o[oo]=K,o}var Xc=ur;function Jc(p){Object.keys(p).forEach(function(a){var n=p[a],o=n(void 0,{type:ga.INIT});if(typeof o>"u")throw new Error(Dt(12));if(typeof n(void 0,{type:ga.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Dt(13))})}function Kc(p){for(var a=Object.keys(p),n={},o=0;o<a.length;o++){var l=a[o];typeof p[l]=="function"&&(n[l]=p[l])}var c=Object.keys(n),d,g;try{Jc(n)}catch(y){g=y}return function(b,_){if(b===void 0&&(b={}),g)throw g;if(!1)var k;for(var M=!1,E={},K=0;K<c.length;K++){var W=c[K],Q=n[W],ie=b[W],J=Q(ie,_);if(typeof J>"u"){var ae=_&&_.type;throw new Error(Dt(14))}E[W]=J,M=M||J!==ie}return M=M||c.length!==Object.keys(b).length,M?E:b}}function lo(p,a){return function(){return a(p.apply(this,arguments))}}function Qc(p,a){if(typeof p=="function")return lo(p,a);if(typeof p!="object"||p===null)throw new Error(Dt(16));var n={};for(var o in p){var l=p[o];typeof l=="function"&&(n[o]=lo(l,a))}return n}function po(){for(var p=arguments.length,a=new Array(p),n=0;n<p;n++)a[n]=arguments[n];return a.length===0?function(o){return o}:a.length===1?a[0]:a.reduce(function(o,l){return function(){return o(l.apply(void 0,arguments))}})}function ed(){for(var p=arguments.length,a=new Array(p),n=0;n<p;n++)a[n]=arguments[n];return function(o){return function(){var l=o.apply(void 0,arguments),c=function(){throw new Error(Dt(15))},d={getState:l.getState,dispatch:function(){return c.apply(void 0,arguments)}},g=a.map(function(y){return y(d)});return c=po.apply(void 0,g)(l.dispatch),no.default(no.default({},l),{},{dispatch:c})}}}fi.__DO_NOT_USE__ActionTypes=ga;fi.applyMiddleware=ed;fi.bindActionCreators=Qc;fi.combineReducers=Kc;fi.compose=po;fi.createStore=ur;fi.legacy_createStore=Xc});var Xe=Ie(Ae=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty(Ae,"__esModule",{value:!0});Ae.deleteProperty=Ae.setPlayerInSight=Ae.setPlayerSticky=Ae.setPopupVisible=Ae.setPlayerTeaserPosition=Ae.setPlayerMouseOver=Ae.setPlayerExpanded=Ae.setPlayerMuted=Ae.setPlayerInit=Ae.setPlayerVisible=Ae.setPlayerStatus=Ae.upsertPlayerState=Ae.upsertTeaser=Ae.setWidgetBlurred=Ae.setWidgetInSight=Ae.setAdInSight=Ae.setAdEnabled=Ae.setAdMuted=Ae.setAdInit=Ae.setAdVisible=Ae.setAdStatus=Ae.upsertAdState=Ae.setFormatConfig=Ae.setTriggerToTrue=Ae.setTriggerToFalse=Ae.setTriggerToFalseGlobal=Ae.upsertGlobalState=Ae.upsertState=Ae.setState=void 0;function td(p){return{type:"SET_STATE",state:p}}Ae.setState=td;function id(p){return{type:"UPSERT_STATE",state:p}}Ae.upsertState=id;function ad(p){return{type:"UPSERT_GLOBAL_STATE",state:p}}Ae.upsertGlobalState=ad;function sd(p){return{type:"TRIGGER_TO_FALSE_GLOBAL",value:p}}Ae.setTriggerToFalseGlobal=sd;function rd(p){return{type:"TRIGGER_TO_FALSE",state:p}}Ae.setTriggerToFalse=rd;function nd(p){return{type:"TRIGGER_TO_TRUE",state:p}}Ae.setTriggerToTrue=nd;function od(p){return{type:"FORMAT_CONFIG",state:p}}Ae.setFormatConfig=od;function ld(p){return{type:"AD_STATE",state:p}}Ae.upsertAdState=ld;function pd(p,a){var n;return a===void 0&&(a="ad"),{type:"AD_STATUS",state:(n={},n[a]={status:p},n)}}Ae.setAdStatus=pd;function cd(p,a){var n;return a===void 0&&(a="ad"),{type:"AD_VISIBLE",state:(n={},n[a]={visible:p},n)}}Ae.setAdVisible=cd;function dd(p,a){var n;return a===void 0&&(a="ad"),{type:"AD_INIT",state:(n={},n[a]={init:p},n)}}Ae.setAdInit=dd;function hd(p){return{type:"AD_MUTE",state:p}}Ae.setAdMuted=hd;function ud(p){return{type:"AD_ENABLED",state:p}}Ae.setAdEnabled=ud;function md(p){return{type:"AD_IN_SIGHT",state:p}}Ae.setAdInSight=md;function fd(p){return{type:"WIDGET_IN_SIGHT",state:p}}Ae.setWidgetInSight=fd;function gd(p){return{type:"WIDGET_BLURRED",state:p}}Ae.setWidgetBlurred=gd;function yd(p){return{type:"UPSERT_TEASER",state:p}}Ae.upsertTeaser=yd;function vd(p){return{type:"PLAYER_STATE",state:p}}Ae.upsertPlayerState=vd;function bd(p){return{type:"PLAYER_STATUS",state:p}}Ae.setPlayerStatus=bd;function xd(p){return{type:"PLAYER_VISIBLE",state:p}}Ae.setPlayerVisible=xd;function wd(p){return{type:"PLAYER_INIT",state:p}}Ae.setPlayerInit=wd;function Td(p){return{type:"PLAYER_MUTE",state:p}}Ae.setPlayerMuted=Td;function Sd(p){return{type:"PLAYER_EXPANDED",state:p}}Ae.setPlayerExpanded=Sd;function _d(p){return{type:"PLAYER_MOUSE_OVER",state:p}}Ae.setPlayerMouseOver=_d;function Cd(p){return{type:"PLAYER_TEASER_POSITION",state:p}}Ae.setPlayerTeaserPosition=Cd;function kd(p){return{type:"POPUP_VISIBLE",state:p}}Ae.setPopupVisible=kd;function Dd(p){return{type:"PLAYER_STICKY",state:p}}Ae.setPlayerSticky=Dd;function Id(p){return{type:"PLAYER_IN_SIGHT",state:p}}Ae.setPlayerInSight=Id;function Ed(p){return{type:"DELETE_PROPERTY",state:p}}Ae.deleteProperty=Ed});var uo=Ie(Bi=>{"use strict";N();V();U();j();z();$();Z();var De=Bi&&Bi.__assign||function(){return De=Object.assign||function(p){for(var a,n=1,o=arguments.length;n<o;n++){a=arguments[n];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(p[l]=a[l])}return p},De.apply(this,arguments)};Object.defineProperty(Bi,"__esModule",{value:!0});Bi.pathToArray=void 0;var Pd=ze(),Ad={};function fr(p){var a=p;return typeof a=="string"?a=a.split("."):Array.isArray(a)||(a=a.getPath()),a}Bi.pathToArray=fr;function Si(p,a){return Pd.Helpers.mergeObjects(p,a,!0)}function ho(p,a){return a.length===1?delete p[a[0]]:Object.prototype.hasOwnProperty.call(p,a[0])&&(typeof p[a[0]]!="object"?delete p[a[0]]:p[a[0]]=ho(p[a[0]],a.slice(1))),p}function mr(p,a,n){for(var o=fr(a),l=o.length-1,c=0;c<l;++c){var d=o[c];d in p||(p[d]={}),p=p[d]}p[o[l]]=n}function Ld(p,a){return De(De({},p),{formatConfig:a})}function Bd(p,a){return De(De({},p),{ad:De(De({},p.ad),{muted:a})})}function Od(p,a){return De(De({},p),{ad:De(De({},p.ad),{enabled:a})})}function Rd(p,a){return De(De({},p),{ad:De(De({},p.ad),{inSight:a})})}function Md(p,a){return De(De({},p),{widget:De(De({},p.widget),{inSight:a})})}function Wd(p,a){return De(De({},p),{widget:De(De({},p.widget),{blurred:a})})}function Hd(p,a){return De(De({},p),{player:De(De({},p.player),{status:a})})}function Nd(p,a){return De(De({},p),{player:De(De({},p.player),{visible:a})})}function Vd(p,a){return De(De({},p),{player:De(De({},p.player),{init:a})})}function Gd(p,a){return De(De({},p),{player:De(De({},p.player),{muted:a})})}function qd(p,a){return De(De({},p),{player:De(De({},p.player),{expanded:a})})}function Ud(p,a){return De(De({},p),{player:De(De({},p.player),{mouseOver:a})})}function jd(p,a){return De(De({},p),{player:De(De({},p.player),{teaserPosition:a})})}function Fd(p,a){return De(De({},p),{popup:De(De({},p.popup),{visible:a})})}function zd(p,a){return De(De({},p),{player:De(De({},p.player),{isSticky:a})})}function $d(p,a){return De(De({},p),{player:De(De({},p.player),{inSight:a})})}function Yd(p,a){return ho(p,fr(a))}function Zd(p,a){p===void 0&&(p=Ad);var n=a.type,o=a.value,l=a.ambyNamespace,c=JSON.parse(JSON.stringify(p));if(!l&&["TRIGGER_TO_FALSE_GLOBAL","UPSERT_GLOBAL_STATE"].indexOf(n)===-1)return c;var d=c[l];switch(d===void 0&&(d={}),n){case"SET_STATE":d=JSON.parse(JSON.stringify(o));break;case"UPSERT_STATE":d=Si(d,o);break;case"UPSERT_GLOBAL_STATE":c=Si(c,o);break;case"TRIGGER_TO_FALSE_GLOBAL":mr(c,o,!1);break;case"TRIGGER_TO_FALSE":mr(d,o,!1);break;case"TRIGGER_TO_TRUE":mr(d,o,!0);break;case"FORMAT_CONFIG":d=Ld(d,o);break;case"AD_STATE":{d=Si(d,{ad:o});break}case"AD_STATUS":d=Si(d,o);break;case"AD_VISIBLE":d=Si(d,o);break;case"AD_INIT":d=Si(d,o);break;case"AD_MUTE":d=Bd(d,o);break;case"AD_ENABLED":d=Od(d,o);break;case"AD_IN_SIGHT":d=Rd(d,o);break;case"WIDGET_IN_SIGHT":d=Md(d,o);break;case"WIDGET_BLURRED":d=Wd(d,o);break;case"UPSERT_TEASER":{var g=[];g[o.index]=o.teaser,d=Si(d,{teasers:g});break}case"PLAYER_STATE":{d=Si(d,{player:o});break}case"PLAYER_STATUS":d=Hd(d,o);break;case"PLAYER_VISIBLE":d=Nd(d,o);break;case"PLAYER_INIT":d=Vd(d,o);break;case"PLAYER_MUTE":d=Gd(d,o);break;case"PLAYER_EXPANDED":d=qd(d,o);break;case"PLAYER_MOUSE_OVER":d=Ud(d,o);break;case"PLAYER_TEASER_POSITION":d=jd(d,o);break;case"POPUP_VISIBLE":d=Fd(d,o);break;case"PLAYER_STICKY":d=zd(d,o);break;case"PLAYER_IN_SIGHT":d=$d(d,o);break;case"DELETE_PROPERTY":d=Yd(d,o);break}return c[l]=d,c}Bi.default=Zd});var wa=Ie(yt=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty(yt,"__esModule",{value:!0});yt.clearListeners=yt.removeTriggerListener=yt.addTriggerListener=yt.removeSubListener=yt.addSubListener=yt.mainListener=yt.store=void 0;var Xd=co(),ya=ze(),fo=Xe(),xa=uo(),mo,va=[],ba=[],gr={},Jd=ya.Helpers.getMostTopWindowUrl().indexOf("mgwdebug")>-1;yt.store=(0,Xd.createStore)(xa.default,Jd?window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__():void 0);function go(){var p={},a=yt.store.getState(),n=mo;mo=a,va.forEach(function(o){var l=(0,ya.getInObject)(n,o.path),c=(0,ya.getInObject)(a,o.path);l!==c&&o.subListener(n)}),ba.forEach(function(o){var l=(0,ya.getInObject)(n,o.path,!1),c=(0,ya.getInObject)(a,o.path);c&&l!==c&&!gr[o.path.join(".")]&&(gr[o.path.join(".")]=o.path,p[o.path.join(".")]=o.path,o.subListener(n),delete gr[o.path.join(".")])}),Object.keys(p).forEach(function(o){yt.store.dispatch((0,fo.setTriggerToFalseGlobal)(p[o]))})}yt.mainListener=go;yt.store.subscribe(function(){go()});function Kd(p,a){var n=(0,xa.pathToArray)(p);va.push({path:n,subListener:a})}yt.addSubListener=Kd;function Qd(p,a){var n=(0,xa.pathToArray)(p);va.forEach(function(o,l){o.path.join(".")===n.join(".")&&o.subListener===a&&va.splice(l,1)})}yt.removeSubListener=Qd;function eh(p,a){var n=(0,xa.pathToArray)(p);yt.store.dispatch((0,fo.setTriggerToFalseGlobal)(n)),ba.push({path:n,subListener:a})}yt.addTriggerListener=eh;function th(p,a){var n=(0,xa.pathToArray)(p);ba.forEach(function(o,l){o.path.join(".")===n.join(".")&&o.subListener===a&&ba.splice(l,1)})}yt.removeTriggerListener=th;function ih(){va=[],ba=[]}yt.clearListeners=ih});var ot=Ie(Yt=>{"use strict";N();V();U();j();z();$();Z();var Ui=Yt&&Yt.__spreadArray||function(p,a,n){if(n||arguments.length===2)for(var o=0,l=a.length,c;o<l;o++)(c||!(o in a))&&(c||(c=Array.prototype.slice.call(a,0,o)),c[o]=a[o]);return p.concat(c||Array.prototype.slice.call(a))};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.createAmby=Yt.proxyTree=Yt.vpaidModes=Yt.states=void 0;var yo=ze(),Gt=wa();Yt.states={STATUS_PLAYING:"playing",STATUS_PAUSED:"paused",STATUS_READY:"ready",STATUS_STOPPED:"stopped",STATUS_ERROR:"error",STATUS_INIT:"init",INIT_NEEDED:"needed",INIT_DONE:"done",INIT_RESET:"reset",INIT_IN_PROGRESS:"progress",INIT_STOP:"stop"};Yt.vpaidModes={INSECURE:"insecure",SECURE:"secure"};(function(p){p.Proxy||(p.Proxy=function(){function a(n,o){this.handlers=o,this.ambyNamespace=""}return a.prototype.dispatch=function(n){return this.handlers.get(null,"dispatch")(n)},a.prototype.subscribe=function(n){return this.handlers.get(null,"subscribe")(n)},a.prototype.get=function(n,o){return this.handlers.get(null,"get")(n,o)},a.prototype.putNS=function(n){return this.handlers.get(null,"putNS")(n)},a.prototype.getNS=function(){return this.handlers.get(null,"getNS")()},a.prototype.addSubListener=function(n,o){return this.handlers.get(null,"addSubListener")(n,o)},a.prototype.addTriggerListener=function(n,o){return this.handlers.get(null,"addTriggerListener")(n,o)},a}())})(typeof process<"u"&&{}.toString.call(process)==="[object process]"?global:self);function vo(){var p="";function a(n){return new Proxy({},{get:function(o,l){if(n.length===0){if(l==="dispatch")return function(c){return Gt.store.dispatch({type:c.type,value:c.state,ambyNamespace:p})};if(l==="subscribe")return function(c){return Gt.store.subscribe({handler:c,ambyNamespace:p})};if(l==="get")return function(c,d){if(typeof c>"u")return Gt.store.getState();var g=c.split(".");return g.forEach(function(y,b){parseInt(y,10).toString()===y&&(g[b]=parseInt(y,10))}),(0,yo.getInObject)(Gt.store.getState()[p],g,d)};if(l==="getNS")return function(){return p};if(l==="putNS")return function(c){p=c};if(l==="addSubListener")return function(c,d){typeof c=="string"?(0,Gt.addSubListener)("".concat(p,".").concat(c),d):(0,Gt.addSubListener)(Ui([p],c,!0),d)};if(l==="removeSubListener")return function(c,d){typeof c=="string"?(0,Gt.removeSubListener)("".concat(p,".").concat(c),d):(0,Gt.removeSubListener)(Ui([p],c,!0),d)};if(l==="addTriggerListener")return function(c,d){typeof c=="string"?(0,Gt.addTriggerListener)("".concat(p,".").concat(c),d):(0,Gt.addTriggerListener)(Ui([p],c,!0),d)};if(l==="removeTriggerListener")return function(c,d){typeof c=="string"?(0,Gt.removeTriggerListener)("".concat(p,".").concat(c),d):(0,Gt.removeTriggerListener)(Ui([p],c,!0),d)}}else{if(l==="get")return function(c){return(0,yo.getInObject)(Gt.store.getState()[p],n,c)};if(l==="getPath")return function(){return n}}return a(Ui(Ui([],n,!0),[l],!1))}})}return a([])}Yt.proxyTree=vo;function ah(p){var a=vo();return a.putNS(p),a}Yt.createAmby=ah});var Ta=Ie(Fa=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty(Fa,"__esModule",{value:!0});Fa.DomManagerComponent=void 0;var sh=function(){function p(){this.listenedElems=[],this.observedDocuments=[]}return p.prototype.checkForIframes=function(a){var n=this;if(a.querySelectorAll){var o=a.querySelectorAll("iframe");o&&(o=Array.apply(null,o),o.forEach(function(l){n.checkIframe(l)}))}},p.prototype.getObserver=function(a,n){var o=this;if(n===void 0&&(n=window),n===null||!(a instanceof n.Node))return null;var l=new MutationObserver(function(c){c.forEach(function(d){if(d.type==="childList"&&d.addedNodes.length){var g=Array.apply(null,d.addedNodes);g.forEach(function(y){o.observerAction(y)})}})});return l.observe(a,{childList:!0,subtree:!0}),l},p.prototype.checkIframe=function(a){this.listenedElems.indexOf(a)<0&&(this.listenedElems.push(a),this.checkIframeAction(a))},p.prototype.getMediaElements=function(a){var n=this,o=[];if(a.querySelectorAll){var l=Array.from(a.querySelectorAll("*"));l.forEach(function(c){(c.tagName==="VIDEO"||c.tagName==="AUDIO")&&o.push(c),c.shadowRoot&&(o.push.apply(o,n.getMediaElements(c.shadowRoot)),n.observedDocuments.indexOf(c.shadowRoot)===-1&&(n.observedDocuments.push(c.shadowRoot),n.getObserver(c.shadowRoot,c.ownerDocument.defaultView),setTimeout(function(){n.checkForIframes(c.shadowRoot)})))})}return o},p.prototype.inMgPlayer=function(a){var n=a.ownerDocument.defaultView;if(n.inMgPlayer)return!0;for(var o=a;o.parentElement&&o.parentElement!==o;)if(o=o.parentElement,o.classList.contains("vrline")||o.className.indexOf("mgAdPlayerDiv")>-1)return!0;return!1},p}();Fa.DomManagerComponent=sh});var _a=Ie(ji=>{"use strict";N();V();U();j();z();$();Z();var rh=ji&&ji.__extends||function(){var p=function(a,n){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(o[c]=l[c])},p(a,n)};return function(a,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");p(a,n);function o(){this.constructor=a}a.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(ji,"__esModule",{value:!0});ji.NoSoundComponent=void 0;var nh=ze(),Sa=st(),oh=Ta(),lh=Xe(),ph=function(p){rh(a,p);function a(n,o){var l=p.call(this)||this,c=o.playerDiv,d=o.adName;return l.playerDiv=c,l.adName=d,l.amby=n,l.noiframe=n.get("formatConfig.noiframe",!0),l.getObserver(l.playerDiv),l.checkSound(l.playerDiv),l}return a.prototype.observerAction=function(n){var o=this;(n.tagName==="VIDEO"||n.tagName==="AUDIO")&&this.listenedElems.indexOf(n)===-1&&(this.listenedElems.push(n),this.muteVolume(n),n.addEventListener("volumechange",function(l){o.onVolumeChange(l)})),n.tagName==="IFRAME"&&this.checkIframe(n),this.checkSound(n)},a.prototype.checkIframeAction=function(n){var o=nh.Helpers.checkIframe(n);o?(this.getObserver(o,n.contentWindow),this.checkSound(o)):n.src.indexOf("imasdk.googleapis")===-1&&((0,Sa.mgDebug)("Iframe detected: src: ".concat(n.src)),this.noiframe&&n.parentNode&&(n.parentNode.removeChild(n),(0,Sa.mgDebug)("Iframe deleted: src: ".concat(n.src))))},a.prototype.checkSound=function(n){var o=this;if(n.querySelectorAll){var l=n.querySelectorAll("video, audio");l&&(l=Array.apply(null,l),l.forEach(function(c){c.classList.contains("mg2player__video")||(a.isPlaying(c)&&c.muted===!1&&o.amby.get("ad.initMuted",!0)&&!o.amby.get("ad.soundButtonClicked",!1)&&((0,Sa.mgDebug)("Prevent Unmute Video violation."),c.muted=!0),o.listenedElems.indexOf(c)===-1&&(o.listenedElems.push(c),c.addEventListener("volumechange",function(d){o.onVolumeChange(d)})))}))}this.checkForIframes(n)},a.prototype.onVolumeChange=function(n){var o=this;setTimeout(function(){n&&n.target&&!n.target.muted&&o.amby.get("ad.initMuted",!0)&&!o.amby.get("ad.soundButtonClicked",!1)&&((0,Sa.mgDebug)("Prevent Unmute violation."),n.target.muted=!0),o.amby.get("ad.soundButtonClicked",!1)&&o.amby.dispatch(lh.upsertAdState({soundButtonClicked:!1}))},0)},a.prototype.muteVolume=function(n){var o=this;setTimeout(function(){!n.muted&&o.amby.get("ad.initMuted",!0)&&((0,Sa.mgDebug)("Mute violation."),n.muted=!0)},0)},a.isPlaying=function(n){return n.currentTime>0&&!n.paused&&!n.ended&&n.readyState>2},a}(oh.DomManagerComponent);ji.NoSoundComponent=ph});var za=Ie(Fi=>{"use strict";N();V();U();j();z();$();Z();var ch=Fi&&Fi.__extends||function(){var p=function(a,n){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(o[c]=l[c])},p(a,n)};return function(a,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");p(a,n);function o(){this.constructor=a}a.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(Fi,"__esModule",{value:!0});Fi.UnmuteDetectComponent=void 0;var dh=Xe(),bo=ze(),hh=Ta(),uh=function(p){ch(a,p);function a(n){var o=p.call(this)||this;o.widget=n,o.amby=n.amby,o.listenedElems=[],o.observedDocuments=[],o.sentSources=[],o.addPlayingWithSoundProp();var l=o.getMediaElements(document.body);return l&&l.forEach(function(c){o.addListener(c)}),setTimeout(function(){o.checkForIframes(document.body),setTimeout(function(){o.observedDocuments.push(document),o.getObserver(document)})}),o}return a.prototype.observerAction=function(n){var o=this;if(n instanceof HTMLElement&&((n.tagName==="VIDEO"||n.tagName==="AUDIO")&&this.addListener(n),n.querySelectorAll)){var l=this.getMediaElements(n);l&&l.forEach(function(c){o.addListener(c)})}setTimeout(function(){o.checkForIframes(n.ownerDocument)})},a.prototype.getVideoObserver=function(){var n=this;return this.videoObserver||(this.videoObserver=new MutationObserver(function(o){o.forEach(function(l){n.checkMedia(l.target)})})),this.videoObserver},a.prototype.addListener=function(n){var o=this;this.listenedElems.indexOf(n)===-1&&(this.listenedElems.push(n),this.checkMedia(n),n.addEventListener("volumechange",function(l){o.checkMedia(l.target)}),this.getVideoObserver().observe(n,{attributes:!0,attributeFilter:["src"]}))},a.prototype.checkMedia=function(n){var o=n.currentSrc||n.src;o&&this.sentSources.indexOf(o)===-1&&!n.muted&&n.volume>0&&(this.sentSources.push(o),this.amby.dispatch(dh.upsertAdState({unmuteraw:!0,unmuteMediaSrc:n.currentSrc})))},a.prototype.checkIframeAction=function(n){var o=this,l=bo.Helpers.checkIframe(n);if(l&&this.observedDocuments.indexOf(l)===-1){this.inMgPlayer(n)&&(l.defaultView.inMgPlayer=!0),this.observedDocuments.push(l);var c=this.getMediaElements(l);c&&c.forEach(function(g){o.addListener(g)});var d=l.getRootNode();this.getObserver(d,n.contentWindow),setTimeout(function(){o.checkForIframes(l)})}},a.prototype.addPlayingWithSoundProp=function(){Object.defineProperty(HTMLMediaElement.prototype,"playingWithSound",{get:function(){return this.currentTime>0&&!this.paused&&!this.ended&&this.readyState>2&&!this.muted&&this.volume>0},configurable:!0})},a.prototype.getUnMutedElements=function(){var n=this,o=[];return this.listenedElems.forEach(function(l){if(l.playingWithSound){var c=l.ownerDocument.defaultView;o.push({src:l.currentSrc,isIFrame:c.self!==c.top,inMgPlayer:n.inMgPlayer(l),xPath:n.getXPath(l)})}}),o},a.prototype.getXPath=function(n){for(var o=this.getElementName(n),l=n;l.parentElement&&l.parentElement!==l;)l=l.parentElement,o="".concat(this.getElementName(l),">").concat(o);return o},a.prototype.getElementName=function(n){var o=n.tagName,l=n.id,c=n.classList.value.replaceAll(" ",",.");return l&&(o="".concat(o,"#").concat(l)),c&&(o="".concat(o,".").concat(c)),o},a.prototype.findIframes=function(n){var o=this,l=[];return n.querySelectorAll&&Array.from(n.querySelectorAll("*")).forEach(function(c){if(c.tagName==="IFRAME"&&c.src)c.src!=="about:blank"&&l.push(c.src);else if(c.tagName==="IFRAME"){var d=bo.Helpers.checkIframe(c);d&&Array.prototype.push.apply(l,o.findIframes(d))}else c.shadowRoot&&Array.prototype.push.apply(l,o.findIframes(c.shadowRoot))}),l},a}(hh.DomManagerComponent);Fi.UnmuteDetectComponent=uh});var yr=Ie($a=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty($a,"__esModule",{value:!0});$a.AniviewBase=void 0;var mh=st(),Ca=ze(),fh=function(){function p(a,n){this.amby=a.amby,this.ref1=n.ref1}return p.prototype.getRef1=function(){var a=this.amby.get("formatConfig.name");a==="attachedWidget"&&(a="outstream");var n="AV_CDIM1=".concat(this.amby.get("cappingData.dt","desktop"));try{n+="&AV_CUSTOM1=".concat(window.localStorage.mgMuidn)}catch(c){(0,mh.mgDebug)(c)}if(n+="&AV_CDIM2=".concat(this.amby.get("cappingData.isBot",0),"&AV_CDIM3=").concat(a)+"&AV_CDIM4=".concat(this.amby.get("sensorCid"),"&AV_CDIM5=").concat(this.amby.get("uuid"))+"&AV_CDIM6=".concat(this.amby.get("cappingData.iv",0))+"".concat(this.ref1?"&":"").concat(this.ref1||""),a==="native"){var o=this.getVideoExt(),l=this.amby.get("player.itemIndex",0);n+="&AV_CUSTOM2=".concat((0,Ca.getInObject)(o,["duration"],0))+"&AV_CUSTOM3=".concat(encodeURIComponent(this.amby.get("playlist.".concat(l,".title"))))+"&AV_CUSTOM4=".concat(p.getKrono((0,Ca.getInObject)(o,["duration"],0)))+"&AV_CUSTOM5=".concat(this.amby.get("formatConfig.sticky")?7:2)+"&AV_CUSTOM6=".concat(Ca.Helpers.iOSversion()?1:3)+"&AV_CUSTOM7=".concat((0,Ca.getInObject)(o,["gpmdCategory","cat1"],0))+"&AV_CUSTOM8=".concat((0,Ca.getInObject)(o,["gpmdCategory","cat2"],0))}return n},p.getKrono=function(a){var n=0;return[30,30,30,30,60,60,60,300,300,900,1800,1800,1800,1800].reduce(function(o,l,c){return a>o&&(n=c),o+l}),n},p.prototype.getVideoExt=function(){var a=this.amby.get("playlist.".concat(this.amby.get("player.itemIndex"),".videoExt"));return typeof a=="string"&&(a=JSON.parse(atob(a))),a||!1},p}();$a.AniviewBase=fh});var Ya=Ie(zi=>{"use strict";N();V();U();j();z();$();Z();var gh=zi&&zi.__extends||function(){var p=function(a,n){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(o[c]=l[c])},p(a,n)};return function(a,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");p(a,n);function o(){this.constructor=a}a.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(zi,"__esModule",{value:!0});zi.ProxyConsoleComponent=void 0;var vr=ze(),xo=st(),yh=Ta(),vh=function(p){gh(a,p);function a(n,o){var l=p.call(this)||this,c=o.playerDiv;return l.playerDiv=c,l.noiframe=n.get("formatConfig.noiframe",!0),l.hideConsoleMessages(),l.getObserver(l.playerDiv),l.checkForIframes(l.playerDiv),l}return a.prototype.hideConsoleMessages=function(){var n=vr.Helpers.getPageScriptsList();window.console=new Proxy(window.console,{get:function(o,l){if(typeof l!="string")return null;if(l==="isProxy")return!0;var c=vr.Helpers.callScriptURL(),d=["log","debug","table","error","warn","exception","info"];return c&&n.indexOf(c)===-1&&d.indexOf(l)>-1?function(){}:o[l]}})},a.prototype.checkIframeAction=function(n){if(vr.Helpers.checkIframe(n)){if(!n.contentWindow.console.isProxy)try{n.contentWindow.console=window.console}catch{}this.checkForIframes(n)}else n.src.indexOf("imasdk.googleapis")===-1&&((0,xo.mgDebug)("Iframe detected: src: ".concat(n.src)),this.noiframe&&n.parentNode&&(n.parentNode.removeChild(n),(0,xo.mgDebug)("Iframe deleted: src: ".concat(n.src))))},a.prototype.observerAction=function(n){n.tagName==="IFRAME"&&this.checkIframe(n),this.checkForIframes(n)},a}(yh.DomManagerComponent);zi.ProxyConsoleComponent=vh});var Xa=Ie($i=>{"use strict";N();V();U();j();z();$();Z();var bh=$i&&$i.__extends||function(){var p=function(a,n){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(o[c]=l[c])},p(a,n)};return function(a,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");p(a,n);function o(){this.constructor=a}a.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty($i,"__esModule",{value:!0});$i.AniViewComponent=void 0;var Ue=ot(),Le=Xe(),ii=ze(),Je=st(),xh=Gi(),wh=_a(),Th=za(),Sh=yr(),_h=Ya(),Za="mgAniViewLib",Ch=function(p){bh(a,p);function a(n,o){var l=p.call(this,n,o)||this;l.amby=n.amby;var c=o.name,d=c===void 0?"ad":c,g=o.publisherId,y=o.channelId,b=o.playerDivId,_=o.playerDiv,k=_===void 0?null:_,M=o.vastRetry,E=o.errorLimit,K=o.maxrun,W=o.waterfall,Q=o.logLevel,ie=o.timeout,J=o.soundButton,ae=o.pauseButton,ee=o.timeLine,Se=o.aniviewParams,me=o.nextAdTimeout,ye=o.skipoffset,xe=o.noCompleteTimeout,_e=o.verifiedSources,Re=o.initSize;return l.inited=!1,l.closed=!1,l.needToCreate=!1,l.name=d,l.playerDivId=b,l.rootElement=n.rootElement,l.playerDiv=k||l.rootElement.querySelector("#".concat(l.playerDivId)),l.resendTime=parseInt(l.amby.get("formatConfig.resendTime"),10),l.mgVideoIndex=l.amby.get("mgVideoIndex"),l.currentImpressions=0,l.errorsNumber=0,l.startRequestSent=!1,l.pauseRequestSent=!1,l.amby.get("formatConfig.forceMute",!1)&&(l.noSoundComponent=new wh.NoSoundComponent(l.amby,{playerDiv:l.playerDiv,adName:d})),l.amby.get("formatConfig.detectUnmute",!0)&&(l.unmuteDetectComponent=new Th.UnmuteDetectComponent(n)),l.amby.get("formatConfig.hideConsole",!1)&&window.location.href.indexOf("mgwdebug")===-1&&(l.proxyConsoleComponent=new _h.ProxyConsoleComponent(l.amby,{playerDiv:l.playerDiv})),ye&&(l.skipObserver=new MutationObserver(function(Ee){Ee.forEach(function(Oe){Oe.type==="attributes"&&Oe.target.style&&Oe.target.style.display!=="none"&&l.amby.dispatch(Le.upsertState({skipBtn:{skipable:!0}}))})})),l.eventStack={},l.config={publisherId:g,channelId:y,width:100,height:0,HD:!1,autoPlay:!1,loop:l.amby.get("formatConfig.loop",!1),mode:0,soundButton:J??!0,pauseButton:ae??!0,timelinemode:ee||"bottom",skip:!!ye,skipTimer:parseInt(ye,10)||!1,closeButton:!1,position:l.playerDivId,positionDiv:l.playerDiv,logLevel:parseInt(Q,10)||0,antihjck:!0,lastFrame:!l.amby.get("formatConfig.loop",!1)},K&&(l.config.maxrun=K),l.errorLimit=parseInt(E,10)||1,l.config.errorLimit=l.errorLimit,M&&(l.config.vastRetry=parseInt(M,10)),l.verifiedSources=[],_e&&(l.verifiedSources=_e),Re&&(l.initSize=Re),Array.isArray(W)&&W.length>0&&(l.config.updatewaterfall=function(Ee){Array.isArray(Ee)&&Ee.length>0&&Ee.forEach(function(Oe,gt){W[gt]&&(Oe.type="vast",Oe.url=W[gt])})}),l.loadAdSrcNoUiList(),l.config.maximp=l.amby.get("formatConfig.maximp",5),l.config=ii.Helpers.mergeObjects(l.config,Se||{}),l.stopRequestTime=ie,l.nextAdTimeoutTime=me||10,l.noCompleteTimeoutTime=xe||60,l.amby.dispatch(Le.setAdInit(null,l.name)),l.amby.addSubListener("".concat(l.name,".init"),function(){[Ue.states.INIT_NEEDED,Ue.states.INIT_RESET].indexOf(l.amby.get("".concat(l.name,".init")))>-1&&(0,Je.mgDebug)("Ad starts search."),ii.Helpers.vitalCall(function(){return l.initPlayer()},l.amby.get("isVital",!0))}),l.amby.addTriggerListener("".concat(l.name,".actionPlay"),function(){var Ee=l.amby.get("".concat(l.name,".status"));l.player&&(!Ee||Ee!==Ue.states.STATUS_PLAYING)&&!l.startRequestSent&&(l.apiAction=!0,l.startRequestSent=!0,!Ee||Ee===Ue.states.STATUS_READY?((0,Je.mgDebug)("Aniview: StartAd requested."),l.player.startAd()):((0,Je.mgDebug)("Aniview: ResumeAd requested."),l.player.resume())),(!l.player||!Ee||[Ue.states.STATUS_READY,Ue.states.STATUS_PAUSED].indexOf(Ee)===-1)&&(l.startRequested=!0)}),l.amby.addTriggerListener("".concat(l.name,".actionPause"),function(){var Ee=l.amby.get("".concat(l.name,".status"));l.player&&Ee===Ue.states.STATUS_PLAYING&&!l.pauseRequestSent&&(l.apiAction=!0,l.pauseRequestSent=!0,l.player.pause())}),l.amby.addTriggerListener("".concat(l.name,".actionStop"),function(){var Ee=l.amby.get("".concat(l.name,".status"));Ee!==Ue.states.STATUS_STOPPED&&(l.apiAction=!0,l.close())}),l.amby.addTriggerListener("".concat(l.name,".actionClose"),function(){l.amby.dispatch(Le.setAdVisible(!1,l.name)),l.player&&[Ue.states.STATUS_PLAYING,Ue.states.STATUS_PAUSED].indexOf(l.amby.get("".concat(d,".status")))>-1&&(l.skipApiAction=!0,l.close())}),l.amby.addTriggerListener("ad.mute",function(){l.mute()}),l.amby.addTriggerListener("ad.unmute",function(){l.unmute()}),l.amby.addTriggerListener("ad.resize",function(){l.onResize()}),l.amby.addSubListener("popup.visible",function(){l.onPlayerChangedLocation()}),l.amby.get("formatConfig.moveToBody",!1)&&l.amby.addSubListener("player.isSticky",function(){l.onPlayerChangedLocation()}),l.amby.addSubListener("ad.mouseOver",function(){l.player&&l.amby.get("ad.isUnmuteOnHover")&&l.amby.get("ad.containerClicked")&&l.amby.get("deviceType")!=="mobile"&&l.amby.get("deviceType")!=="tablet"&&(l.amby.get("ad.mouseOver")?l.unmute():l.mute())}),window.addEventListener("keydown",function(Ee){if(!l.eventStackSent&&Ee.ctrlKey&&Ee.shiftKey&&Ee.code==="KeyA"&&(l.eventStackSent=!0,l.unmuteDetectComponent)){var Oe=l.unmuteDetectComponent.getUnMutedElements(),gt=l.unmuteDetectComponent.findIframes(document.body),fe={};Object.entries(l.eventStack).forEach(function(be){var Te=be[0],xi=be[1],ui=[];xi.forEach(function(wi){ui.push(wi.event)}),fe[Te]=ui});var we={video:Oe,iframes:gt,campaigns:fe};(0,Je.mgDebug)(we),l.amby.dispatch(Le.upsertState({soundNotify:JSON.stringify(we)}))}}),l}return a.prototype.initPlayer=function(){var n=this;switch(this.amby.get("".concat(this.name,".init"))){case Ue.states.INIT_NEEDED:if(this.amby.dispatch(Le.setAdInit(Ue.states.INIT_IN_PROGRESS,this.name)),document.getElementById(Za)){window.avPlayer?this.amby.dispatch(Le.setAdInit(Ue.states.INIT_RESET,this.name)):document.getElementById(Za).getAttribute("data-loaded")?(this.createPlayer(),this.amby.dispatch(Le.setAdInit(Ue.states.INIT_DONE,this.name)),this.inited=!0):document.getElementById(Za).addEventListener("load",function(){n.createPlayer(),n.amby.dispatch(Le.setAdInit(Ue.states.INIT_DONE,n.name)),n.inited=!0});return}this.stopRequestTime&&this.stopRequestTime>0&&(this.stopRequestTimeout=setTimeout(function(){(0,Je.mgDebug)("Aniview StopRequestTimeout"),n.passback(),n.reset(),n.amby.dispatch(Le.setAdStatus(Ue.states.STATUS_ERROR,n.name))},this.stopRequestTime*1e3)),new Image().src="https://track1.aniview.com/track?pid=".concat(this.config.publisherId)+"&cid=".concat(this.config.channelId,"&e=playerLoaded&cb=").concat(Date.now()),this.script=document.createElement("script"),this.script.src=this.amby.get("ad.playerUrl")||"https://player.aniview.com/script/6.1/aniview.js",this.script.id=Za,this.script.addEventListener("load",function(){n.script.setAttribute("data-loaded",!0),n.createPlayer(),n.amby.dispatch(Le.setAdInit(Ue.states.INIT_DONE,n.name)),n.inited=!0}),document.head.appendChild(this.script);break;case Ue.states.INIT_RESET:this.amby.dispatch(Le.setAdInit(Ue.states.INIT_IN_PROGRESS,this.name)),this.stopRequestTimeout&&(clearTimeout(this.stopRequestTimeout),this.stopRequestTimeout=null),this.stopRequestTime&&this.stopRequestTime>0&&(this.stopRequestTimeout=setTimeout(function(){(0,Je.mgDebug)("Aniview StopRequestTimeout"),n.passback(),n.reset(),n.amby.dispatch(Le.setAdStatus(Ue.states.STATUS_ERROR,n.name))},this.stopRequestTime*1e3)),this.createPlayer(),this.amby.dispatch(Le.setAdInit(Ue.states.INIT_DONE,this.name));break;case Ue.states.INIT_STOP:this.reset();break}},a.prototype.createPlayer=function(){var n=this,o,l;if(!this.amby.get("cappingData")){this.initRequested=!0,this.cappingDataListener||(this.amby.addSubListener("cappingData",function(){n.amby.get("cappingData")&&n.initRequested&&(n.initRequested=!1,n.createPlayer())}),this.cappingDataListener=!0);return}if(this.closed||[Ue.states.STATUS_PLAYING,Ue.states.STATUS_PAUSED,Ue.states.STATUS_READY].indexOf(this.amby.get("".concat(this.name,".status")))>-1){this.needToCreate=!0;return}if((0,Je.mgDebug)("Creating aniview player."),this.amby.dispatch(Le.setAdStatus(Ue.states.STATUS_INIT,this.name)),this.currentImpressions=0,this.errorsNumber=0,this.initSize)this.config.width=(o=this.initSize.width)!==null&&o!==void 0?o:this.amby.get("ad.size.width",300),this.config.height=(l=this.initSize.height)!==null&&l!==void 0?l:this.amby.get("ad.size.height",300);else{var c=this.amby.get("ad.size",{width:300,height:169});this.config.width=c.width,this.config.height=c.height}this.config.autoSound=!this.amby.get("ad.initMuted",!0),this.config.ref1=this.getRef1(),(this.amby.get("formatConfig.forceMute",!1)||!ii.Helpers.iOSversion())&&(this.config.autoSound=!1),this.player=new window.avPlayer(this.config),this.player.onLoad=function(){(0,Je.mgDebug)("Aniview onLoad event."),n.resetTimeout&&(clearTimeout(n.resetTimeout),n.resetTimeout=null),n.skipButton=n.playerDiv.querySelector("#skip-btn"),n.skipButton.innerHTML=ii.Helpers.getTranslated(n.amby,"skipText","Skip"),n.skipObserver&&(n.skipObserver.disconnect(),n.skipObserver.observe(n.skipButton,{attributes:!0})),n.initSize&&n.onResize(),n.amby.get("formatConfig.forceMute",!1)&&(n.soundButton=n.playerDiv.querySelector("#sound"),n.soundButton&&n.soundButton.addEventListener("click",function(){n.amby.dispatch(Le.upsertAdState({soundButtonClicked:!0}))})),n.startRequestSent=!1,n.amby.dispatch(Le.setAdStatus(Ue.states.STATUS_READY,n.name)),n.startRequested&&(n.startRequested=!1,n.amby.dispatch(Le.setTriggerToTrue("".concat(n.name,".actionPlay"))))},this.player.onPlay=function(d){var g,y,b=d.asid,_=d.videoUrl,k=d.clickThrough;(0,Je.mgDebug)("Aniview onPlay event.");var M=(0,ii.getInObject)(window,["_mgAdSrcNoUi"]);Array.isArray(M)&&M.indexOf(b)!==-1?((0,Je.mgDebug)("Controls hided for AdSource ".concat(b)),ii.Helpers.addClass(n.playerDiv,"adplayer-no-ui")):n.playerDiv.classList.contains("adplayer-no-ui")&&((0,Je.mgDebug)("Controls showed for AdSource ".concat(b)),ii.Helpers.removeClass(n.playerDiv,"adplayer-no-ui")),n.updateEventStack(b,{time:new Date().toISOString().replace("Z","MG"),adTag:b,event:"play",cid:n.amby.get("widgetId"),videoUrl:_,clickThrough:k}),n.amby.dispatch(Le.upsertState({skipBtn:{skipable:!1}})),n.errorsNumber=0,n.stopRequestTimeout&&(clearTimeout(n.stopRequestTimeout),n.stopRequestTimeout=null),n.nextAdTimeout&&(clearTimeout(n.nextAdTimeout),n.nextAdTimeout=null);var E=k;k&&(E=k.toString().match(/[?&]_redirect=(.+)(&|$)/m),E?(g=E,E=g[1]):E=k),E&&(E=E.toString().replace(/(^\s+|\s+$)/gm,""));var K=_;if(_&&(K=_.toString().replace(/(^\s+|\s+$)/gm,"")),n.amby.dispatch(Le.upsertAdState({adTag:b,videoUrl:K,vpaid:!0,adPlayer:1,adClickUrl:decodeURIComponent(E)})),n.apiAction||n.amby.dispatch(Le.upsertPlayerState({isPlayingOnVisible:!0})),n.apiAction=!1,!n.amby.get("ad.initMuted",!0)&&!n.amby.get("formatConfig.forceMute",!1)&&!ii.Helpers.iOSversion()?n.unmute():n.player.muted||n.mute(),n.amby.dispatch(Le.upsertState((y={},y[n.name]={linkBtn:{link:k},clickCover:{link:k}},y))),n.startRequestSent=!1,n.amby.dispatch(Le.upsertAdState({currentImpressions:n.amby.get("ad.currentImpressions",0)+1})),n.amby.dispatch(Le.setAdStatus(Ue.states.STATUS_PLAYING,n.name)),n.noCompleteTimeoutTime&&((0,Je.mgDebug)("Creating noCompleteTimeout"),n.noCompleteTimeoutTimer=0,n.runNoCompleteInterval()),n.amby.get("formatConfig.moveToBody",!1)){var W=n.playerDiv.querySelectorAll("video");W=Array.apply(null,W),W.forEach(function(Q){Q.paused||(n.currentVideoElem=Q)})}n.resizeNeeded&&n.onResize()},this.player.onPlay100=function(){n.noCompleteTimeoutTime&&n.noCompleteTimeout&&((0,Je.mgDebug)("Removing noCompleteTimeout"),clearInterval(n.noCompleteTimeout),n.noCompleteTimeout=null),n.amby.dispatch(Le.setTriggerToTrue("ad.complete")),n.checkMuted(),n.currentImpressions+=1,!n.amby.get("formatConfig.loop",!1)||n.config.maximp<=n.currentImpressions?(n.close(),n.amby.dispatch(Le.setAdStatus(Ue.states.STATUS_STOPPED,n.name))):(n.nextAdTimeout&&(clearTimeout(n.nextAdTimeout),n.nextAdTimeout=null),n.nextAdTimeout=setTimeout(function(){n.amby.get("ad.status")===Ue.states.STATUS_STOPPED&&((0,Je.mgDebug)("Next AD Timeout."),n.reset(),n.amby.dispatch(Le.setAdStatus(Ue.states.STATUS_STOPPED,n.name)))},n.nextAdTimeoutTime*1e3))},this.player.onPlay25=function(){n.amby.dispatch(Le.upsertAdState({position:Math.ceil(n.player.getAdDuration()/4),duration:n.player.getAdDuration()}))},this.player.onPlay50=function(){n.amby.dispatch(Le.upsertAdState({position:Math.ceil(n.player.getAdDuration()/2),duration:n.player.getAdDuration()}))},this.player.onPlay75=function(){n.amby.dispatch(Le.upsertAdState({position:Math.ceil(n.player.getAdDuration()/4*3),duration:n.player.getAdDuration()}))},this.player.onResume=function(){n.apiAction||n.amby.dispatch(Le.upsertPlayerState({isPlayingOnVisible:!0})),n.noCompleteTimeoutTime&&((0,Je.mgDebug)("Resuming noCompleteTimeout"),n.runNoCompleteInterval()),n.apiAction=!1,n.startRequestSent=!1,n.amby.dispatch(Le.setAdStatus(Ue.states.STATUS_PLAYING,n.name))},this.player.onPause=function(){!n.apiAction&&!n.skipApiAction&&n.amby.dispatch(Le.upsertPlayerState({isPlayingOnVisible:!1})),n.noCompleteTimeoutTime&&((0,Je.mgDebug)("Pausing noCompleteTimeout"),n.noCompleteTimeout&&(clearInterval(n.noCompleteTimeout),n.noCompleteTimeout=null)),n.apiAction=!1,n.skipApiAction=!1,n.pauseRequestSent=!1,n.amby.dispatch(Le.setAdStatus(Ue.states.STATUS_PAUSED,n.name))},this.player.onError=function(d){n.errorsNumber+=1,(n.errorsNumber>n.errorLimit||d&&d.errorlimit)&&(n.noCompleteTimeoutTime&&n.noCompleteTimeout&&((0,Je.mgDebug)("Removing noCompleteTimeout"),clearInterval(n.noCompleteTimeout),n.noCompleteTimeout=null),n.passback(),n.reset(),n.amby.dispatch(Le.setAdStatus(Ue.states.STATUS_ERROR,n.name))),n.resendTime&&(n.resendLimit||(n.resendLimit=parseInt(n.amby.get("formatConfig.resendLimit"),10)||1),(0,Je.mgDebug)("No ads found. Retry in ".concat(n.resendTime," sec.")+" Iteration number: ".concat(n.amby.get("".concat(n.name,".resendNumber"),0)+1)),!n.resetTimeout&&n.amby.get("".concat(n.name,".resendNumber"),0)<n.resendLimit?n.resetTimeout=setTimeout(function(){var g;(0,Je.mgDebug)("Resetting player..."),n.resetTimeout=null,n.amby.dispatch(Le.upsertState((g={},g[n.name]={resendNumber:n.amby.get("".concat(n.name,".resendNumber"),0)+1},g))),n.amby.dispatch(Le.setAdStatus(Ue.states.STATUS_INIT,n.name)),n.amby.dispatch(Le.setAdInit(Ue.states.INIT_RESET,n.name))},n.resendTime*1e3):n.resendLimit&&(0,Je.mgDebug)("Iteration limit is ".concat(n.resendLimit,". Iteration aborted.")))},this.player.onClose=function(){n.noCompleteTimeoutTime&&n.noCompleteTimeout&&((0,Je.mgDebug)("Removing noCompleteTimeout"),clearInterval(n.noCompleteTimeout),n.noCompleteTimeout=null),n.checkMuted(),n.reset(),n.amby.dispatch(Le.setAdStatus(Ue.states.STATUS_STOPPED,n.name))},this.player.onSkip=function(){n.noCompleteTimeoutTime&&n.noCompleteTimeout&&((0,Je.mgDebug)("Removing noCompleteTimeout"),clearInterval(n.noCompleteTimeout),n.noCompleteTimeout=null),n.checkMuted(),n.amby.dispatch(Le.setTriggerToTrue("ad.skip"))},this.player.onMute=function(){(0,Je.mgDebug)("Aniview AD muted."),!n.apiMuteAction&&(!n.noSoundComponent||n.amby.get("ad.soundButtonClicked",!1))&&(n.amby.dispatch(Le.upsertAdState({isUnmuteOnHover:!1,initMuted:!0})),n.amby.dispatch(Le.setTriggerToTrue("player.mute")),n.amby.dispatch(Le.setTriggerToTrue("ad.mute"))),n.apiMuteAction=!1,n.amby.dispatch(Le.setAdMuted(!0))},this.player.onUnmute=function(){(0,Je.mgDebug)("Aniview AD unmuted."),!n.apiMuteAction&&(!n.noSoundComponent||n.amby.get("ad.soundButtonClicked",!1))&&(n.amby.dispatch(Le.upsertAdState({isUnmuteOnHover:!0,initMuted:!1})),n.amby.dispatch(Le.setTriggerToTrue("player.unmute")),n.amby.dispatch(Le.setTriggerToTrue("ad.unmute"))),n.apiMuteAction=!1,n.amby.dispatch(Le.setAdMuted(!1));var d=n.amby.get("ad.adTag");n.updateEventStack(d,{time:new Date().toISOString().replace("Z","MG"),adTag:d,event:"unmute",cid:n.amby.get("widgetId")})},this.player.onClick=function(){n.amby.dispatch(Le.setTriggerToTrue("ad.clicked"))},this.player.onInventory=function(){(0,Je.mgDebug)("Aniview onInventory fired."),n.amby.dispatch(Le.setTriggerToTrue("ad.inventory"))},this.player.onEvent=function(d,g,y){if((0,Je.mgDebug)("AniView onEvent: ".concat(d," ").concat(g," ").concat(JSON.stringify(y))),n.updateEventStack(g,{time:new Date().toISOString().replace("Z","MG"),adTag:g,event:d,cid:n.amby.get("widgetId"),params:JSON.stringify(y)}),d==="startAd"){var b=(0,ii.getInObject)(window,["_mgAdTrSrc"]);(n.verifiedSources.indexOf(g)>-1||Array.isArray(b)&&b.indexOf(g)>-1)&&(n.amby.dispatch(Le.upsertAdState({adTag:g,adPlayer:1})),n.amby.dispatch(Le.setAdStatus(Ue.states.STATUS_PLAYING)),n.amby.dispatch(Le.setAdVisible(!0,n.name)))}},this.player.play(this.config)},a.prototype.onResize=function(){if(this.player){var n=this.amby.get("ad.size",{width:300,height:169});this.player.resize(parseFloat(n.width),parseFloat(n.height))}[Ue.states.STATUS_READY,Ue.states.STATUS_PLAYING,Ue.states.STATUS_PAUSED].indexOf(this.amby.get("".concat(this.name,".status")))===-1&&(this.resizeNeeded=!0)},a.prototype.reset=function(){if(!(this.closed||this.closedTimeout)){for((0,Je.mgDebug)("Aniview: Deleting AD player.".concat(this.amby.get("ad.adTag")?" Ad source: ".concat(this.amby.get("ad.adTag")):"")),this.close(),this.playerDiv||(this.playerDiv=this.rootElement.querySelector("#".concat(this.config.position)));this.playerDiv.firstChild;)this.playerDiv.removeChild(this.playerDiv.firstChild);var n=document.querySelectorAll("#AVLoader".concat(this.config.position));n=Array.apply(null,n),n.forEach(function(o){o.parentNode&&o.parentNode.removeChild(o)}),this.startRequestSent=!1,this.pauseRequestSent=!1}},a.prototype.checkMuted=function(){this.player.muted&&this.amby.get("ad.initMuted",!0)?(this.amby.dispatch(Le.upsertAdState({initMuted:!0})),this.amby.dispatch(Le.setTriggerToTrue("player.mute"))):this.amby.get("ad.initMuted",!0)&&(this.amby.dispatch(Le.upsertAdState({initMuted:!1})),this.amby.dispatch(Le.setTriggerToTrue("player.unmute")))},a.prototype.onPlayerChangedLocation=function(){if(this.amby.get("player.isAdPlaying",!1)&&this.player&&this.amby.get("".concat(this.name,".status"))===Ue.states.STATUS_PLAYING&&this.amby.get("formatConfig.inlinePlacement"))if(this.currentVideoElem&&this.currentVideoElem.paused){var n=this.currentVideoElem.play();n!==void 0&&n.catch(function(o){(0,Je.mgDebug)("ERROR: ".concat(o.message))})}else this.player.resume()},a.prototype.mute=function(){var n=this;ii.Helpers.vitalCall(function(){n.player&&!n.player.muted&&n.player.getAdVolume()>0&&((0,Je.mgDebug)("Aniview AD mute request sent."),n.apiMuteAction=!0,n.player.mute())},this.amby.get("isVital",!0))},a.prototype.unmute=function(){this.player&&this.player.muted&&this.player.getAdVolume()===0&&((0,Je.mgDebug)("Aniview AD unmute request sent."),this.apiMuteAction=!0,this.player.unmute())},a.prototype.close=function(){var n=this;this.player&&((0,Je.mgDebug)("AD closing... Ad source: ".concat(this.amby.get("ad.adTag"))),this.amby.dispatch(Le.upsertAdState({adTag:null})),this.player.close(),this.closed=!0,this.closedTimeout||(this.closedTimeout=setTimeout(function(){(0,Je.mgDebug)("AD closed."),n.closedTimeout=null,n.closed=!1,n.needToCreate&&(n.needToCreate=!1,n.createPlayer())},3e3)))},a.prototype.passback=function(){if(this.amby.get("passback",!1)){this.amby.dispatch(Le.setTriggerToTrue("ad.passback"));try{ii.Helpers.createScriptAndRun("Passback_".concat(this.amby.get("mgVideoIndex")),this.amby.get("passback",!1))}catch(n){(0,Je.mgDebug)(n)}}},a.prototype.loadAdSrcNoUiList=function(){var n=this.amby.get("libConfig.adSrcNoUiUrlTemplate"),o=n.replace("{{DOMAIN}}",this.amby.get("subnetDomain","")),l=document.location.protocol;l=l.indexOf("http")===0?l:"https:";var c="".concat(l).concat(o),d=new xh.Loader({adSrcNoUi:{url:c,exists:"typeof window._mgAdSrcNoUi !== 'undefined'"}},function(){});d.checkLoaded()},a.prototype.runNoCompleteInterval=function(){var n=this;this.noCompleteTimeout||(this.noCompleteTimeout=setInterval(function(){n.noCompleteTimeoutTimer+=1,n.noCompleteTimeoutTimer>=(n.player.getAdDuration()+n.noCompleteTimeoutTime)*10&&((0,Je.mgDebug)("noCompleteTimeout on ".concat(n.noCompleteTimeoutTime," sec of waiting")),clearInterval(n.noCompleteTimeout),n.noCompleteTimeout=null,n.reset(),n.amby.dispatch(Le.setAdStatus(Ue.states.STATUS_STOPPED,n.name)))},100))},a.prototype.updateEventStack=function(n,o){this.eventStack[n]||(this.eventStack[n]=[]),this.eventStack[n].length>=20&&this.eventStack[n].shift(),this.eventStack[n].push(o)},a}(Sh.AniviewBase);$i.AniViewComponent=Ch});var To=Ie(Ja=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty(Ja,"__esModule",{value:!0});Ja.TeaserComponent=void 0;var Yi=Xe(),kh=ze(),wo=st(),Dh=function(){function p(a,n,o){var l=this;(0,wo.mgDebug)("Init TeaserComponent ".concat(o)),this.amby=a,this.teaser=n,this.linkElem=this.teaser.querySelector(".mcimg > a"),this.linkElem&&this.linkElem.removeAttribute("href"),this.index=o,this.amby.get("teasers")||this.amby.dispatch(Yi.upsertState({teasers:[]})),this.amby.dispatch(Yi.upsertTeaser({index:this.index,teaser:{inSight:!1,mouseOver:!1,clicked:!1}})),this.observer=kh.Helpers.onVisible(this.teaser,function(c){(0,wo.mgDebug)("Teaser is ".concat(c?"in":"out of"," sight")),l.amby.dispatch(Yi.upsertTeaser({index:l.index,teaser:{inSight:c}}))}),this.addListeners()}return p.prototype.addListeners=function(){var a=this;this.teaser.addEventListener("click",function(){a.amby.dispatch(Yi.setTriggerToTrue("teasers.".concat(a.index,".clicked")))}),this.teaser.addEventListener("mouseenter",function(){a.amby.dispatch(Yi.upsertTeaser({index:a.index,teaser:{mouseOver:!0}}))}),this.teaser.addEventListener("mouseleave",function(){a.amby.dispatch(Yi.upsertTeaser({index:a.index,teaser:{mouseOver:!1}}))}),this.amby.addSubListener("teasers.".concat(this.index,".title"),function(){var n=a.amby.get("teasers.".concat(a.index,".title"),""),o=a.teaser.querySelector(".mctitle a");o&&(o.text=n)})},p}();Ja.TeaserComponent=Dh});var Qa=Ie(Ka=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty(Ka,"__esModule",{value:!0});Ka.WidgetComponent=void 0;var Zt=Xe(),br=ze(),Ih=To(),So=st(),Eh=function(){function p(a,n){n===void 0&&(n=null);var o=this;(0,So.mgDebug)("WidgetComponent initiated."),this.amby=a.amby,this.widgetBlock=a.block,this.callback=n,this.videoTeasers=[],this.linkElems=[],this.playerTeaserIndex=null,br.Helpers.onVisible(this.widgetBlock,function(l){o.amby.dispatch(Zt.upsertState({widget:{inSight:l}}))}),this.teasers=this.widgetBlock.querySelectorAll(".mgline"),this.teasers.length===0&&this.callback?["outstream","attachedWidget"].indexOf(this.amby.get("formatConfig.name"))>-1&&["above","below","over"].indexOf(this.amby.get("formatConfig.adsPlace"))<0?this.fillTeasers():(this.addedNodes=[],this.observer=this.getObserver(function(l){o.waitForTeasers(l)}),this.observer.observe(this.widgetBlock,{childList:!0,subtree:!0})):this.fillTeasers()}return p.prototype.fillTeasers=function(){var a=this;this.teasers.length===0&&(this.teasers=this.widgetBlock.querySelectorAll(".mgline")),this.inlinePlacement=parseInt(this.amby.get("formatConfig.inlinePlacement",1),10);for(var n=0;n<this.teasers.length;n++){var o=this.teasers[n];if(o.className.indexOf("vrline")!==-1){var l=this.videoTeasers.length;this.inlinePlacement!==null&&this.inlinePlacement===l+1&&(this.playerTeaserIndex=n),this.videoTeasers.push(new Ih.TeaserComponent(this.amby,o,l)),this.linkElems.push()}}var c=this.widgetBlock.querySelectorAll(".image-with-text>.mcimg img"),d=!0;if(this.teaserImagesLoaded=[],c&&c.length>0&&(c=Array.apply(null,c),c.forEach(function(g,y){a.teaserImagesLoaded.push(g.complete),g.complete||(d=!1,g.addEventListener("load",function(){a.teaserImagesLoaded[y]=!0,a.amby.dispatch(Zt.setTriggerToTrue("widget.imageLoaded")),a.teaserImagesLoaded.reduce(function(b,_){return b&&_})&&a.amby.dispatch(Zt.upsertState({widget:{allImagesLoaded:!0}}))}))})),d&&this.amby.dispatch(Zt.upsertState({widget:{allImagesLoaded:!0}})),this.playerTeaserIndex!==null)this.amby.dispatch(Zt.upsertState({widget:{playerTeaserIndex:this.playerTeaserIndex}}));else if(this.inlinePlacement!==void 0&&["outstream","attachedWidget"].indexOf(this.amby.get("formatConfig.name"))===-1){(0,So.mgDebug)("Empty WidgetComponent.playerTeaserIndex");return}this.listenersAdded||(this.listenersAdded=!0,this.addListeners(),this.callback&&setTimeout(function(){a.callback()},0))},p.prototype.addListeners=function(){var a=this,n=null,o=null;typeof document.mozHidden<"u"?(n="mozHidden",o="mozvisibilitychange"):typeof document.msHidden<"u"?(n="msHidden",o="msvisibilitychange"):typeof document.webkitHidden<"u"?(n="webkitHidden",o="webkitvisibilitychange"):typeof document.hidden<"u"&&(n="hidden",o="visibilitychange"),n!=null&&o!=null&&document.addEventListener(o,function(){document[n]?(a.blurred=!0,a.amby.dispatch(Zt.setWidgetBlurred(!0))):(a.blurred=!1,a.amby.dispatch(Zt.setWidgetBlurred(!1)))}),window.addEventListener("blur",function(){a.blurred=!0,setTimeout(function(){(!document.activeElement||document.activeElement.tagName!=="IFRAME"&&!document.activeElement.shadowRoot)&&a.amby.dispatch(Zt.setWidgetBlurred(!0))},0)}),window.addEventListener("focus",function(){a.blurred=!1,a.amby.dispatch(Zt.setWidgetBlurred(!1))}),document.body.addEventListener("mouseenter",function(){document.activeElement&&document.activeElement.tagName==="IFRAME"&&a.blurred&&a.amby.dispatch(Zt.setWidgetBlurred(!1))}),document.body.addEventListener("mouseleave",function(){document.activeElement&&document.activeElement.tagName==="IFRAME"&&a.blurred&&a.amby.dispatch(Zt.setWidgetBlurred(!0))})},p.prototype.getObserver=function(a){var n=this;return new MutationObserver(function(o){o.forEach(function(l){if(l.type==="childList"&&l.addedNodes.length){var c=Array.prototype.slice.call(l.addedNodes);c=c.filter(function(d){return d.nodeName!=="#text"}),c.length>0&&(n.addedNodes.push(c),a(c))}})})},p.prototype.waitForTeasers=function(a){var n=this;a.forEach(function(o){["outstream","attachedWidget"].indexOf(n.amby.get("formatConfig.name"))>-1?(o.className&&o.className.indexOf("mgbox")>-1||o.querySelector&&o.querySelector(".mgbox"))&&(n.amby.get("formatConfig.adsPlace","above")!=="over"||n.widgetBlock.querySelectorAll(".mgline").length>0)&&(n.fillTeasers(),n.observer.disconnect(),n.boxesObserver=n.getObserver(function(l){n.waitForBoxes(l)}),n.boxesObserver.observe(n.widgetBlock,{childList:!0,subtree:!0})):(o.className&&o.className.indexOf("vrline")>-1&&o.querySelector("img")||br.Helpers.getParentBlockByClass(o,"vrline")&&br.Helpers.getParentBlockByClass(o,"vrline").querySelector("img")||o.querySelector&&o.querySelector(".vrline")&&o.querySelector(".vrline").querySelector("img"))&&(n.fillTeasers(),n.observer.disconnect())})},p.prototype.waitForBoxes=function(a){var n=this;a.forEach(function(o){(o.className&&o.className.indexOf&&o.className.indexOf("mgbox")>-1||o.querySelector&&o.querySelector(".mgbox")&&o.parentNode===n.widgetBlock)&&(n.amby.get("widget.allImagesLoaded",!1)?n.amby.dispatch(Zt.setTriggerToTrue("widget.newBox")):n.fillTeasers())})},p}();Ka.WidgetComponent=Eh});var ts=Ie(es=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty(es,"__esModule",{value:!0});es.FormatBase=void 0;var At=ot(),dt=Xe(),It=ze(),St=st(),Oi="visibleNotPause",Ph="visibleOnly",Ah=function(){function p(a){if(this.rootElement=(0,It.getInObject)(a,["mgRec","rootElement"]),this.widgetId=(0,It.getInObject)(a,["mgRec","config","parentCid"],(0,It.getInObject)(a,["mgRec","cid"])),this.siteId=(0,It.getInObject)(a,["mgRec","sid"]),this.mgVideoIndex="".concat(this.widgetId,"_").concat(a.getWidgets().length),this.widget=a,this.widget.rootElement=this.rootElement,this.amby=a.amby,this.config=a.mgRec.config,this.formatConfig=a.formatConfig,this.blockMain=this.widget.block.querySelector(".mgbox"),this.aspectRatio=(this.config.aspectratio||"16:9").match(/(\d+):(\d+)/).reduce(function(y,b,_){return y[["ratio","width","height"][_]]=b,y},{}),this.aspectRatio.width=parseInt(this.aspectRatio.width,10),this.aspectRatio.height=parseInt(this.aspectRatio.height,10),this.aspectRatio.width>0&&this.aspectRatio.height>0||(this.aspectRatio={ratio:"16:9",width:16,height:9}),this.startScroll=this.formatConfig.startScroll,this.startInit=this.formatConfig.startInit,this.pauseOnFocusOut=this.amby.get("formatConfig.pauseOnFocusOut",!0),this.startScroll){var n=this.startScroll.toString().match(/(\d+)%/);if(n&&n[1]){var o=document.body,l=document.documentElement,c=Math.max(o.scrollHeight,o.offsetHeight,l.clientHeight,l.scrollHeight,l.offsetHeight);this.startScrollPixels=Math.floor(c*parseInt(n[1],10)/100),(0,St.mgDebug)("Site Height: ".concat(c,"px, Start sticky on: ").concat(n[1],"% = ").concat(this.startScrollPixels,"px"))}else this.startScrollPixels=parseInt(this.startScroll,10)}this.calcStartOnScroll(this.widget.block);var d=parseInt((0,It.getInObject)(this.config,["closeButtonEnable"],(0,It.getInObject)(this.formatConfig,["closeButtonEnable"],1)),10),g=(0,It.getInObject)(a,["mgRec","cappingData","dt"],"desktop");this.amby.dispatch(dt.upsertState({playlist:a.mgRec.vr_playlist,player:{aspectratio:this.aspectRatio.ratio,muted:!0,playerId:"mgJwPlayer_".concat(this.mgVideoIndex)},widgetId:this.widgetId,siteId:this.siteId,mgVideoIndex:this.mgVideoIndex,templateId:this.config.templateId,uuid:this.config.uuid||"",subid:this.config.subid||0,cappingData:a.mgRec.cappingData,paramsData:a.mgRec.paramsData,subnetDomain:a.mgRec.subnetDomain,countersDomain:a.mgRec.countersDomain,libConfig:a.libConfig,muteBtn:{muted:!0},closeBtn:{enabled:d},adSchedule:this.config.adSchedule,adPlayers:this.config.adPlayers,extLibraries:this.config.extLibraries,cappingInterval:parseInt(this.config.cappingInterval,10)||15,passback:this.config.passback,sensorCid:a.mgRec.cid,lang:this.config.lang,language:a.mgRec.lang,libVer:a.mgRec.lib,ga_id:this.config.ga_id,visibilityKpi:this.config.visibilityKpi,downtimeDetector:this.config.downtimeDetector,downtimeTimeout:this.config.downtimeTimeout,startAdTimeout:this.config.startAdTimeout,autoStart:this.config.autoStart||Oi,isVital:this.config.isVital,deviceType:g,animatedArticle:this.config.animatedArticle})),It.Helpers.initClientHintData()}return p.prototype.playOnVisible=function(a){a===void 0&&(a=!0),this.amby.get("ad.status")&&(this.inSight&&a?this.amby.get("player.isPlayingOnVisible",!0)&&!this.focusPaused&&(this.amby.dispatch(dt.upsertAdState({startRequested:!0})),this.amby.dispatch(dt.setTriggerToTrue("ad.actionPlay"))):this.amby.get("autoStart")===Ph&&this.amby.dispatch(dt.setTriggerToTrue("ad.actionPause")))},p.prototype.startOnScroll=function(a){!this.startedByScroll&&this.startScrollPixels&&It.Helpers.getViewTop()>this.startScrollPixels&&!this.isOtherWidgetSticky()&&((0,St.mgDebug)("Current Scroll: ".concat(It.Helpers.getViewTop(),"px, Starting sticky on: ").concat(this.startScrollPixels,"px")),this.startedByScroll=!0,a())},p.prototype.onWidgetBlurred=function(){var a=this;!this.pauseOnFocusOut||(this.amby.get("widget.blurred",!1)?this.amby.get("player.isAdPlaying",!1)&&this.amby.get("ad.status")===At.states.STATUS_PLAYING&&this.amby.get("autoStart")!==Oi?((0,St.mgDebug)("adPlayer focused OUT. BASE"),this.focusPaused=!0,this.amby.dispatch(dt.setTriggerToTrue("ad.actionPause"))):this.amby.get("player.status")===At.states.STATUS_PLAYING&&((0,St.mgDebug)("Player focused OUT. BASE"),this.focusPaused=!0,this.amby.dispatch(dt.setTriggerToTrue("player.actionPause"))):this.focusPaused?(this.focusPaused=!1,this.amby.get("player.isAdPlaying",!1)?((0,St.mgDebug)("adPlayer focused IN. BASE"),this.amby.dispatch(dt.setTriggerToTrue("ad.actionPlay"))):((0,St.mgDebug)("Player focused IN. BASE"),this.amby.dispatch(dt.setTriggerToTrue("player.actionPlay"))),this.justFocusedIn=!0,setTimeout(function(){a.justFocusedIn=!1},200)):this.amby.get("autoStart")===Oi&&(this.focusPaused=!1,this.amby.get("player.isAdPlaying",!1)&&this.amby.get("ad.status")===At.states.STATUS_PAUSED?((0,St.mgDebug)("adPlayer focused IN. BASE"),this.amby.dispatch(dt.setTriggerToTrue("ad.actionPlay"))):this.amby.get("player.status")===At.states.STATUS_PAUSED&&((0,St.mgDebug)("Player focused IN. BASE"),this.amby.dispatch(dt.setTriggerToTrue("player.actionPlay")))))},p.prototype.onAdPlayerBlurred=function(){var a=this;!this.pauseOnFocusOut||(this.amby.get("widget.blurred",!1)&&this.amby.get("ad.status")===At.states.STATUS_PLAYING&&this.amby.get("autoStart")!==Oi?((0,St.mgDebug)("adPlayer focused OUT. BASE"),this.focusPaused=!0,this.amby.dispatch(dt.setTriggerToTrue("ad.actionPause"))):(this.focusPaused||this.amby.get("autoStart")===Oi&&this.amby.get("ad.status")===At.states.STATUS_PAUSED)&&((0,St.mgDebug)("adPlayer focused IN. BASE"),this.focusPaused=!1,this.amby.dispatch(dt.setTriggerToTrue("ad.actionPlay")),this.justFocusedIn=!0,setTimeout(function(){a.justFocusedIn=!1},200)))},p.prototype.onPlayerStatusBase=function(){if(!!this.pauseOnFocusOut){var a=this.amby.get("player.status");this.justFocusedIn&&a!==At.states.STATUS_PLAYING&&this.focusPaused&&((0,St.mgDebug)("Player paused after focusing IN :-( . Base"),this.amby.dispatch(dt.setTriggerToTrue("player.actionPlay")),this.focusPaused=!1,this.justFocusedIn=!1),this.amby.get("widget.blurred")&&a===At.states.STATUS_PLAYING&&((0,St.mgDebug)("Player tried to play when window not in focus :-( . Base"),this.focusPaused=!0,this.amby.dispatch(dt.setTriggerToTrue("player.actionPause")))}},p.prototype.onAdStatusBase=function(){if(!!this.pauseOnFocusOut){var a=this.amby.get("ad.status");this.justFocusedIn&&a!==At.states.STATUS_PLAYING&&(this.focusPaused||this.amby.get("autoStart")===Oi&&this.amby.get("ad.status")===At.states.STATUS_PAUSED)&&((0,St.mgDebug)("adPlayer paused after focusing IN :-( . Base"),this.amby.dispatch(dt.setTriggerToTrue("ad.actionPlay")),this.focusPaused=!1,this.justFocusedIn=!1),this.amby.get("widget.blurred")&&a===At.states.STATUS_PLAYING&&this.amby.get("autoStart")!==Oi&&((0,St.mgDebug)("adPlayer tried to play when window not in focus :-( . Base"),this.focusPaused=!0,this.amby.dispatch(dt.setTriggerToTrue("ad.actionPause")))}},p.prototype.onAdClickedTriggerBase=function(){var a=this;!this.pauseOnFocusOut||setTimeout(function(){(0,St.mgDebug)("adPlayer played after opening new tab with AD :-( . Base"),a.amby.dispatch(dt.setTriggerToTrue("ad.actionPause"))},200)},p.prototype.startInitOnVisible=function(){!this.startInitSent&&this.inSight&&(this.startInitSent=!0,this.amby.dispatch(dt.setAdInit(At.states.INIT_NEEDED)))},p.prototype.startInitOnScroll=function(){!this.startInitSent&&It.Helpers.getViewTop()+It.Helpers.getWindowHeight()/2>this.startOnScrollPixels&&(this.startInitSent=!0,(0,St.mgDebug)("Current Scroll: ".concat(It.Helpers.getViewTop(),"px, Starting code on: ").concat(this.startOnScrollPixels,"px")),this.amby.dispatch(dt.setAdInit(At.states.INIT_NEEDED)))},p.prototype.calcStartOnScroll=function(a){if(this.formatConfig.startOnScroll){var n=a.getBoundingClientRect().top+It.Helpers.getViewTop(),o=this.startOnScrollPixels;this.startOnScrollPixels=Math.floor(n*.51),this.startOnScrollPixels!==o&&(0,St.mgDebug)("Player Top: ".concat(n,"px, Start searching for ad on: 51% = ").concat(this.startOnScrollPixels,"px"))}},p.prototype.callStartInit=function(){var a=this;this.startInit&&this.startInit!=="onLoad"?(It.Helpers.onVisible(this.adContainerComponent.playerContainer,function(n){a.inSight=n,a.startInitOnVisible()}),this.startInitOnVisible()):this.formatConfig.startOnScroll?(window.addEventListener("scroll",function(){a.calcStartOnScroll(a.adContainerComponent.playerContainer),a.startInitOnScroll()}),this.startInitOnScroll()):this.amby.dispatch(dt.setAdInit(At.states.INIT_NEEDED))},p.prototype.isOtherWidgetSticky=function(){var a=this;return Object.entries(this.amby.get()).reduce(function(n,o){var l=o[0],c=o[1];return n||(0,It.getInObject)(c,["player","isSticky"])&&l!==a.amby.getNS()},!1)&&(0,It.getInObject)(this.amby.get(),["sticky"],!0)},p.prototype.createReInitTimeout=function(){var a=this;this.reinitTimeout&&(clearTimeout(this.reinitTimeout),this.reinitTimeout=null),this.reinitTimeout=setTimeout(function(){(0,St.mgDebug)("ReinitTimeout"),a.amby.dispatch(dt.upsertAdState({reInited:!0})),a.amby.dispatch(dt.upsertPlayerState({isPlayingOnVisible:!0})),a.amby.dispatch(dt.setAdInit(At.states.INIT_STOP)),a.amby.dispatch(dt.setAdInit(At.states.INIT_RESET))},this.reInit?this.reInit*1e3:5e3)},p}();es.FormatBase=Ah});var Co=Ie(ss=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty(ss,"__esModule",{value:!0});ss.ClickThroughComponent=void 0;var _o=ot(),is=Xe(),as=ze(),Lh=function(){function p(a,n){this.amby=a,this.container=n,this.elemText=as.Helpers.getTranslated(this.amby,"clickText","Learn more"),this.widgetId=this.amby.get("widgetId"),this.widgetBlock=as.Helpers.getParentBlockByClass(this.container,"_mgw_".concat(this.widgetId)),this.elem||this.createElement(),this.addListeners(),this.setClickListener()}return p.prototype.removeElement=function(){this.elem.parentNode.removeChild(this.elem),this.elem=null},p.prototype.createElement=function(){this.widgetBlock&&(this.elem=this.widgetBlock.querySelector("#adLinkButton_".concat(this.widgetId,"_ad"))),this.elem||(this.elem=document.createElement("div"),this.elem.className="adLinkButton",this.elem.id="adLinkButton_".concat(this.widgetId,"_ad"),this.elem.innerText=this.elemText,this.container.appendChild(this.elem))},p.prototype.addListeners=function(){var a=this;this.amby.addSubListener("linkBtn.visible",function(){a.amby.get("linkBtn.visible",!1)?as.Helpers.addClass(a.elem,"showed"):as.Helpers.removeClass(a.elem,"showed")}),this.amby.addSubListener("ad.adClickUrl",function(){a.setClickListener()}),this.amby.addTriggerListener("ad.videoEnded",function(){a.removeElement()}),this.amby.addSubListener("ad.status",function(){switch(a.amby.get("ad.status")){case _o.states.STATUS_PLAYING:a.amby.get("ad.adClickUrl")&&a.amby.dispatch(is.upsertState({linkBtn:{visible:!0}}));break;case _o.states.STATUS_STOPPED:a.amby.dispatch(is.upsertState({linkBtn:{visible:!1}}));break}})},p.prototype.setClickListener=function(){var a=this;this.amby.get("ad.adClickUrl")?this.elem.onclick=function(){var n=window.open(a.amby.get("ad.adClickUrl"),"_blank");n&&(a.amby.dispatch(is.setTriggerToTrue("ad.clicked")),n.focus(),a.amby.dispatch(is.setTriggerToTrue("ad.actionPause")))}:this.elem.onclick=null},p}();ss.ClickThroughComponent=Lh});var Io=Ie(rs=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty(rs,"__esModule",{value:!0});rs.KpiDataManager=void 0;var bt=Xe(),ko=st(),Do=ot(),Bh=function(){function p(a,n){this.amby=a,this.deletableSubListeners=this.getDeletableSubListenersMap(),this.deletableTriggerListeners=this.getDeletableSubTriggerListenersMap(),this.addListeners(),this.createPlacementObserver(n),this.createAdViewableObserver(n),this.createScrollReachedObserver(n)}return p.prototype.updateKpiCustomData=function(a,n){var o;this.amby.dispatch(bt.upsertState({customDataKpi:(o={},o[a]=n,o)}))},p.prototype.asyncRemoveSubListener=function(a,n){var o=this;setTimeout(function(){o.amby.removeSubListener(a,n)})},p.prototype.asyncRemoveTriggerListener=function(a,n){var o=this;setTimeout(function(){o.amby.removeTriggerListener(a,n)})},p.prototype.getDeletableSubListenersMap=function(){var a=this,n=function(){a.amby.get("widget.blurred",!1)&&a.amby.get("player.InPoint")&&!a.amby.get("player.OutPoint")&&(a.amby.dispatch(bt.upsertState({player:{OutPoint:Date.now()}})),a.amby.dispatch(bt.setTriggerToTrue("widget.exposure")),a.asyncRemoveSubListener("widget.blurred",n))},o=function(){if(a.amby.get("player.InPoint")&&a.amby.get("widget.renderTime")){var _=a.amby.get("player.InPoint")-a.amby.get("widget.renderTime");a.updateKpiCustomData("render_buffer",{renderBufferTime:_>0?_:0}),a.asyncRemoveSubListener("player.InPoint",o),a.addDataCleanListener("player.InPoint","render_buffer")}},l=function(){a.updateKpiCustomData("scroll_buffer",{scrollBufferTime:a.amby.get("player.InPoint")?a.amby.get("player.scrollReached")-a.amby.get("player.InPoint"):0}),a.asyncRemoveSubListener("player.scrollReached",l),a.addDataCleanListener("player.scrollReached","scroll_buffer")},c=function(){a.updateKpiCustomData("exposure",{exposureTime:a.amby.get("player.OutPoint")-a.amby.get("player.InPoint")}),a.asyncRemoveSubListener("player.scrollReached",c),a.addDataCleanListener("player.scrollReached","exposure")},d=function(){a.updateKpiCustomData("ad_viewable",{adViewableTime:Date.now()-a.amby.get("adViewableTimeKpi.lastVideoAdPlayingTime")}),a.asyncRemoveSubListener("widget.adViewable",d),a.addDataCleanListener("widget.adViewable","ad_viewable")},g=function(){a.amby.get("ad.status")===Do.states.STATUS_PLAYING&&(a.amby.dispatch(bt.upsertState({adViewableTimeKpi:{lastVideoAdPlayingTime:Date.now()}})),a.updateKpiCustomData("video_ad_playing",{videoStartDelay:Date.now()-a.amby.get("player.scrollReached")}),a.asyncRemoveSubListener("ad.status",g),a.addDataCleanListener("ad.status","video_ad_playing"))},y=function(){a.amby.dispatch(bt.setTriggerToTrue("sensor.resendAdHashKpi")),a.asyncRemoveSubListener("ad.adHash",y)},b=function(){a.amby.get("ad.loaded")&&a.amby.get("widget.renderTime")&&(a.updateKpiCustomData("ad_loaded_buffer",{loadedBufferTime:Date.now()-a.amby.get("widget.renderTime")}),a.asyncRemoveSubListener("ad.loaded",b),a.addDataCleanListener("ad.loaded","ad_loaded_buffer"))};return{"player.InPoint":o,"widget.renderTime":o,"widget.blurred":n,"player.scrollReached":l,"widget.exposure":c,"widget.adViewable":d,"ad.status":g,"ad.adHash":y,"ad.loaded":b}},p.prototype.getDeletableSubTriggerListenersMap=function(){var a=this,n=function(){a.amby.get("player.scrollReached",!1)&&(a.updateKpiCustomData("vpaid",{impressionDelay:Date.now()-a.amby.get("player.scrollReached")}),a.asyncRemoveTriggerListener("ad.vpaid",n),a.addDataCleanTriggerListener("ad.vpaid","vpaid"))},o=function(){a.amby.get("player.scrollReached",!1)&&(a.updateKpiCustomData("impression",{impressionDelay:Date.now()-a.amby.get("player.scrollReached")}),a.asyncRemoveTriggerListener("ad.impression",o),a.addDataCleanTriggerListener("ad.impression","impression"))};return{"ad.vpaid":n,"ad.impression":o}},p.prototype.addDataCleanTriggerListener=function(a,n){var o=this,l=function(){var c;o.amby.dispatch(bt.upsertState({customDataKpi:(c={},c[n]=null,c)})),setTimeout(function(){o.amby.removeTriggerListener(a,l)})};this.amby.addTriggerListener(a,l)},p.prototype.addDataCleanListener=function(a,n){var o=this,l=function(){var c;o.amby.dispatch(bt.upsertState({customDataKpi:(c={},c[n]=null,c)})),setTimeout(function(){o.amby.removeSubListener(a,l)})};this.amby.addSubListener(a,l)},p.prototype.createPlacementObserver=function(a){var n=this,o=null;this.placementIO=new IntersectionObserver(function(l){var c=l[0]&&l[0].isIntersecting;c&&!n.amby.get("player.InPoint")&&n.amby.dispatch(bt.upsertState({player:{InPoint:Date.now()}})),!c&&!n.amby.get("player.OutPoint")&&o&&(n.amby.dispatch(bt.upsertState({player:{OutPoint:Date.now()}})),n.amby.dispatch(bt.setTriggerToTrue("widget.exposure"))),o=c},{threshold:0}),this.placementIO.observe(a)},p.prototype.createAdViewableObserver=function(a){var n=this,o,l,c=function(){n.amby.get("ad.status")===Do.states.STATUS_PLAYING&&l?o=setTimeout(function(){n.amby.dispatch(bt.setTriggerToTrue("widget.adViewable"))},2e3):clearTimeout(o)};this.adViewableIO=new IntersectionObserver(function(d){l=d[0]&&d[0].isIntersecting,c(),(0,ko.mgDebug)("adViewable intersecting ".concat(l))},{rootMargin:"0px",threshold:.5}),this.amby.addSubListener("ad.status",function(){c()}),this.adViewableIO.observe(a)},p.prototype.createScrollReachedObserver=function(a){var n=this;this.scrollReachedIO=new IntersectionObserver(function(o){var l=o[0]&&o[0].isIntersecting;l&&!n.amby.get("player.scrollReached")&&(n.amby.dispatch(bt.upsertState({player:{scrollReached:Date.now()}})),(0,ko.mgDebug)("Scroll Reached"))},{threshold:.51}),this.scrollReachedIO.observe(a)},p.prototype.addListeners=function(){var a=this,n=function(){a.amby.get("player.InPoint")&&!a.amby.get("player.OutPoint")&&(a.amby.dispatch(bt.upsertState({player:{OutPoint:Date.now()}})),a.amby.dispatch(bt.setTriggerToTrue("widget.exposure")))};window.addEventListener("beforeunload",n),Object.keys(this.deletableSubListeners).forEach(function(o){a.amby.addSubListener(o,a.deletableSubListeners[o])}),Object.keys(this.deletableTriggerListeners).forEach(function(o){a.amby.addTriggerListener(o,a.deletableTriggerListeners[o])}),this.amby.addSubListener("ad.curAdPosition",function(){a.amby.get("ad.curAdPosition")!=="pre"&&(a.placementIO&&a.placementIO.disconnect(),a.adViewableIO&&a.adViewableIO.disconnect(),a.scrollReachedIO&&a.scrollReachedIO.disconnect(),window.removeEventListener("beforeunload",n),Object.keys(a.deletableSubListeners).forEach(function(o){a.amby.removeSubListener(o,a.deletableSubListeners[o])}),Object.keys(a.deletableTriggerListeners).forEach(function(o){a.amby.removeTriggerListener(o,a.deletableTriggerListeners[o])}),a.amby.dispatch(bt.upsertState({player:{InPoint:null}})),a.amby.dispatch(bt.upsertState({player:{OutPoint:null}})),a.amby.dispatch(bt.upsertState({player:{scrollReached:null}})),a.amby.dispatch(bt.upsertState({adViewableTimeKpi:null})),a.amby.dispatch(bt.deleteProperty("customDataKpi")))})},p}();rs.KpiDataManager=Bh});var ka=Ie(os=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty(os,"__esModule",{value:!0});os.AdContainerComponent=void 0;var Oh=ot(),ns=Xe(),Ri=ze(),Rh=Co(),Mh=st(),Wh=Io(),Hh=function(){function p(a,n,o,l){o===void 0&&(o="ad"),l===void 0&&(l="below");var c=this;this.amby=a,this.mgVideoIndex=this.amby.get("mgVideoIndex"),this.widgetId=this.amby.get("widgetId"),this.position=l,this.playerDiv=document.createElement("div"),this.playerContainer=document.createElement("div"),this.playerDiv.id="mgAdPlayerDiv_".concat(this.mgVideoIndex).concat(o!=="ad"?"_".concat(o.replace(/ /g,"_")):""),this.playerDiv.className="mgAdPlayerDiv adPlayerDiv",this.playerDiv.oncontextmenu=function(y){y.preventDefault()},this.playerContainer.appendChild(this.playerDiv),this.playerContainer.id="mgAdPlayerContainerDiv_".concat(this.mgVideoIndex)+"".concat(o!=="ad"?"_".concat(o.replace(/ /g,"_")):"");var d=this.amby.get("paramsData.isSmart",!1)?"smart":"",g=this.amby.get("formatConfig.name","native");g==="attachedWidget"&&(g="outstream"),g==="native"&&this.amby.get("formatConfig.performance",!1)&&(g="performance"),this.playerContainer.className="mgAdPlayerContainerDiv "+"adPlayerContainerDiv ".concat(d," mgAdPlayerFormat-").concat(g),o!=="ad"&&Ri.Helpers.addClass(this.playerContainer,"partial"),this.appendPlayerContainer(n),o==="ad"&&(Ri.Helpers.onVisible(this.playerContainer,function(y){c.inSight=y,c.inSight||c.amby.get("player.isSticky",!1)?c.amby.dispatch(ns.setAdInSight(!0)):c.amby.dispatch(ns.setAdInSight(!1))},this.amby.get("formatConfig.visiblePart",1),this.amby.get("formatConfig.hiddenPart",.5)),parseFloat(this.amby.get("formatConfig.preheat"))&&this.createPreheatObserver(),this.amby.get("visibilityKpi")&&(this.kpiManager=new Wh.KpiDataManager(this.amby,this.playerContainer))),this.playerContainer.addEventListener("click",function(y){y.target.id!=="timeline"&&c.amby.dispatch(ns.upsertAdState({containerClicked:!0})),y.cancelBubble=!0}),this.amby.addSubListener("ad.init",function(){c.amby.get("ad.init")===Oh.states.INIT_DONE&&c.amby.get("ad.enableCTA",!1)&&(c.clickThroughButton?c.clickThroughButton.createElement():c.clickThroughButton=new Rh.ClickThroughComponent(c.amby,c.playerDiv))}),this.amby.addSubListener("".concat(o,".visible"),function(){c.amby.get("".concat(o,".visible"))?(Ri.Helpers.addClass(c.playerDiv,"showed"),Ri.Helpers.addClass(c.playerContainer,"showed")):(Ri.Helpers.removeClass(c.playerDiv,"showed"),Ri.Helpers.removeClass(c.playerContainer,"showed"))})}return p.prototype.applyPlayerSize=function(a,n){n===void 0&&(n=!1),a&&(this.playerContainer&&(n?(this.playerContainer.style.removeProperty("top"),this.playerContainer.style.removeProperty("left"),this.playerContainer.style.removeProperty("width")):(this.playerContainer.style.top="".concat(a.top,"px"),this.playerContainer.style.left="".concat(a.left,"px"),this.playerContainer.style.width="".concat(a.width,"px")),this.playerContainer.style.height="".concat(a.height,"px")),this.playerDiv&&(this.playerDiv.style.width="".concat(a.pWidth,"px"),this.playerDiv.style.height="".concat(a.pHeight,"px")),this.amby.get("formatConfig.preheat")&&!this.amby.get("ad.preheated",!1)&&(this.preheatObserver.disconnect(),this.createPreheatObserver()))},p.prototype.createPreheatObserver=function(){var a=this;this.preheatMargin=parseFloat(this.amby.get("formatConfig.preheat"))*this.amby.get("ad.size.height"),this.preheatObserver=Ri.Helpers.onVisible(this.playerContainer,function(n){n&&((0,Mh.mgDebug)("PreHeat fired in ".concat(a.preheatMargin,"px")),a.amby.dispatch(ns.upsertState({ad:{preheated:!0,actionPlay:!0}})),a.preheatObserver.disconnect())},.01,0,this.preheatMargin)},p.prototype.appendPlayerContainer=function(a){if(this.baseNode=a,this.position==="above")this.baseNode.insertBefore(this.playerContainer,this.baseNode.children[0]);else if(this.position==="next"){var n=this.playerContainer;(!n.parentNode||n.parentElement.className.indexOf("_mgVideoBlock_".concat(this.widgetId))===-1)&&(n=document.createElement("div"),n.className="_mgVideoBlock_".concat(this.widgetId),n.appendChild(this.playerContainer)),this.baseNode.parentNode.insertBefore(n,this.baseNode.nextSibling)}else this.baseNode.appendChild(this.playerContainer)},p}();os.AdContainerComponent=Hh});var Ia=Ie(ls=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty(ls,"__esModule",{value:!0});ls.CloseButtonComponent=void 0;var _i=Xe(),Da=ze(),xr=ot(),Nh=function(){function p(a,n,o){o===void 0&&(o=!0),this.amby=a,this.container=n,this.widgetId=this.amby.get("widgetId"),this.getElem(),!this.elem||o?this.createElement():this.addClickListener(),this.addListeners()}return p.prototype.createElement=function(){this.elem=document.createElement("div"),this.elem.className="mgCloseButton adCloseButton",this.amby.get("closeBtn.visible",!1)?Da.Helpers.addClass(this.elem,"showed"):(this.amby.dispatch(_i.upsertState({closeBtn:{visible:!1}})),Da.Helpers.removeClass(this.elem,"showed")),this.container.appendChild(this.elem),this.addClickListener()},p.prototype.addListeners=function(){var a=this;this.amby.addSubListener("closeBtn.visible",function(){a.amby.get("closeBtn.visible",!1)?Da.Helpers.addClass(a.elem,"showed"):Da.Helpers.removeClass(a.elem,"showed")}),[1,2].indexOf(this.amby.get("closeBtn.enabled"))>-1&&(this.amby.get("closeBtn.enabled")===1&&this.amby.addSubListener("skipBtn.skipable",function(){a.amby.get("skipBtn.skipable",!1)?a.amby.dispatch(_i.upsertState({closeBtn:{visible:!0}})):!a.amby.get("player.isSticky",!1)&&!a.amby.get("player.isAdPlaying",!1)&&a.amby.dispatch(_i.upsertState({closeBtn:{visible:!1}}))}),this.amby.addSubListener("ad.status",function(){switch(a.amby.get("ad.status")){case xr.states.STATUS_PLAYING:a.amby.get("closeBtn.enabled")===1&&!a.amby.get("skipBtn.skipable",!1)&&!a.amby.get("player.isSticky",!1)&&a.amby.dispatch(_i.upsertState({closeBtn:{visible:!1}}));break;case xr.states.STATUS_STOPPED:case xr.states.STATUS_ERROR:a.amby.get("player.isSticky",!1)||a.amby.dispatch(_i.upsertState({closeBtn:{visible:!1}}));break}}),this.amby.addSubListener("player.isSticky",function(){a.amby.get("player.isSticky",!1)&&(["outstream","attachedWidget"].indexOf(a.amby.get("formatConfig.name"))===-1||a.amby.get("skipBtn.skipable",!1)||a.amby.get("closeBtn.enabled")!==1)?a.amby.dispatch(_i.upsertState({closeBtn:{visible:!0}})):(!a.amby.get("player.isAdPlaying",!1)&&["outstream","attachedWidget"].indexOf(a.amby.get("formatConfig.name"))===-1||!a.amby.get("skipBtn.skipable",!1)&&a.amby.get("closeBtn.enabled")===1)&&a.amby.dispatch(_i.upsertState({closeBtn:{visible:!1}}))}))},p.prototype.addClickListener=function(){var a=this;this.elem&&this.elem.addEventListener("click",function(n){a.amby.dispatch(_i.setTriggerToTrue("closeBtn.clicked")),n.cancelBubble=!0})},p.prototype.getElem=function(){return this.widgetBlock||(this.widgetBlock=Da.Helpers.getParentBlockByClass(this.container,"_mgw_".concat(this.widgetId))),this.widgetBlock&&(this.elem=this.widgetBlock.querySelector(".mgCloseCrossButton")||this.widgetBlock.querySelector("div[class*=adCloseButton]")),this.elem},p}();ls.CloseButtonComponent=Nh});var ds=Ie(Zi=>{"use strict";N();V();U();j();z();$();Z();var cs=Zi&&Zi.__assign||function(){return cs=Object.assign||function(p){for(var a,n=1,o=arguments.length;n<o;n++){a=arguments[n];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(p[l]=a[l])}return p},cs.apply(this,arguments)};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.VideoSensorComponent=void 0;var ps=ot(),Xt=ze(),Et=st(),Vh=function(){function p(a){var n=this;this.amby=a.amby,this.config=a.mgRec.config,this.playlist=a.mgRec.vr_playlist,this.cappingData=a.mgRec.cappingData,this.cappingData||(this.eventsBuffer=[],this.amby.addSubListener("cappingData",function(){n.cappingData=a.mgRec.cappingData,n.playlist=a.mgRec.vr_playlist,n.sendFromBuffer()})),this.templateId=this.config.templateId||"0",this.subId=this.config.subid||0,this.widgetId=a.mgRec.cid,this.eventListeners={},this.resendAdHashKpi=[],this.adHashKpiQueriesSent=!1,this.silentMode=!1;var o=a.mgRec.countersDomain||"c.".concat(a.mgRec.subnetDomain||""),l=a.libConfig.videoSensorUrlTemplate;this.sensorUrl=l.replace("{{DOMAIN}}",o);var c=document.location.protocol;c=c.indexOf("http")===0?c:"https:",this.sensorUrl="".concat(c).concat(this.sensorUrl),this.lastPosition=0,this.impressionTime=0,this.sequenceIndex=0,this.cappingInterval=parseInt(this.config.cappingInterval,10)||15,this.formats={native:"instream",outstream:"outstream"};var d=(0,Xt.getInObject)(a,["mgRec","config","events"]);(Xt.Helpers.getUrlParam("mgwteaser")||Xt.Helpers.getUrlParam("mgwcampaign"))&&(this.silentMode=!0),d&&Object.entries(d).forEach(function(g){var y=g[0],b=g[1];typeof b=="function"?n.on(y,b):typeof b=="string"&&n.on(y,function(){n.createImg(b)})}),this.muidn="-";try{this.muidn=window.localStorage.mgMuidn||"-"}catch(g){(0,Et.mgDebug)(g)}this.preCustomData={},this.addListeners(),(0,Et.mgDebug)("VideoSensorComponent initiated.")}return p.prototype.addListeners=function(){var a=this;this.amby.addTriggerListener(["player","userPlay"],function(){a.callSensor("vr_play")}),this.amby.addTriggerListener(["player","userPause"],function(){a.impressionTime=0,a.callSensor("vr_pause")}),this.amby.addSubListener(["player","status"],function(){var g=a.amby.get("player.status");switch(g){case ps.states.STATUS_READY:a.loadFired||(a.loadFired=!0,a.callSensor("vr_load"));break}}),this.amby.addSubListener(["soundNotify"],function(){a.callSensor("sound_notify")}),this.amby.addSubListener(["player","position"],function(){var g=a.amby.get("player.position");if(g&&g>a.lastPosition){a.lastPosition=g;var y=g/a.duration*100;a.impressionTime+=1,!a.impressionTimeSent&&a.impressionTime>=a.cappingInterval&&(a.impressionTimeSent=!0,a.callSensor("vr_capping")),!a.vr25&&y>25&&y<50&&(a.callSensor("vr_progress_25"),a.vr25=!0),!a.vr50&&y>50&&y<75&&(a.callSensor("vr_progress_50"),a.vr50=!0),!a.vr75&&y>75&&y<100&&(a.callSensor("vr_progress_75"),a.vr75=!0)}}),this.amby.addSubListener(["player","complete"],function(){var g=a.amby.get("player.complete",!1);g&&!a.vr100&&a.callSensor("vr_progress_100")}),this.amby.addTriggerListener(["player","seek"],function(){a.lastPosition=a.amby.get("player.position"),a.impressionTime=0}),this.amby.addTriggerListener(["player","firstFrame"],function(){a.reset(),a.callSensor("vr_impression")}),this.amby.addTriggerListener(["player","playerInTeaserClicked"],function(){a.onClickFunc()}),this.amby.addTriggerListener(["player","userMute"],function(){a.callSensor("vr_mute")}),this.amby.addTriggerListener(["player","userUnmute"],function(){a.callSensor("vr_unmute")}),this.amby.addTriggerListener(["closeBtn","clicked"],function(){a.callSensor("vr_close")}),this.amby.addTriggerListener(["player","nextClicked"],function(){a.callSensor("vr_next")}),this.amby.addTriggerListener("player.openPage",function(){a.callSensor("vr_open_page")}),this.amby.addSubListener("ad.status",function(){switch(a.amby.get("ad.status")){case ps.states.STATUS_READY:a.resetAdVars(),a.fireEvent("load"),a.callAdSensor("load");break;case ps.states.STATUS_ERROR:a.fireEvent("error"),a.callAdSensor("error");break;case ps.states.STATUS_PLAYING:a.amby.get("visibilityKpi")&&(setTimeout(function(){a.callAdSensor("video_ad_playing")},0),(0,Et.mgDebug)("VideoAdPlaying sent"));break}}),this.amby.addTriggerListener("player.next",function(){a.callSensor("vr_next")}),this.amby.addTriggerListener("player.previous",function(){a.callSensor("vr_previous")}),this.amby.addTriggerListener("player.next_2",function(){a.callSensor("vr_next_2")}),this.amby.addTriggerListener("player.expandBtnClicked",function(){a.callSensor("vr_expand")}),this.amby.addSubListener("player.quality",function(){a.amby.get("player.quality","360p")==="720p"?a.callSensor("vr_hd_on"):a.callSensor("vr_hd_off")}),this.amby.addSubListener("ad.inSight",function(){!a.inviewSent&&a.amby.get("ad.inSight")&&(a.inviewSent=!0,a.callAdSensor("inview"))}),this.amby.addTriggerListener("ad.impression",function(){var g=new CustomEvent("mgmetrics",{bubbles:!0,composed:!0,detail:{name:"ad.impression",data:""}});window.dispatchEvent(g),a.fireEvent("impression",{hash:a.amby.get("ad.adHash")}),setTimeout(function(){var y=(0,Xt.getInObject)(a.playlist,[a.itemIndex,"id"],0);a.widgetId===1272143&&Number(y)<1e4&&!a.amby.get("ad.adHash")&&(a.preCustomData={vastXml:a.amby.get("vastXml")}),a.callAdSensor("impression"),a.preCustomData={}},0),a.preCustomData={exposureTime:new Date().getTime()-window.performance.timing.navigationStart},a.config.sendRawEvents&&a.callAdSensor("rawimpression"),a.preCustomData={}}),this.amby.addTriggerListener("ad.complete",function(){a.fireEvent("complete"),a.callAdSensor("complete"),a.resetAdVars()}),this.amby.addTriggerListener("ad.vpaid",function(){setTimeout(function(){a.callAdSensor("vpaid")},0)}),this.amby.addTriggerListener("ad.paid",function(){a.callAdSensor("impression")}),this.amby.addTriggerListener("ad.clicked",function(){a.fireEvent("click"),a.callAdSensor("click")}),this.amby.addTriggerListener("ad.skip",function(){a.fireEvent("skip"),a.callAdSensor("skip")}),this.amby.addTriggerListener("ad.closed",function(){a.callAdSensor("close")}),this.amby.addTriggerListener("ad.passback",function(){a.callAdSensor("passback")}),this.amby.addTriggerListener("ad.mute",function(){a.callAdSensor("mute")}),this.amby.addTriggerListener("ad.unmute",function(){a.callAdSensor("unmute")}),this.amby.addTriggerListener("ad.unmuteraw",function(){a.config.sendRawEvents&&a.callAdSensor("unmuteraw")}),this.amby.addTriggerListener("ad.inventory",function(){a.callAdSensor("adinventory")}),this.amby.addTriggerListener("widget.rawplayer",function(){a.preCustomData={exposureTime:new Date().getTime()-window.performance.timing.navigationStart},a.config.sendRawEvents&&a.callAdSensor("rawplayer"),a.preCustomData={}}),this.amby.addTriggerListener("widget.rawinit",function(){a.preCustomData={exposureTime:new Date().getTime()-window.performance.timing.navigationStart},a.config.sendRawEvents&&a.callAdSensor("rawinit"),a.preCustomData={}}),this.amby.addTriggerListener("ad.rejected",function(){a.callAdSensor("rejected")});var n=function(g){return function(){a.amby.get("player.InPoint")&&a.amby.get("widget.renderTime")&&(setTimeout(function(){a.callAdSensor("render_buffer"),a.amby.removeSubListener(g,n)},0),(0,Et.mgDebug)("Render buffer sent"))}};this.amby.addSubListener("player.InPoint",n("player.InPoint")),this.amby.addSubListener("widget.renderTime",n("widget.renderTime"));var o=function(){setTimeout(function(){a.callAdSensor("scroll_buffer"),a.amby.removeSubListener("player.scrollReached",o)},0),(0,Et.mgDebug)("Scroll buffer sent")};this.amby.addSubListener("player.scrollReached",o);var l=function(){setTimeout(function(){a.amby.get("customDataKpi.ad_loaded_buffer.loadedBufferTime")&&(a.callAdSensor("ad_loaded_buffer"),(0,Et.mgDebug)("Ad Loaded buffer sent"),a.amby.removeSubListener("ad.loaded",l))},0)};this.amby.addSubListener("ad.loaded",l);var c=function(){(0,Et.mgDebug)("widget.adViewable triggered"),a.amby.get("adViewableTimeKpi.lastVideoAdPlayingTime")&&setTimeout(function(){a.callAdSensor("ad_viewable"),a.amby.removeSubListener("widget.adViewable",c)}),(0,Et.mgDebug)("adViewable sent")};this.amby.addSubListener("widget.adViewable",c);var d=function(){setTimeout(function(){a.callAdSensor("exposure"),a.amby.removeSubListener("widget.adViewable",c)}),(0,Et.mgDebug)("exposure sent")};this.amby.addSubListener("widget.exposure",d),this.amby.addTriggerListener("sensor.resendAdHashKpi",function(){if(a.amby.get("ad.playerEngine")==="vpaid")for(;a.resendAdHashKpi.length>0;){var g=new URL(a.resendAdHashKpi.pop());g.searchParams.set("h",a.amby.get("ad.adHash")),a.createImg(g.toString())}a.adHashKpiQueriesSent=!0,(0,Et.mgDebug)("AdHashKpi queries sent")})},p.prototype.addTeasersListeners=function(){for(var a=this,n=this.amby.get("teasers",[]),o=0;o<n.length;o++)this.amby.addTriggerListener(["teasers",o,"clicked"],function(){a.onClickFunc()}),this.amby.addTriggerListener(["teasers",o,"autoClicked"],function(){a.onClickFunc(!0)})},p.prototype.getFormat=function(){var a=this.amby.get("formatConfig.name");return this.formats[a]||"unknown"},p.prototype.callSensor=function(a){var n,o="",l={vrViewable:0,sticky:0,playlistSeq:this.sequenceIndex,uuid:this.config.uuid||"",format:this.getFormat(),muidn:this.muidn,playerEngine:this.amby.get("ad.playerEngine","unknown")};if(this.silentMode)return!1;if(this.playlist&&this.playlist[this.amby.get("player.itemIndex",0)]){this.itemIndex=this.amby.get("player.itemIndex",0);var c=this.amby.get("player.position",0);n=this.playlist[this.itemIndex].id,o="&h=".concat(this.playlist[this.itemIndex].hash),a==="sound_notify"&&(l.msg=this.amby.get("soundNotify")),this.getFromCappingData(l),["vr_click","vr_auto_click"].indexOf(a)>-1?(this.cappingData?typeof this.cappingData.isBot<"u"?l.isBot=this.cappingData.isBot:l.isBot=0:l.isBot="{isBot}",o+="&src=".concat(this.itemIndex),this.sourceShowHashUpdated===!1&&(o+="&v=".concat(this.sourceShowHash))):(a==="vr_progress_100"&&(c=this.duration),l.timeOffset=Math.floor(c),a.indexOf("vr_")===0&&this.sourceShowHash&&this.sourceShowHash!==this.playlist[this.itemIndex].hash&&(o+="&v=".concat(this.sourceShowHash)))}this.amby.get("visibilityKpi")&&this.amby.get("customDataKpi.".concat(a))&&(l=Object.assign(l,this.amby.get("customDataKpi.".concat(a)))),o+="&o=".concat(encodeURIComponent(JSON.stringify(l)));var d=Math.floor(Math.random()*65535),g=n?"tid=".concat(n,"&"):"",y="".concat(this.sensorUrl,"?").concat(g,"iid=").concat(this.widgetId,"&e=").concat(a).concat(o,"&t=").concat(this.templateId)+"&c=".concat(d);return y=Xt.Helpers.attachRequestParams(y),this.sendGA(a),(0,Et.mgDebug)("Event ".concat(a," fired.")),(0,Et.mgDebug)("Generated link: ".concat(y)),this.cappingData?this.createImg(y):(this.addToBuffer(y),!1)},p.prototype.callAdSensor=function(a){var n=Math.floor(Math.random()*65535),o=Date.now();this.itemIndex=this.amby.get("player.itemIndex",0);var l=(0,Xt.getInObject)(this.playlist,[this.itemIndex,"id"],0);if(this.silentMode)return!1;this.amby.get("ad.adPlayer")===2&&(l=this.amby.get("ad.adTag"));var c=cs(cs({},this.preCustomData),{timeOffset:this.amby.get("ad.position",0),muidn:this.muidn});a==="complete"?c={timeOffset:Math.floor(this.amby.get("ad.duration",1))}:["vpaid","skip","click","close"].indexOf(a)>-1?c={adTag:this.amby.get("ad.adTag"),videoUrl:this.amby.get("ad.videoUrl"),adClickUrl:this.amby.get("ad.adClickUrl")}:a==="unmuteraw"?c={videoUrl:this.amby.get("ad.unmuteMediaSrc")}:a==="impression"?(c.timems=o,c.impHash=Xt.Helpers.md5("".concat(this.amby.get("ad.adHash"),"_").concat(this.muidn,"_").concat(o)),this.amby.get("ad.poc")&&(c.poc=this.amby.get("ad.poc"))):a==="load"&&this.cappingData&&this.amby.get("servLib")&&(c.badLibVer=this.amby.get("servLib")),this.amby.get("visibilityKpi")&&this.amby.get("customDataKpi.".concat(a))&&((0,Et.mgDebug)(this.amby.get("customDataKpi.".concat(a))),c=Object.assign(c,this.amby.get("customDataKpi.".concat(a)))),c.playerEngine=this.amby.get("ad.playerEngine","unknown"),c.adPlayer=this.amby.get("ad.adPlayer")||0,c.uuid=this.config.uuid||"",c.subId=parseInt(this.subId,10)||0,c.sticky=this.amby.get("player.isSticky",!1)?1:0,c.viewable=this.amby.get("ad.inSight",!1)?100:0,this.getFromCappingData(c),a==="error"&&(c.errorMessage=encodeURIComponent(this.amby.get("ad.errorMessage")));var d="".concat(this.sensorUrl,"?tid=").concat(l,"&iid=").concat(this.widgetId,"&e=").concat(a,"&o=").concat(encodeURIComponent(JSON.stringify(c)),"&t=").concat(this.templateId,"&c=").concat(n);return this.amby.get("ad.adHash")?d+="&h=".concat(this.amby.get("ad.adHash")):(0,Xt.getInObject)(this.playlist,[this.itemIndex,"hash"])&&(d+="&h=".concat((0,Xt.getInObject)(this.playlist,[this.itemIndex,"hash"]))),this.sourceShowHash&&this.sourceShowHash!==(0,Xt.getInObject)(this.playlist,[this.itemIndex,"hash"])&&(d+="&v=".concat(this.sourceShowHash)),this.needRepeatKpiEvent(a)&&this.resendAdHashKpi.push(d),this.sendGA(a),d=Xt.Helpers.attachRequestParams(d),(0,Et.mgDebug)("Event ".concat(a," fired.").concat(this.amby.get("ad.adTag")?" Ad source: ".concat(this.amby.get("ad.adTag")):"")),(0,Et.mgDebug)("Link generated: ".concat(d)),this.cappingData?this.createImg(d):this.addToBuffer(d)},p.prototype.needRepeatKpiEvent=function(a){return!this.amby.get("ad.adHash",!1)&&!this.adHashKpiQueriesSent&&["render_buffer","scroll_buffer","exposure","ad_loaded_buffer","video_ad_playing"].indexOf(a)>-1},p.prototype.onClickFunc=function(a){a===void 0&&(a=!1);var n=this.amby.get("player.itemIndex",0);this.sourceShowHashUpdated=!0,this.sourceShowHash=this.playlist[n].hash,this.callSensor(a?"vr_auto_click":"vr_click")},p.prototype.reset=function(){this.lastPosition=0,this.duration=this.amby.get("player.duration",1),this.impressionTime=0,this.impressionTimeSent=!1,this.vr25=!1,this.vr50=!1,this.vr75=!1,this.vr100=!1,this.progress10s=!1,this.progress20s=!1,this.sourceShowHashUpdated===!0&&(this.sourceShowHashUpdated=!1),this.sequenceIndex+=1},p.prototype.createImg=function(a){Xt.Helpers.createImg(a)},p.prototype.resetAdVars=function(){this.lastAdPosition=0},p.prototype.sendGA=function(a){if(this.amby.get("ga_id",!1)){var n="https://www.google-analytics.com/collect?v=1&tid=".concat(this.amby.get("ga_id"))+"&t=event&ec=MgPlayer&cid=1&ea=".concat(a,"&dl=").concat(encodeURIComponent(window.location!==window.parent.location?document.referrer:document.location.href));(0,Et.mgDebug)("GA: ".concat(n)),this.createImg(n)}},p.prototype.on=function(a,n){Object.prototype.hasOwnProperty.call(this.eventListeners,a)||(this.eventListeners[a]=[]),this.eventListeners[a].push(n)},p.prototype.fireEvent=function(a,n){n===void 0&&(n=null),Object.prototype.hasOwnProperty.call(this.eventListeners,a)&&this.eventListeners[a].forEach(function(o){setTimeout(function(){try{o(n)}catch(l){(0,Et.mgDebug)("VideoSensorComponent ERROR: event ".concat(a,": ").concat(l))}},0)})},p.prototype.getFromCappingData=function(a){this.cappingData?(this.cappingData.tt&&(a.tt=this.cappingData.tt),this.cappingData.ts&&(a.ts=this.cappingData.ts),this.cappingData.psid&&(a.psid=this.cappingData.psid)):(a.tt="{tt}",a.ts="{ts}",a.psid="{psid}")},p.prototype.addToBuffer=function(a){this.eventsBuffer||(this.eventsBuffer=[]),this.eventsBuffer.push(a)},p.prototype.sendFromBuffer=function(){for(var a=this,n=function(){var l=o.eventsBuffer.shift();setTimeout(function(){var c=new URL(l),d=JSON.parse(c.searchParams.get("o"));d.tt&&(a.cappingData.tt?d.tt=a.cappingData.tt:delete d.tt),d.ts&&(a.cappingData.ts?d.ts=a.cappingData.ts:delete d.ts),d.psid&&(a.cappingData.psid?d.psid=a.cappingData.psid:delete d.psid),d.isBot&&(typeof a.cappingData.isBot<"u"?d.isBot=a.cappingData.isBot:d.isBot=0),a.amby.get("servLib")?d.badLibVer=a.amby.get("servLib"):d.badLibVer&&delete d.badLibVer,c.searchParams.set("o",JSON.stringify(d)),a.createImg(c.href)},0)},o=this;this.eventsBuffer.length>0;)n()},p}();Zi.VideoSensorComponent=Vh});var us=Ie(hs=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty(hs,"__esModule",{value:!0});hs.MoveToBodyComponent=void 0;var Gh=function(){function p(a,n){this.widgetId=a,this.playerContainerDiv=n}return p.prototype.attachBody=function(){var a=document.body.querySelector("body > ._mgVideoBlock_".concat(this.widgetId,":last-child"));a?a.appendChild(this.playerContainerDiv):(a=document.createElement("div"),a.className="_mgVideoBlock_".concat(this.widgetId),a.appendChild(this.playerContainerDiv),document.body.appendChild(a))},p.prototype.detachBody=function(a){a.appendChild(this.playerContainerDiv)},p}();hs.MoveToBodyComponent=Gh});var fs=Ie(ms=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty(ms,"__esModule",{value:!0});ms.StyleComponent=void 0;var qh=st(),Uh=function(){function p(a){this.amby=a.amby,this.rootElement=a.rootElement,this.widgetId=this.amby.get("widgetId");var n=document.location.protocol;if(n=n.indexOf("http")===0?n:"https:",this.styleUrl=this.amby.get("formatConfig.styleUrl"),this.styleUrl)this.styleUrl=this.styleUrl.replace("{{DOMAIN}}",this.amby.get("subnetDomain","")),this.styleUrl=this.styleUrl.replace(/^(https?:\/\/|\/\/)/,"".concat(n,"//"));else{var o='@keyframes preload{from{transform:rotate(0)}to{transform:rotate(360deg)}}@-webkit-keyframes preload{from{transform:rotate(0)}to{transform:rotate(360deg)}}html>div{display:none!important}.mg2player{position:relative;width:100%;height:100%;overflow:hidden}.mg2player,.mg2player *{font-family:"Open Sans",sans-serif;box-sizing:border-box}.mg2player_mute .mg2player__volume:not(.mghover):not(.showed){opacity:0;visibility:hidden}.mg2player__video{position:absolute;top:50%;left:50%;width:100%;height:100%;-o-object-fit:contain;object-fit:contain;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transform:translate(-50%,-50%)}.mg2player:not(.mg2player_playing) .mg2player__video[poster]{-o-object-fit:cover;object-fit:cover}.mg2player__preload{position:absolute;top:50%;left:50%}.mg2player__controls{position:absolute;bottom:0;left:0;width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#fff;padding-top:10px;transition:opacity .3s ease,visibility .3s ease}.mg2player__controls:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;opacity:0;visibility:hidden;background:-webkit-gradient(linear,left top,left bottom,from(rgba(0,0,0,0)),to(rgba(0,0,0,.85)));background:-webkit-linear-gradient(top,rgba(0,0,0,0) 0,rgba(0,0,0,.85) 100%);background:-moz-linear-gradient(top,rgba(0,0,0,0) 0,rgba(0,0,0,.85) 100%);background:-o-linear-gradient(top,rgba(0,0,0,0) 0,rgba(0,0,0,.85) 100%);background:linear-gradient(to bottom,rgba(0,0,0,0) 0,rgba(0,0,0,.85) 100%)}.mg2player__controls-cover{position:relative;z-index:2;margin-right:25px}.mg2player__controls-wrap{display:block;width:100%;height:30px}.mg2player__controls-wrap>*{display:table-cell}.mg2player_HD,.mg2player__btn,.mg2player__close,.mg2player__custom-btn,.mg2player__expand,.mg2player__play-btn,.mg2player__play-next,.mg2player__preload,.mg2player__start-btn,.mg2player__volume{line-height:1}.mg2player__preload{position:absolute;color:#fff;opacity:0;visibility:hidden;-webkit-animation:preload 1.5s infinite linear;animation:preload 1.5s infinite linear;transition:opacity .1s ease,visibility .1s ease;margin:-12px 0 0 -12px}.mg2player_preload .mg2player__preload{opacity:1;visibility:visible}.mg2player__preload:before{background:url("/mgPlayer/img/mgPlayer_v2_sprite.svg#spinner");content:"";width:24px;height:24px;display:block;transform:scale(1.25)}.mg2player__play-btn,.mg2player__play-next{position:relative;width:30px;height:30px;cursor:pointer}.mg2player_HD{position:absolute;right:0;bottom:auto;width:20px;height:20px;top:50%;transform:translate(0,-50%);cursor:pointer}.mg2player__play-btn:after,.mg2player__play-btn:before{position:absolute;top:0;left:0;width:24px;height:24px;transform:scale(1.25)}.mg2player__play-btn:before,.mg2player__start-btn:before{background:url("/mgPlayer/img/mgPlayer_v2_sprite.svg#play_arrow");content:"";width:24px;height:24px;display:block}.mg2player__play-btn:after,.mg2player__start-btn:after{background:url("/mgPlayer/img/mgPlayer_v2_sprite.svg#pause");content:"";width:24px;height:24px;display:none}.mg2player__start-btn:after{background:url("/mgPlayer/img/mgPlayer_v2_sprite.svg#pause");content:"";width:24px;height:24px;display:none}.mg2player__play-next:before{position:absolute;font-size:30px;top:0;left:0;background:url("/mgPlayer/img/mgPlayer_v2_sprite.svg#skip_next");content:"";width:24px;height:24px;display:block;transform:scale(1.25)}.mg2player_HD_disabled{color:#bbb}.mg2player_HD:before{position:absolute;top:-4px;left:-4px;background:url("/mgPlayer/img/mgPlayer_v2_sprite.svg#hd");content:"";width:24px;height:24px;display:block;transform:scale(1.25)}.mg2player__start-btn{position:absolute;width:60px;height:60px;color:#fff;cursor:pointer;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:50%;background-color:rgba(0,0,0,.3);border:3px rgba(255,255,255,.5) solid}.mg2player__start-btn:after,.mg2player__start-btn:before{top:50%;left:50%;content:"";transform:translate(-50%,-50%) scale(2.17)}.mg2player:hover:not(.mg2player_playing) .mg2player__start-btn.mghover{background-color:rgba(0,0,0,.7);border:3px #fff solid;transition:background-color .15s ease-in-out,border-color .15s ease-in-out}.mg2player.mg2player_playing:hover .mg2player__start-btn.mghover{transition:none}.mg2player_playing .mg2player__play-btn:before,.mg2player_playing .mg2player__start-btn:before{display:none}.mg2player_playing .mg2player__play-btn:after,.mg2player_playing .mg2player__start-btn:after{display:block}.mg2player__time{font-size:11px;white-space:nowrap;padding:0 4px;width:1px;vertical-align:middle}.mg2player__time_slash{padding-left:0;padding-right:0}.mg2player__track{position:relative;z-index:2;vertical-align:middle;padding:0 5px;margin-bottom:4px;cursor:pointer}.mg2player__track-wrap{position:relative;height:2px;background:rgba(255,255,255,.2);vertical-align:inherit;width:100%;transition:height .2s}.mg2player__controls:hover .mg2player__track-wrap{height:5px}.mg2player__track-buffer{position:absolute;left:0;height:100%;background:rgba(255,255,255,.4)}.mg2player__track-played{position:absolute;left:0;height:100%;background:red}.mg2player__track-point{position:absolute;top:50%;background:red;width:10px;height:10px;border-radius:50%;margin-left:-5px;margin-top:-5px;cursor:pointer}.mg2player__volume{position:absolute;bottom:0;right:0;width:30px;height:30px;cursor:pointer;color:#fff;opacity:0;visibility:hidden;transition:opacity .3s ease,visibility .3s ease;z-index:3;margin-bottom:-3px;margin-right:-3px}.mg2player__volume:after,.mg2player__volume:before{position:absolute;font-size:30px;width:24px;height:24px;content:"";transform:scale(1.25)}.mg2player__volume:before{background:url("/mgPlayer/img/mgPlayer_v2_sprite.svg#volume_down_red");display:block}.mg2player__volume:after{background:url("/mgPlayer/img/mgPlayer_v2_sprite.svg#volume_off_red");display:none}.mg2player_mute .mg2player__volume:before{display:none}.mg2player_mute .mg2player__volume:after{display:block}.mg2player_controls .mg2player_mute .mg2player__volume{opacity:1;visibility:visible}.mg2player__volume-bar{display:none;position:absolute;bottom:100%;left:0;width:100%;height:70px;padding:3px 3px 15px 3px;border-radius:2px}.mg2player__volume-wrap{width:30%;position:relative;top:0;left:50%;transform:translate(-50%,0);height:100%;background:rgba(255,255,255,.4);cursor:pointer;border-radius:2px}.mg2player__volume-level{background:red;width:100%;height:100%;bottom:0;left:0;position:absolute;border-radius:2px}.mg2player__volume:hover .mg2player__volume-bar{display:block}.mg2player__close,.mg2player__expand{position:absolute;top:2px;cursor:pointer;color:#fff;font-size:20px}.mg2player__expand{left:5px}.mg2player__close{right:5px}.mg2player__expand:before{background:url("/mgPlayer/img/mgPlayer_v2_sprite.svg#expand");content:"";width:24px;height:24px;display:block}.mg2player__close:before{background:url("/mgPlayer/img/mgPlayer_v2_sprite.svg#cancel");content:"";width:24px;height:24px;display:block}.mg2player__time{font-size:12px;cursor:default}.mg2player__title{position:absolute;top:0;left:0;width:100%;z-index:9999;line-height:22px;font-weight:500;font-size:17px;color:#fff;font-family:Roboto,sans-serif;padding:10px 20px 0;text-align:left;text-decoration:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mg2player__custom-btn{padding:4px}.mg2player__custom-btn>img{width:100%;height:100%}.mg2player_HD:before,.mg2player__btn,.mg2player__close:before,.mg2player__custom-btn,.mg2player__expand:before,.mg2player__play-btn:after,.mg2player__play-btn:before,.mg2player__play-next:before,.mg2player__start-btn:after,.mg2player__start-btn:before,.mg2player__time,.mg2player__title,.mg2player__track-point,.mg2player__volume:after,.mg2player__volume:before{text-shadow:2px 1px 2px #000}.mg2player__center{text-align:center;vertical-align:middle}.mg2player__btn{position:absolute;top:50%;margin-top:-20px;color:#fff;font-size:40px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:0;visibility:hidden;transition:opacity .2s ease,visibility .2s ease}.mg2player__btn_left{left:8px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;justify-content:flex-start;margin-top:-10px}.mg2player__btn_right{right:8px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;justify-content:flex-end;margin-top:-10px}.mg2player__btn_left:before{background:url("/mgPlayer/img/mgPlayer_v2_sprite.svg#navigate_before");content:"";width:24px;height:24px;display:block;transform:scale(2)}.mg2player__btn_right:before{background:url("/mgPlayer/img/mgPlayer_v2_sprite.svg#navigate_next");content:"";width:24px;height:24px;display:block;transform:scale(2)}.mg2player_HD,.mg2player__close,.mg2player__custom-btn,.mg2player__expand,.mg2player__play-btn,.mg2player__play-next,.mg2player__start-btn,.mg2player__time,.mg2player__title,.mg2player__track,.mg2player__volume{opacity:0;visibility:hidden;transition:opacity .3s ease,visibility .3s ease}.mg2player__expand.showed,.mg2player_controls .mg2player_HD.showed,.mg2player_controls .mg2player__btn.showed,.mg2player_controls .mg2player__close.showed,.mg2player_controls .mg2player__custom-btn.showed,.mg2player_controls .mg2player__play-btn.showed,.mg2player_controls .mg2player__play-next.showed,.mg2player_controls .mg2player__start-btn.showed,.mg2player_controls .mg2player__time.showed,.mg2player_controls .mg2player__title.showed,.mg2player_controls .mg2player__track.showed,.mg2player_controls .mg2player__volume.showed{opacity:1;visibility:visible}.mg2player.mg2player_controls:not(.mg2player_playing) .mg2player_HD.mghover,.mg2player.mg2player_controls:not(.mg2player_playing) .mg2player__btn.mghover,.mg2player.mg2player_controls:not(.mg2player_playing) .mg2player__close.mghover,.mg2player.mg2player_controls:not(.mg2player_playing) .mg2player__custom-btn.mghover,.mg2player.mg2player_controls:not(.mg2player_playing) .mg2player__play-btn.mghover,.mg2player.mg2player_controls:not(.mg2player_playing) .mg2player__play-next.mghover,.mg2player.mg2player_controls:not(.mg2player_playing) .mg2player__time.mghover,.mg2player.mg2player_controls:not(.mg2player_playing) .mg2player__track.mghover,.mg2player.mg2player_controls:not(.mg2player_playing) .mg2player__volume.mghover,.mg2player:not(.mg2player_playing) .mg2player__start-btn.mghover,.mg2player:not(.mg2player_playing) .mg2player__title.mghover,.mg2player:not(.mg2player_playing):before{opacity:1;visibility:visible}.mg2player.mg2player_controls:hover .mg2player_HD.mghover,.mg2player.mg2player_controls:hover .mg2player__btn.mghover,.mg2player.mg2player_controls:hover .mg2player__close.mghover,.mg2player.mg2player_controls:hover .mg2player__controls.mghover:before,.mg2player.mg2player_controls:hover .mg2player__custom-btn.mghover,.mg2player.mg2player_controls:hover .mg2player__play-btn.mghover,.mg2player.mg2player_controls:hover .mg2player__play-next.mghover,.mg2player.mg2player_controls:hover .mg2player__time.mghover,.mg2player.mg2player_controls:hover .mg2player__track.mghover,.mg2player.mg2player_controls:hover .mg2player__volume.mghover,.mg2player:hover .mg2player__expand.mghover,.mg2player:hover .mg2player__title.mghover{opacity:1;visibility:visible}.mg2player__track{-moz-flex:1;flex:1}.mg2player__time_slash{-moz-flex:0 0 8px;flex:0 0 8px}.mg2player.mgred:before{content:"";position:absolute;top:0;right:0;left:0;padding-bottom:14%;z-index:1;opacity:0;visibility:hidden;pointer-events:none;background:-webkit-gradient(linear,left top,left bottom,from(#010102),color-stop(50%,rgba(1,1,2,.4)),color-stop(80%,rgba(1,1,2,.1)),to(rgba(1,1,2,0)));background:-webkit-linear-gradient(top,#010102 0,rgba(1,1,2,.4) 50%,rgba(1,1,2,.1) 80%,rgba(1,1,2,0) 100%);background:-moz-linear-gradient(top,#010102 0,rgba(1,1,2,.4) 50%,rgba(1,1,2,.1) 80%,rgba(1,1,2,0) 100%);background:-o-linear-gradient(top,#010102 0,rgba(1,1,2,.4) 50%,rgba(1,1,2,.1) 80%,rgba(1,1,2,0) 100%);background:linear-gradient(to bottom,#010102 0,rgba(1,1,2,.4) 50%,rgba(1,1,2,.1) 80%,rgba(1,1,2,0) 100%)}.mg2player.mgred .mg2player__controls-wrap{display:-ms-flex;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.mg2player.mgred .mg2player_HD{position:relative}.ctplay .mg2player.mgred .mg2player__start-btn,.ctplay .mg2player.mgred .mg2player__start-btn.mghover,.mg2player.mgred .mg2player__start-btn,.mg2player.mgred .mg2player__start-btn.mghover{background:red;border-color:red;transition:background-color 1s}.ctplay .mg2player.mgred:hover:not(.mg2player_playing) .mg2player__start-btn.mghover,.mg2player.mgred:hover:not(.mg2player_playing) .mg2player__start-btn.mghover{background-color:rgba(1,0,0,.1);border-color:red}.mg2player.mgred.mg2player_playing:hover .mg2player__start-btn.mghover{transition:none}.mg2player.mgred .mg2player__time{-ms-grid-row-align:center;align-self:center}.mg2player.mgred .mg2player__track-wrap{top:50%}.mg2player.mgred .mg2player__volume{color:red}.mg2player.mgred .mg2player__start-btn:before{text-shadow:none;position:relative}.mg2player.mgred .mg2player_HD,.mg2player.mgred .mg2player__custom-btn,.mg2player.mgred .mg2player__play-btn,.mg2player.mgred .mg2player__play-next,.mg2player.mgred .mg2player__time,.mg2player.mgred .mg2player__track,.mg2player.mgred .mg2player__volume{-moz-flex:0 0 35px;flex:0 0 35px}.mg2player.mgred .mg2player__track{-moz-flex:1;flex:1}.mg2player.mgred .mg2player__time_slash{-moz-flex:0 0 8px;flex:0 0 8px}.mg2player.mgred .mg2player_HD,.mg2player.mgred .mg2player__play-btn,.mg2player.mgred .mg2player__play-next,.mg2player.mgred .mg2player__time,.mg2player.mgred .mg2player__track{opacity:1;visibility:visible;display:none}.mg2player.mgred.mg2player_controls .mg2player_HD.showed,.mg2player.mgred.mg2player_controls .mg2player__custom-btn.showed,.mg2player.mgred.mg2player_controls .mg2player__play-btn.showed,.mg2player.mgred.mg2player_controls .mg2player__play-next.showed,.mg2player.mgred.mg2player_controls .mg2player__time.showed,.mg2player.mgred.mg2player_controls .mg2player__track.showed{display:block}.mg2player.mgred.mg2player_controls:not(.mg2player_playing) .mg2player_HD.mghover,.mg2player.mgred.mg2player_controls:not(.mg2player_playing) .mg2player__custom-btn.mghover,.mg2player.mgred.mg2player_controls:not(.mg2player_playing) .mg2player__play-btn.mghover,.mg2player.mgred.mg2player_controls:not(.mg2player_playing) .mg2player__play-next.mghover,.mg2player.mgred.mg2player_controls:not(.mg2player_playing) .mg2player__time.mghover,.mg2player.mgred.mg2player_controls:not(.mg2player_playing) .mg2player__track.mghover,.mg2player.mgred:not(.mg2player_playing):before{display:block}.mg2player.mgred.mg2player_controls:hover .mg2player_HD.mghover,.mg2player.mgred.mg2player_controls:hover .mg2player__custom-btn.mghover,.mg2player.mgred.mg2player_controls:hover .mg2player__play-btn.mghover,.mg2player.mgred.mg2player_controls:hover .mg2player__play-next.mghover,.mg2player.mgred.mg2player_controls:hover .mg2player__time.mghover,.mg2player.mgred.mg2player_controls:hover .mg2player__track.mghover{display:block}.ctplay .mg2player.mgred:not(.mg2player_playing) .mg2player__close.mghover,.ctplay .mg2player.mgred:not(.mg2player_playing) .mg2player__custom-btn.mghover,.ctplay .mg2player.mgred:not(.mg2player_playing) .mg2player__play-btn.mghover,.ctplay .mg2player.mgred:not(.mg2player_playing) .mg2player__play-next.mghover,.ctplay .mg2player.mgred:not(.mg2player_playing) .mg2player__start-btn.mghover,.ctplay .mg2player.mgred:not(.mg2player_playing) .mg2player__time.mghover,.ctplay .mg2player.mgred:not(.mg2player_playing) .mg2player__track.mghover,.ctplay .mg2player.mgred:not(.mg2player_playing) .mg2player__volume.mghover,.ctplay .mg2player.mgred:not(.mg2player_playing) .mg2player__volume.showed{opacity:1;visibility:visible;display:block}.mg2player.mgred .mg2player__volume-bar{padding:3px}@media only screen and (max-device-width:480px){.mg2player.mgred .mg2player__start-btn:before{top:0}.mg2player__play-btn:after,.mg2player__play-btn:before,.mg2player__play-next:before,.mg2player__volume:after,.mg2player__volume:before{transform:scale(.83)}}@media (max-width:480px){.mg2player__controls-cover{margin-right:30px}.mg2player__preload:before{transform:scale(2)}.mg2player_HD,.mg2player__play-btn,.mg2player__play-next,.mg2player__volume{width:30px;height:30px}.mg2player__time{font-size:12px}.mg2player_HD:before,.mg2player__play-btn:after,.mg2player__play-btn:before,.mg2player__play-next:before,.mg2player__volume:after,.mg2player__volume:before{transform:scale(.8)}.mg2player__start-btn{width:80px;height:80px;font-size:70px}.mg2player.mgred .mg2player__start-btn:before{top:26px;left:26px;transform:scale(2.91);width:24px;height:24px}.mg2player__volume:hover .mg2player__volume-bar{display:none}}@media (min-width:768px){.mg2player__controls-cover{margin-right:30px}.mg2player__preload:before{transform:scale(1.6)}.mg2player_HD,.mg2player__play-btn,.mg2player__play-next,.mg2player__volume{width:30px;height:30px}.mg2player_HD:before,.mg2player__play-btn:after,.mg2player__play-btn:before,.mg2player__play-next:before{top:0;left:0}.mg2player__time{font-size:12px}.mg2player__start-btn{width:80px;height:80px}.mg2player__start-btn:after,.mg2player__start-btn:before{transform:scale(3.33);margin:-12px 0 0 -12px}}@media (min-width:1024px){.mg2player__preload:before{transform:scale(2)}.mg2player__controls-cover{margin:2px 35px 2px 5px}.mg2player_HD:before,.mg2player__play-btn:after,.mg2player__play-btn:before,.mg2player__play-next:before{top:4px;left:4px}.mg2player__track{padding:0 10px}.mg2player__volume{bottom:2px;right:5px}.mg2player_HD:before,.mg2player__play-btn:after,.mg2player__play-btn:before,.mg2player__play-next:before,.mg2player__volume:after,.mg2player__volume:before{font-size:30px;transform:scale(1.25)}.mg2player__expand{font-size:30px;transform:scale(1.25)}.mg2player__close{font-size:32px;transform:scale(1.33)}.mg2player__btn{font-size:50px;width:40px;overflow:hidden}.mg2player__btn_left:before{position:relative}.mg2player__btn_right:before{position:relative}.mg2player__start-btn{width:90px;height:90px;font-size:80px}}.video-info__wrap{font-family:Roboto,sans-serif}.fake>.video-info__centering,.video-info__centering{display:table;width:100%;height:100%}.video-info__centering-cell{display:table-cell;vertical-align:middle;text-align:center;padding:20px 0}.video-info__wrap{margin:0 auto;background:#000;max-width:1100px;width:-webkit-calc(100vw - 40px);width:-moz-calc(100vw - 40px);width:calc(100vw - 40px);position:relative;box-shadow:0 0 150px 0 rgba(0,0,0,.9);text-align:left}div.video-info__player{position:relative;height:100%}div.video-info__player.ad-loading .mg2player .mg2player__preload{visibility:visible;opacity:1}div.video-info__player.ad-loading div.adPlayerContainerDiv.showed,div.video-info__player.ad-loading div.mgAdPlayerContainerDiv.showed{background-color:transparent!important}.video-info__title{background:#111;padding:10px}.video-info__title-cell{font-weight:300;font-size:13px;line-height:1.3;margin-bottom:3px;color:#fff}.video-info__sub-title{color:#898989;font-size:11px;line-height:1.3}.mgCloseCrossButton{background:#000;position:absolute;top:0;right:0;width:19px;height:19px;margin:-19px -19px 0 0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.mgCloseCrossButton:after,.mgCloseCrossButton:before{content:"";position:absolute;background:#777;transform:rotate(-45deg);transition:background .2s ease}.mgCloseCrossButton:after{width:1px;height:11px;top:4px;left:9px}.mgCloseCrossButton:before{width:11px;height:1px;top:9px;left:4px}.swiper-slide-lenta:first-child{display:none!important}.mgline.vrline.vrnofloat{float:none;width:100%;max-width:100%;border-radius:0;box-shadow:none}.mgline.vrline.vrnofloat img.mcimg{width:100%;height:auto}.video-info__footer{white-space:nowrap;position:relative;overflow-x:auto}.video-info__logo{position:absolute;right:0;bottom:-25px}.video-info__logo img{outline:0;border:none}.video-info__footer.ps--active-x{padding-bottom:11px}.video-info__footer>.ps__scrollbar-x-rail,.video-info__footer>.ps__scrollbar-y-rail{opacity:.7}.video-info__footer.ps>.ps__scrollbar-y-rail>.ps__scrollbar-y{background:#777;border-radius:0;right:0}.video-info__footer.ps>.ps__scrollbar-x-rail>.ps__scrollbar-x{background:#777;border-radius:0;bottom:0}.video-info__footer.ps:hover.ps--in-scrolling.ps--y>.ps__scrollbar-y-rail>.ps__scrollbar-y{background-color:#777;width:10px}.video-info__footer.ps:hover.ps--in-scrolling.ps--x>.ps__scrollbar-x-rail>.ps__scrollbar-x{background-color:#777;height:10px}.video-info__footer.ps>.ps__scrollbar-y-rail{width:10px}.video-info__footer.ps>.ps__scrollbar-x-rail{height:10px}@media (min-width:1024px){.video-info__title-cell{font-size:28px}.video-info__sub-title{font-size:15px}.video-info__title{padding:20px}.video-info__logo{opacity:.6;transition:opacity .2s ease}.video-info__logo:hover{opacity:1}.mgCloseCrossButton{width:41px;height:41px;line-height:42px;font-size:18px;margin:0 -41px 0 0}.mgCloseCrossButton:after{width:1px;height:21px;top:10px;left:20px}.mgCloseCrossButton:before{width:21px;height:1px;top:20px;left:10px}.mgCloseCrossButton:hover:after,.mgCloseCrossButton:hover:before{background:#fff}div.adMuteButton:after,div.adMuteButton:before,div.mgMuteButton:after,div.mgMuteButton:before{bottom:2px;right:5px;width:30px;height:30px}div.adMuteButton:after,div.adMuteButton:before,div.mgMuteButton:after,div.mgMuteButton:before{transform:scale(.75);left:0;top:0}}@media (min-width:480px) and (orientation:landscape){.video-info__wrap{width:380px}.video-info__wrap:after{content:"";clear:both;display:table}.video-info__footer{white-space:normal;padding:5px 11px 5px 5px;height:247px}.video-info__title-cell{max-height:37px;overflow:hidden;line-height:1.4}.video-info__sub-title{line-height:1.4;max-height:30px;overflow:hidden}.video-info__title{height:90px;overflow:hidden}.video-info__frame{height:157px;overflow:hidden}}@media (min-width:540px) and (orientation:landscape){.video-info__wrap{width:460px}.video-info__frame{height:190px}.video-info__footer{height:280px}}@media (min-width:760px) and (orientation:landscape){.video-info__wrap{width:580px}.video-info__frame{height:240px}.video-info__footer{height:330px}div.adMuteButton:after,div.adMuteButton:before,div.mgMuteButton:after,div.mgMuteButton:before{width:30px;height:30px}div.adMuteButton:after,div.adMuteButton:before{transform:scale(.83)}}@media (min-width:900px) and (orientation:landscape){.video-info__wrap{width:720px}.video-info__frame{height:298px}.video-info__footer{height:388px}}@media (min-width:1024px) and (orientation:landscape){.video-info__wrap{width:800px}.video-info__frame{height:331px}.video-info__footer{height:497px}.video-info__title{height:166px}.video-info__title-cell{max-height:80px}.video-info__sub-title{max-height:43px}}@media (min-width:1580px) and (orientation:landscape){.video-info__wrap{width:1100px}.video-info__frame{height:456px}.video-info__footer{height:612px;padding:15px 24px 10px 15px}.video-info__title{height:156px;padding:15px 42px}}.mg-progress-line{height:6px}.mg-progress-point{background-color:#c20509;height:4px;position:relative;top:-3px}.vrline div.mcimg a{position:relative;display:block}.vrline div.mcimg a:before{content:"";display:block;position:absolute;top:0;left:0;width:100%;height:100%;z-index:2;background:-webkit-gradient(linear,left top,left bottom,from(rgba(0,0,0,.06)),to(rgba(0,0,0,.4)));background:-webkit-linear-gradient(top,rgba(0,0,0,.06) 0,rgba(0,0,0,.4) 100%);background:-moz-linear-gradient(top,rgba(0,0,0,.06) 0,rgba(0,0,0,.4) 100%);background:-o-linear-gradient(top,rgba(0,0,0,.06) 0,rgba(0,0,0,.4) 100%);background:linear-gradient(to bottom,rgba(0,0,0,.06) 0,rgba(0,0,0,.4) 100%)}.mctitle a{font-size:14px;line-height:1.3;color:#222;font-family:Roboto,"Open Sans",sans-serif}.mg-video-footer{display:none;position:absolute;bottom:0;left:0;right:0;color:#fff;font-size:11px;padding:8px 52px 8px 10px;line-height:1;z-index:3}.mg-video-footer:before{content:"";display:block;position:absolute;bottom:0;right:0;width:42px;height:42px;background:#222}.mg-video-footer:after{content:"";display:block;position:absolute;bottom:14px;right:14px;border-top:8px solid transparent;border-bottom:8px solid transparent;border-left:12px solid #eee}.mg-video-footer>*{margin-left:4px}.mg-video-footer>:first-child{margin-left:0}.vrline .mg-video-footer{display:block!important}.mg-total-views{white-space:nowrap}.mg-total-views{float:left}.mg-video-format{float:right;font-weight:700;background:#cb4329;padding:3px 4px 2px;border-radius:3px;line-height:1;margin:-3px 0 0 0}.mg-video-duration{float:right}#MarketGidComposite .vrline .image-container:after{display:none}@media screen and (min-width:481px){.mg-total-views{position:absolute;top:5px;left:5px}.vrline div.mcimg a:after{bottom:7px;right:8px}.mg-video-footer{top:0;font-size:10px}.mg-video-footer:before{width:24px;height:24px}.mg-video-footer:after{bottom:6px;right:6px;border-top:6px solid transparent;border-bottom:6px solid transparent;border-left:10px solid #eee}.mg-video-duration{position:absolute;bottom:6px;left:0}.mg-video-format{position:absolute;bottom:4px;right:28px}.vrline div.mcimg a:before{background:rgba(0,0,0,.5)}}@media screen and (min-width:1290px){.mg-total-views{display:block!important}.vrline div.mcimg a:after{bottom:8px;right:9px}.mg-video-footer{top:auto;font-size:10px;padding-right:42px}.mg-video-duration{position:static;bottom:auto;left:auto;margin-left:3px;float:right}.mg-video-format{position:static;bottom:auto;right:auto}.mg-total-views{position:static;top:auto;left:auto}.mg-video-footer:before{width:32px;height:32px}.mg-video-footer:after{bottom:8px;right:9px;border-top:8px solid transparent;border-bottom:8px solid transparent;border-left:12px solid #eee}.vrline div.mcimg a:before{background:-webkit-gradient(linear,left top,left bottom,from(rgba(0,0,0,.06)),to(rgba(0,0,0,.4)));background:-webkit-linear-gradient(top,rgba(0,0,0,.06) 0,rgba(0,0,0,.4) 100%);background:-moz-linear-gradient(top,rgba(0,0,0,.06) 0,rgba(0,0,0,.4) 100%);background:-o-linear-gradient(top,rgba(0,0,0,.06) 0,rgba(0,0,0,.4) 100%);background:linear-gradient(to bottom,rgba(0,0,0,.06) 0,rgba(0,0,0,.4) 100%)}}.mgCover{position:absolute;width:100%;height:100%;left:0;top:0;z-index:100000000;display:none}.mg-total-views:before{content:"";display:inline-block;vertical-align:top;width:11px;height:8px;margin-right:2px;background:url(data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMy43OCA4Ljg2Ij48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6I2ZmZjt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPkFydGJvYXJkIDM8L3RpdGxlPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTEzLjYzLDMuOUE4LjA3LDguMDcsMCwwLDAsNi44OSwwLDguMDcsOC4wNywwLDAsMCwuMTUsMy45LDEsMSwwLDAsMCwuMTUsNWE4LjA3LDguMDcsMCwwLDAsNi43NCwzLjlBOC4wNSw4LjA1LDAsMCwwLDEzLjYzLDVhMSwxLDAsMCwwLDAtMS4wNlptLTYuNzQsNGEzLjUsMy41LDAsMSwxLDMuNS0zLjVBMy41LDMuNSwwLDAsMSw2Ljg5LDcuOTNaIi8+PGNpcmNsZSBjbGFzcz0iY2xzLTEiIGN4PSI2Ljg5IiBjeT0iNC40MyIgcj0iMS42OSIvPjwvc3ZnPg==) no-repeat center;background-size:contain}.mg-video-tag{text-align:left!important;left:10px}.mg-video-tag{line-height:18px;width:100%;text-align:right;position:absolute;z-index:999;top:10px;right:10px}.mg-video-tag>span{text-align:left;background:#007eff;color:#fff;padding:3px 5px 2px 5px;font-family:"Open Sans",sans-serif;font-weight:700;font-size:12px;box-sizing:border-box;width:100%}.mgline:not(.vrline) .mg-video-tag{display:none}.mgline:nth-child(3) .mg-video-tag>span{background:#786efc!important}.mgline:nth-child(4) .mg-video-tag>span{background:#fb6efc!important}.mgline:nth-child(5) .mg-video-tag>span{background:#912692!important}.mgline:nth-child(6) .mg-video-tag>span{background:#92264f!important}.mgline:nth-child(7) .mg-video-tag>span{background:#ff70a6!important}.mgline:nth-child(8) .mg-video-tag>span{background:#25b8fe!important}.mgline:nth-child(9) .mg-video-tag>span{background:#54966a!important}.mgline:nth-child(10) .mg-video-tag>span{background:#d82903!important}.mgline:nth-child(11) .mg-video-tag>span{background:#c2880a!important}.mgline:nth-child(12) .mg-video-tag>span{background:#342dcd!important}.mgline:nth-child(13) .mg-video-tag>span{background:#787878!important}.mgline:nth-child(14) .mg-video-tag>span{background:#05016b!important}.mgline:nth-child(15) .mg-video-tag>span{background:#0c5f13!important}.mgline:nth-child(16) .mg-video-tag>span{background:#879565!important}.videoTimeLeftText{font-size:12px;opacity:.75;text-shadow:0 0 2px rgba(0,0,0,.5);position:absolute;left:.75em;bottom:.75em;color:#fff;display:none;z-index:100000001}.adEnable .videoTimeLeftText{display:block}div.adPlayerContainerDiv.showed,div.mgAdPlayerContainerDiv.showed{z-index:9999998;opacity:1;visibility:visible;background-color:transparent;position:absolute;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:flex;display:-webkit-flex;align-items:center;justify-content:center;left:0;top:0}div.adPlayerDiv.showed,div.mgAdPlayerDiv.showed{z-index:100;opacity:1;width:100%;height:100%;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:flex;display:-webkit-flex;align-items:center;justify-content:center}div.adPlayerContainerDiv,div.mgAdPlayerContainerDiv{z-index:-100;opacity:0;visibility:hidden;background-color:transparent;position:absolute;left:0;top:0}div.adPlayerContainerDiv.partial,div.mgAdPlayerContainerDiv.partial{position:absolute;top:0;left:0;width:100%;height:100%}div.adPlayerContainerDiv.block,div.mgAdPlayerContainerDiv.block{position:relative;margin-bottom:10px;overflow:hidden;transition:height 2s}div.adPlayerDiv,div.mgAdPlayerDiv{z-index:-1;opacity:0;overflow:hidden;position:relative;height:100%}.overflow-allowed div.adPlayerDiv,.overflow-allowed div.mgAdPlayerDiv{overflow:visible}div.adPlayerContainerDiv.partial>div.adPlayerDiv>div:not(.adCloseButton):not(.adLinkButton),div.mgAdPlayerContainerDiv.partial>div.mgAdPlayerDiv>div:not(.mgCloseButton):not(.mgLinkButton){top:0;left:0}div.adCloseButton,div.mgCloseButton{display:none;position:absolute;top:0;right:0;width:50px;height:50px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}div.adCloseButton.showed,div.mgCloseButton.showed{display:block}div.adCloseButton:after,div.mgCloseButton:after{position:absolute;top:0;right:0;filter:drop-shadow(0 0 3px #000);line-height:20px;margin:3px;background:url("/mgPlayer/img/mgPlayer_v2_sprite.svg#close");content:"";width:24px;height:24px;display:block}div.adPlayerContainerDiv.showed div.adCloseButton,div.mgAdPlayerContainerDiv.showed div.mgCloseButton{display:none;z-index:9999999;right:0}div.adPlayerContainerDiv.showed div.adCloseButton.showed,div.mgAdPlayerContainerDiv.showed div.mgCloseButton.showed{display:block}div.adMuteButton,div.mgMuteButton{display:none;speak:none;line-height:1;position:absolute;bottom:6px;right:6px;width:20px;height:25px;cursor:pointer;transition:opacity .3s ease,visibility .3s ease;z-index:100;filter:drop-shadow(0 0 3px #000)}div.adMuteButton.showed,div.mgMuteButton.showed{display:block}div.adMuteButton:after,div.adMuteButton:before,div.mgMuteButton:after,div.mgMuteButton:before{position:absolute;height:24px;width:24px;top:50%;left:50%;transform:translate(-50%,-50%) scale(.75)}div.adMuteButton:before,div.mgMuteButton:before{background:url("/mgPlayer/img/mgPlayer_v2_sprite.svg#volume_down");content:"";width:24px;height:24px;display:block}div.adMuteButton:after,div.mgMuteButton:after{display:none}div.adMuteButton.muted:before,div.mgMuteButton.muted:before{display:none}div.adMuteButton.muted:after,div.mgMuteButton.muted:after{background:url("/mgPlayer/img/mgPlayer_v2_sprite.svg#volume_off");content:"";width:24px;height:24px;display:block}@-webkit-keyframes mg-spinner-easespin{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mg-spinner-easespin{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@-webkit-keyframes mg-spinner-left-spin{0%{transform:rotate(130deg)}50%{transform:rotate(-5deg)}100%{transform:rotate(130deg)}}@keyframes mg-spinner-left-spin{0%{transform:rotate(130deg)}50%{transform:rotate(-5deg)}100%{transform:rotate(130deg)}}@-webkit-keyframes mg-right-spin{0%{transform:rotate(-130deg)}50%{transform:rotate(5deg)}100%{transform:rotate(-130deg)}}@keyframes mg-right-spin{0%{transform:rotate(-130deg)}50%{transform:rotate(5deg)}100%{transform:rotate(-130deg)}}.mg-spinner{position:absolute;left:50%;top:50%;width:64px;margin-left:-32px;z-index:999999;pointer-events:none}.mg-spinner.show .mg-spinner-container{pointer-events:none;position:absolute;width:100%;padding-bottom:100%;top:50%;left:50%;margin-top:-50%;margin-left:-50%;animation:mg-spinner-linspin 1.568s linear infinite;-webkit-animation:mg-spinner-linspin 1.568s linear infinite}.mg-spinner.show .mg-spinner-rotator{position:absolute;width:100%;height:100%;-webkit-animation:mg-spinner-easespin 5332ms cubic-bezier(.4,0,.2,1) infinite both;animation:mg-spinner-easespin 5332ms cubic-bezier(.4,0,.2,1) infinite both}.mg-spinner.show .mg-spinner-left{right:49%}.mg-spinner.show .mg-spinner-left{position:absolute;top:0;left:0;bottom:0;overflow:hidden}.mg-spinner.show .mg-spinner-left .mg-spinner-circle{left:0;right:-100%;border-right-color:transparent;-webkit-animation:mg-spinner-left-spin 1333ms cubic-bezier(.4,0,.2,1) infinite both;animation:mg-spinner-left-spin 1333ms cubic-bezier(.4,0,.2,1) infinite both}.mg-spinner.show .mg-spinner-circle{box-sizing:border-box;position:absolute;width:200%;height:100%;border-style:solid;border-color:#ddd #ddd transparent;border-radius:50%;border-width:6px}.mg-spinner.show .mg-spinner-right{left:49%}.mg-spinner.show .mg-spinner-right{position:absolute;top:0;right:0;bottom:0;overflow:hidden}.mg-spinner.show .mg-spinner-right .mg-spinner-circle{left:-100%;right:0;border-left-color:transparent;-webkit-animation:mg-right-spin 1333ms cubic-bezier(.4,0,.2,1) infinite both;animation:mg-right-spin 1333ms cubic-bezier(.4,0,.2,1) infinite both}.image-container div.video-info__player{position:absolute;left:0;top:0;width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;align-items:center;justify-content:center;background-color:#000;z-index:9999;transition:none!important;overflow:hidden}.image-container div.video-info__player.block{position:relative}.image-container div.video-info__player *{transition:none}.image-container div.video-info__player.overflow-allowed{overflow:visible;background:0 0}.mgline.vrline .image-container{display:block!important}html>div{display:none!important}div.adSkipButton,div.mgSkipButton{position:absolute;top:0;left:0;padding:0 8px;height:25px;text-shadow:2px 1px 2px #000;background-color:rgba(0,0,0,.4);color:#fff;font-family:Helvetica,Arial,fallback,sans-serif;font-size:12px;text-align:center;line-height:25px;transition:all .15s ease-in-out;display:none;z-index:101;cursor:pointer}div.adSkipButton.showed,div.mgSkipButton.showed{display:block}div.adPlayerDiv #av-container #av-inner #gui #skip-btn,div.mgAdPlayerDiv #av-container #av-inner #gui #skip-btn{top:0;bottom:auto;left:0;right:auto;padding:0 8px;height:25px;text-shadow:2px 1px 2px #000;background-color:rgba(0,0,0,.4);color:#fff;font-family:Helvetica,Arial,fallback,sans-serif;font-size:12px;text-align:center;line-height:25px;transition:all .15s ease-in-out;z-index:2;cursor:pointer;border:none;text-transform:none}div.adPlayerDiv #av-container #av-inner #gui #timer,div.mgAdPlayerDiv #av-container #av-inner #gui #timer{height:25px;width:25px;text-shadow:2px 1px 2px #000;background-color:rgba(0,0,0,.4);font-size:12px;text-align:center;line-height:25px;border:none;text-transform:none}.clickDiv{position:absolute;height:100%;width:100%;z-index:10000000;left:0;top:0}div.adLinkButton{position:absolute;color:#fff;top:auto;left:auto;bottom:40px;right:40px;height:auto;padding:6px 16px;background:rgba(51,51,51,.8);border-radius:4px;letter-spacing:-.05em;line-height:18px;text-transform:uppercase;font-weight:700;font-size:16px;text-shadow:none}div.adLinkButton:hover{background:#666}@media (max-width:480px){div.adLinkButton{padding:6px 8px!important;bottom:0!important;right:50%!important;transform:translate(50%,-50%);font-size:12px!important;line-height:13px!important}}div.adLinkButton.showed{display:block;z-index:9999999}#av-container #av-inner #gui:before{background:0 0}#av-container.desktop #gui #timeline.av-overlay{opacity:1;bottom:-4px!important;right:0!important;left:0!important}#av-container.desktop #av-inner #gui #timeline #timeline-moveto,#av-container.desktop #gui #buttons,#av-container.desktop #gui #timeline,#av-container.desktop #gui:before{opacity:1}#aniview-credit{display:none!important}#av-container #av-inner #slot #videoslot{background-color:transparent!important}.ps{touch-action:auto;overflow:hidden!important;-ms-overflow-style:none}@supports (-ms-overflow-style:none){.ps{overflow:auto!important}}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.ps{overflow:auto!important}}.ps.ps--active-x>.ps__scrollbar-x-rail,.ps.ps--active-y>.ps__scrollbar-y-rail{display:block;background-color:transparent}.ps.ps--in-scrolling.ps--x>.ps__scrollbar-x-rail{background-color:#eee;opacity:.9}.ps.ps--in-scrolling.ps--x>.ps__scrollbar-x-rail>.ps__scrollbar-x{background-color:#999;height:10px}.ps.ps--in-scrolling.ps--y>.ps__scrollbar-y-rail{background-color:#eee;opacity:.9}.ps.ps--in-scrolling.ps--y>.ps__scrollbar-y-rail>.ps__scrollbar-y{background-color:#999;width:10px}.ps>.ps__scrollbar-x-rail{display:none;position:absolute;opacity:0;transition:background-color .2s linear,opacity .2s linear;bottom:0;height:15px}.ps>.ps__scrollbar-x-rail>.ps__scrollbar-x{position:absolute;background-color:#aaa;border-radius:6px;transition:background-color .2s linear,height .2s linear,width .2s ease-in-out,border-radius .2s ease-in-out;bottom:2px;height:6px}.ps>.ps__scrollbar-x-rail:active>.ps__scrollbar-x,.ps>.ps__scrollbar-x-rail:hover>.ps__scrollbar-x{height:10px}.ps>.ps__scrollbar-y-rail{display:none;position:absolute;opacity:0;transition:background-color .2s linear,opacity .2s linear;right:0;width:15px}.ps>.ps__scrollbar-y-rail>.ps__scrollbar-y{position:absolute;background-color:#aaa;border-radius:6px;transition:background-color .2s linear,height .2s linear,width .2s ease-in-out,border-radius .2s ease-in-out;right:2px;width:6px}.ps>.ps__scrollbar-y-rail:active>.ps__scrollbar-y,.ps>.ps__scrollbar-y-rail:hover>.ps__scrollbar-y{width:10px}.ps:hover.ps--in-scrolling.ps--x>.ps__scrollbar-x-rail{background-color:#eee;opacity:.9}.ps:hover.ps--in-scrolling.ps--x>.ps__scrollbar-x-rail>.ps__scrollbar-x{background-color:#999;height:10px}.ps:hover.ps--in-scrolling.ps--y>.ps__scrollbar-y-rail{background-color:#eee;opacity:.9}.ps:hover.ps--in-scrolling.ps--y>.ps__scrollbar-y-rail>.ps__scrollbar-y{background-color:#999;width:10px}.ps:hover>.ps__scrollbar-x-rail,.ps:hover>.ps__scrollbar-y-rail{opacity:.6}.ps:hover>.ps__scrollbar-x-rail:hover{background-color:#eee;opacity:.9}.ps:hover>.ps__scrollbar-x-rail:hover>.ps__scrollbar-x{background-color:#999}.ps:hover>.ps__scrollbar-y-rail:hover{background-color:#eee;opacity:.9}.ps:hover>.ps__scrollbar-y-rail:hover>.ps__scrollbar-y{background-color:#999}div.video-info__player.large,div.video-info__player.medium,div.video-info__player.small{position:fixed;bottom:10px;z-index:9999999;opacity:1;visibility:visible;background-color:#000}div.video-info__player.large div.adPlayerDiv,div.video-info__player.medium div.adPlayerDiv,div.video-info__player.small div.adPlayerDiv{z-index:100;opacity:1;position:relative}div.video-info__player.large.left,div.video-info__player.medium.left,div.video-info__player.small.left{left:10px;top:auto}div.video-info__player.small{width:401px}div.video-info__player.large.right,div.video-info__player.medium.right,div.video-info__player.small.right{right:10px;left:auto;top:auto}div.video-info__player.large.top,div.video-info__player.medium.top,div.video-info__player.small.top{top:10px;bottom:auto}div.video-info__player.large.bottom,div.video-info__player.medium.bottom,div.video-info__player.small.bottom{bottom:10px;top:auto}div.video-info__player.medium{width:501px}div.video-info__player.large{width:601px}div.video-info__player.large div.adCloseButton.showed,div.video-info__player.medium div.adCloseButton.showed,div.video-info__player.small div.adCloseButton.showed{display:block!important;z-index:9999999!important}div.video-info__player.large div.adCloseButton,div.video-info__player.medium div.adCloseButton,div.video-info__player.small div.adCloseButton{display:none!important}@media only screen and (max-device-width:480px){div.video-info__player.large.left,div.video-info__player.large.right,div.video-info__player.medium.left,div.video-info__player.medium.right,div.video-info__player.small.left,div.video-info__player.small.right{position:fixed;bottom:0;right:-480px;transition:right 1s;width:70%}div.video-info__player.large.left.showed,div.video-info__player.large.right.showed,div.video-info__player.medium.left.showed,div.video-info__player.medium.right.showed,div.video-info__player.small.left.showed,div.video-info__player.small.right.showed{position:fixed;bottom:0;right:0;transition:right 1s}div.video-info__player.large.left.upper,div.video-info__player.large.right.upper,div.video-info__player.medium.left.upper,div.video-info__player.medium.right.upper,div.video-info__player.small.left.upper,div.video-info__player.small.right.upper{top:0;right:auto;left:50%;transform:translate(-50%,0)}div.video-info__player.large.left.upper.showed,div.video-info__player.large.right.upper.showed,div.video-info__player.medium.left.upper.showed,div.video-info__player.medium.right.upper.showed,div.video-info__player.small.left.upper.showed,div.video-info__player.small.right.upper.showed{opacity:1;visibility:visible}div.video-info__player.large.bottom,div.video-info__player.large.top,div.video-info__player.medium.bottom,div.video-info__player.medium.top,div.video-info__player.small.bottom,div.video-info__player.small.top{position:fixed;right:auto;left:50%;transform:translate(-50%,0);width:70%;margin-bottom:0}div.video-info__player.large.top,div.video-info__player.medium.top,div.video-info__player.small.top{top:0;bottom:auto}div.video-info__player.large.bottom,div.video-info__player.medium.bottom,div.video-info__player.small.bottom{bottom:0;top:auto}div.video-info__player.large.bottom.showed,div.video-info__player.large.top.showed,div.video-info__player.medium.bottom.showed,div.video-info__player.medium.top.showed,div.video-info__player.small.bottom.showed,div.video-info__player.small.top.showed{opacity:1;visibility:visible}div.adPlayerDiv.adplayer-no-ui #sound,div.adPlayerDiv.adplayer-no-ui .pause,div.adPlayerDiv.adplayer-no-ui .play,div.adPlayerDiv.adplayer-no-ui div.adLinkButton,div.adPlayerDiv.adplayer-no-ui div.adSkipButton{opacity:0;visibility:hidden;z-index:-100}}div.adPlayerDiv.adplayer-no-ui #sound,div.adPlayerDiv.adplayer-no-ui .adClickCover,div.adPlayerDiv.adplayer-no-ui .pause,div.adPlayerDiv.adplayer-no-ui .play,div.adPlayerDiv.adplayer-no-ui div.adLinkButton,div.adPlayerDiv.adplayer-no-ui div.adSkipButton{opacity:0;visibility:hidden;z-index:-100}.adClickCover{position:absolute;top:0;left:0;width:100%;height:100%;z-index:100000;display:none}.adClickCover.showed{display:block}.topBar{display:none;width:100%;position:absolute;top:-31px;padding-bottom:3px;height:31px;left:0;background-color:rgba(255,255,255,.9)}.topBar.showed{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}div.video-info__player.mglogo{overflow:visible}div.video-info__player.large.top.mglogo,div.video-info__player.medium.top.mglogo,div.video-info__player.small.top.mglogo{margin-top:31px}.topBar .other-logo{width:90px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;justify-content:flex-start;align-items:center}.topBar .other-logo a:before{background:0 0!important}.topBar .other-logo img{width:80px;position:relative;top:4px;left:0}.topBar>span{color:#000;background:0 0;padding:0;font-family:Roboto,sans-serif;font-weight:700;font-size:16px;box-sizing:border-box;line-height:1;text-transform:uppercase;margin:12px 0 0 0;position:absolute;left:50%;transform:translate(-50%,0)}.vrline div.mcimg{padding:0;text-align:center;width:100%}.vrline img.mcimg{border:0 solid #fff;width:100%!important;height:auto!important;box-sizing:border-box;display:block}.vrline .mctitle{margin-top:10px;text-align:left}.vrline .mctitle a{font-weight:700;font-size:18px;line-height:18px;font-style:normal;text-decoration:none;color:#000;font-family:Roboto}.vrline.mgline{background:none repeat scroll 0 0;cursor:pointer;display:inline-block;padding:0!important;border:0 solid #fff;width:100%;max-width:100%;box-sizing:border-box;margin:10px 0 0 0;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;flex-direction:column;word-wrap:break-word}.vrline.mgline .image-container{position:relative}.vrline.mgline{vertical-align:top}.vrline.mgline{min-width:90px}@supports not (flex-wrap:wrap){.vrline.mgline{display:inline-block!important}}.text-elements a{text-decoration:none}.vrline div.mcprice,.vrline div.mgarrowbox,.vrline div.mgbuybox{display:none}@media (max-width:480px){.vrline.mgline{width:48%!important;margin:1%!important;max-width:48%!important}}@media (max-width:480px){.vrline.mgline{width:98%!important;margin:1%!important;max-width:98%!important}}.vrline .mctitle a:hover{color:#7f7f7f}.vrline.mgline{position:relative}.vrline.mgline .fake{visibility:hidden;position:relative;padding-top:4px}.vrline.mgline .mctitle{margin-top:2px;line-height:1!important}.vrline.mgline:hover .mctitle a{color:#7f7f7f}.vrline.mgline .image-with-text,.vrline.mgline .mgtobottom{width:100%!important}.ctplay .mgbox{padding:25px 0 0!important;max-width:680px!important}.ctplay .vrline.mgline{background:#eee!important;padding:0 0 20px!important;border:1px solid #e3e3e3!important;width:100%;max-width:100%;margin:3px 0;transition-duration:.8s;transition-property:box-shadow}.ctplay .mgheader{border-bottom:none!important;padding-bottom:0;margin-bottom:0}.ctplay .mghead{color:#000!important;font-size:14px!important}.ctplay .vrline.mgline .mctitle{margin:2px 5px 20px;text-align:left}.ctplay .vrline.mgline .mctitle a{font-size:20px;line-height:1.3;color:#000;font-family:Roboto,"Open Sans",sans-serif}.ctplay .vrline.mgline .mctitle a:hover{color:#000}.ctplay .vrline.mgline:hover .mctitle a{color:#000}.ctplay .vrline.mgline .mcdomain{padding-top:3px;text-align:left}.ctplay .vrline.mgline .mcdomain a{font-size:13px;line-height:13px;font-style:italic;color:#7f7f7f;padding:1px}.ctplay .vrline.mgline .image-with-text,.ctplay .vrline.mgline img.mcimg{max-width:680px!important;max-height:385px!important}.ctplay .mg2player:not(.mg2player_playing) .mg2player__close.mghover,.ctplay .mg2player:not(.mg2player_playing) .mg2player__play-btn.mghover,.ctplay .mg2player:not(.mg2player_playing) .mg2player__play-next.mghover,.ctplay .mg2player:not(.mg2player_playing) .mg2player__start-btn.mghover,.ctplay .mg2player:not(.mg2player_playing) .mg2player__time.mghover,.ctplay .mg2player:not(.mg2player_playing) .mg2player__track.mghover,.ctplay .mg2player:not(.mg2player_playing) .mg2player__volume.mghover{opacity:1;visibility:visible}.ctplay.mgred .vrline.mgline .text-elements{display:none}.ctplay.mgred .vrline.mgline{border:none!important;background:inherit!important}div.vrPopup{opacity:0;visibility:hidden}div.adPlayerContainerDiv .mg2player__controls,div.adPlayerContainerDiv .mg2player__title,div.adPlayerContainerDiv div.mgMuteButton,div.mgAdPlayerContainerDiv .mg2player__controls,div.mgAdPlayerContainerDiv .mg2player__title,div.mgAdPlayerContainerDiv div.mgMuteButton{display:none}div.adPlayerContainerDiv.mgAdPlayerFormat-outstream.showed,div.mgAdPlayerContainerDiv.mgAdPlayerFormat-outstream.showed{z-index:9999999;background-color:#fff}div.adPlayerDiv.showed,div.mgAdPlayerDiv.showed{z-index:100;opacity:1;position:relative;width:100%;height:100%;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:flex;display:-webkit-flex;align-items:center;justify-content:center;overflow:hidden}div.adPlayerContainerDiv,div.mgAdPlayerContainerDiv{z-index:-100;opacity:0;visibility:hidden;background-color:transparent;position:absolute;top:0;left:0}div.adPlayerDiv,div.mgAdPlayerDiv{z-index:-1;opacity:0;position:relative;height:100%}div.adPlayerContainerDiv.block,div.mgAdPlayerContainerDiv.block{position:relative;margin-bottom:10px;overflow:hidden;transition:height 2s}div.adPlayerContainerDiv.block.noanim,div.mgAdPlayerContainerDiv.block.noanim{transition:none}html>div{display:none!important}div.adSkipButton,div.mgSkipButton{position:absolute;top:0;left:0;padding:0 8px;height:25px;text-shadow:2px 1px 2px #000;background-color:rgba(0,0,0,.4);color:#fff;font-family:Helvetica,Arial,fallback,sans-serif;font-size:12px;text-align:center;line-height:25px;transition:all .15s ease-in-out;display:none;z-index:101;cursor:pointer}div.adSkipButton.showed,div.mgSkipButton.showed{display:block}div.adPlayerDiv #av-container #av-inner #gui #skip-btn,div.mgAdPlayerDiv #av-container #av-inner #gui #skip-btn{top:0;bottom:auto;left:0;right:auto;padding:0 8px;height:25px;text-shadow:2px 1px 2px #000;background-color:rgba(0,0,0,.4);color:#fff;font-family:Helvetica,Arial,fallback,sans-serif;font-size:12px;text-align:center;line-height:25px;transition:all .15s ease-in-out;z-index:2;cursor:pointer;border:none;text-transform:none}div.adPlayerDiv #av-container #av-inner #gui #timer,div.mgAdPlayerDiv #av-container #av-inner #gui #timer{height:25px;width:25px;text-shadow:2px 1px 2px #000;background-color:rgba(0,0,0,.4);font-size:12px;text-align:center;line-height:25px;border:none;text-transform:none}div.adLinkButton.showed{display:block}#av-container #av-inner #gui:before{background:0 0}#av-container.desktop #gui #timeline.av-overlay{opacity:1;bottom:-4px!important;right:0!important;left:0!important}#av-container.desktop #av-inner #gui #timeline #timeline-moveto,#av-container.desktop #gui #buttons,#av-container.desktop #gui #timeline,#av-container.desktop #gui:before{opacity:1}#aniview-credit{display:none!important}div.adCloseButton,div.mgCloseButton{display:none;position:absolute;top:0;right:0;width:50px;height:50px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:9999}div.adCloseButton.showed,div.mgCloseButton.showed{display:block}div.adCloseButton:after,div.mgCloseButton:after{position:absolute;top:0;right:0;width:24px;height:24px;color:#fff;filter:drop-shadow(0 0 3px #000);line-height:20px;margin:3px;background:url("/mgPlayer/img/mgPlayer_v2_sprite.svg#close");content:"";display:block}div.adPlayerContainerDiv.showed div.adCloseButton.showed,div.mgAdPlayerContainerDiv.showed div.mgCloseButton.showed{display:block}div.adMuteButton,div.mgMuteButton{display:none;speak:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;position:absolute;bottom:6px;right:6px;width:20px;height:25px;cursor:pointer;transition:opacity .3s ease,visibility .3s ease;z-index:100;filter:drop-shadow(0 0 3px #000)}div.adMuteButton.showed,div.mgMuteButton.showed{display:block}div.adMuteButton:after,div.adMuteButton:before,div.mgMuteButton:after,div.mgMuteButton:before{position:absolute;width:24px;height:24px;top:50%;left:50%;transform:translate(-50%,-50%) scale(.75)}div.adMuteButton:before,div.mgMuteButton:before{content:"";display:block;background:url("/mgPlayer/img/mgPlayer_v2_sprite.svg#volume_down")}div.adMuteButton:after,div.mgMuteButton:after{content:"";background:url("/mgPlayer/img/mgPlayer_v2_sprite.svg#volume_off");display:none}div.adMuteButton.muted:before,div.mgMuteButton.muted:before{display:none}div.adMuteButton.muted:after,div.mgMuteButton.muted:after{display:block}div.adPlayerContainerDiv.large,div.adPlayerContainerDiv.medium,div.adPlayerContainerDiv.small,div.mgAdPlayerContainerDiv.large,div.mgAdPlayerContainerDiv.medium,div.mgAdPlayerContainerDiv.small{position:fixed;bottom:0;top:auto;z-index:9999999;opacity:1;visibility:visible;background-color:#000;overflow:visible}div.adPlayerContainerDiv.large,div.adPlayerContainerDiv.medium,div.adPlayerContainerDiv.small,div.mgAdPlayerContainerDiv.large,div.mgAdPlayerContainerDiv.medium,div.mgAdPlayerContainerDiv.small{opacity:0;visibility:hidden}div.adPlayerContainerDiv.large.showed,div.adPlayerContainerDiv.medium.showed,div.adPlayerContainerDiv.small.showed,div.mgAdPlayerContainerDiv.large.showed,div.mgAdPlayerContainerDiv.medium.showed,div.mgAdPlayerContainerDiv.small.showed{opacity:1;visibility:visible}div.adPlayerContainerDiv.large div.adPlayerDiv,div.adPlayerContainerDiv.medium div.adPlayerDiv,div.adPlayerContainerDiv.small div.adPlayerDiv,div.mgAdPlayerContainerDiv.large div.mgAdPlayerDiv,div.mgAdPlayerContainerDiv.medium div.mgAdPlayerDiv,div.mgAdPlayerContainerDiv.small div.mgAdPlayerDiv{z-index:100;opacity:1;position:relative}div.adPlayerContainerDiv.large.top,div.adPlayerContainerDiv.medium.top,div.adPlayerContainerDiv.small.top,div.mgAdPlayerContainerDiv.large.top,div.mgAdPlayerContainerDiv.medium.top,div.mgAdPlayerContainerDiv.small.top{top:0;bottom:auto}div.adPlayerContainerDiv.small,div.mgAdPlayerContainerDiv.small{width:401px}div.adPlayerContainerDiv.medium,div.mgAdPlayerContainerDiv.medium{width:501px}div.adPlayerContainerDiv.large,div.mgAdPlayerContainerDiv.large{width:601px}div.adPlayerContainerDiv.small.left,div.mgAdPlayerContainerDiv.small.left{left:-401px;transition:left 1s}div.adPlayerContainerDiv.large.left.showed,div.adPlayerContainerDiv.medium.left.showed,div.adPlayerContainerDiv.small.left.showed,div.mgAdPlayerContainerDiv.large.left.showed,div.mgAdPlayerContainerDiv.medium.left.showed,div.mgAdPlayerContainerDiv.small.left.showed{left:0;right:auto;transition:left 1s}div.adPlayerContainerDiv.small.right,div.mgAdPlayerContainerDiv.small.right{right:-401px;transition:right 1s}div.adPlayerContainerDiv.large.right.showed,div.adPlayerContainerDiv.medium.right.showed,div.adPlayerContainerDiv.small.right.showed,div.mgAdPlayerContainerDiv.large.right.showed,div.mgAdPlayerContainerDiv.medium.right.showed,div.mgAdPlayerContainerDiv.small.right.showed{right:0;left:auto;transition:right 1s}div.adPlayerContainerDiv.medium.left,div.mgAdPlayerContainerDiv.medium.left{left:-501px;transition:left 1s}div.adPlayerContainerDiv.medium.right,div.mgAdPlayerContainerDiv.medium.right{right:-501px;transition:right 1s}div.adPlayerContainerDiv.large.left,div.mgAdPlayerContainerDiv.large.left{left:-601px;transition:left 1s}div.adPlayerContainerDiv.large.right,div.mgAdPlayerContainerDiv.large.right{right:-601px;transition:right 1s}.topBar{display:none;width:100%;position:absolute;top:-31px;padding-bottom:3px;height:31px;left:0;background-color:rgba(255,255,255,.9)}.topBar.showed{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}div.adPlayerContainerDiv.mglogo,div.mgAdPlayerContainerDiv.mglogo{margin-top:31px;overflow:visible}div.adPlayerContainerDiv.large.top .topBar.showed,div.adPlayerContainerDiv.medium.top .topBar.showed,div.adPlayerContainerDiv.small.top .topBar.showed,div.mgAdPlayerContainerDiv.large.top .topBar.showed,div.mgAdPlayerContainerDiv.medium.top .topBar.showed,div.mgAdPlayerContainerDiv.small.top .topBar.showed{display:none}.topBar .other-logo{width:90px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;justify-content:flex-start;align-items:center}.topBar .other-logo a:before{background:0 0!important}.topBar .other-logo img{width:80px;position:relative;top:4px;left:0}.topBar>span{color:#000;background:0 0;padding:0;font-family:Roboto,sans-serif;font-weight:700;font-size:16px;box-sizing:border-box;line-height:1;text-transform:uppercase;margin:12px 0 0 0;position:absolute;left:50%;transform:translate(-50%,0)}@media only screen and (max-device-width:480px){div.adPlayerContainerDiv.large.left,div.adPlayerContainerDiv.large.right,div.adPlayerContainerDiv.medium.left,div.adPlayerContainerDiv.medium.right,div.adPlayerContainerDiv.small.left,div.adPlayerContainerDiv.small.right,div.mgAdPlayerContainerDiv.large.left,div.mgAdPlayerContainerDiv.large.right,div.mgAdPlayerContainerDiv.medium.left,div.mgAdPlayerContainerDiv.medium.right,div.mgAdPlayerContainerDiv.small.left,div.mgAdPlayerContainerDiv.small.right{position:fixed;bottom:0;right:-480px;transition:right 1s;width:70%}div.adPlayerContainerDiv.large.left.showed,div.adPlayerContainerDiv.large.right.showed,div.adPlayerContainerDiv.medium.left.showed,div.adPlayerContainerDiv.medium.right.showed,div.adPlayerContainerDiv.small.left.showed,div.adPlayerContainerDiv.small.right.showed,div.mgAdPlayerContainerDiv.large.left.showed,div.mgAdPlayerContainerDiv.large.right.showed,div.mgAdPlayerContainerDiv.medium.left.showed,div.mgAdPlayerContainerDiv.medium.right.showed,div.mgAdPlayerContainerDiv.small.left.showed,div.mgAdPlayerContainerDiv.small.right.showed{position:fixed;left:50%;right:auto;transition:right 1s}div.adPlayerContainerDiv.large.left.upper,div.adPlayerContainerDiv.large.right.upper,div.adPlayerContainerDiv.medium.left.upper,div.adPlayerContainerDiv.medium.right.upper,div.adPlayerContainerDiv.small.left.upper,div.adPlayerContainerDiv.small.right.upper,div.mgAdPlayerContainerDiv.large.left.upper,div.mgAdPlayerContainerDiv.large.right.upper,div.mgAdPlayerContainerDiv.medium.left.upper,div.mgAdPlayerContainerDiv.medium.right.upper,div.mgAdPlayerContainerDiv.small.left.upper,div.mgAdPlayerContainerDiv.small.right.upper{top:0;right:auto;left:50%;transform:translate(-50%,0);opacity:0;visibility:hidden}div.adPlayerContainerDiv.large.left.upper.showed,div.adPlayerContainerDiv.large.right.upper.showed,div.adPlayerContainerDiv.medium.left.upper.showed,div.adPlayerContainerDiv.medium.right.upper.showed,div.adPlayerContainerDiv.small.left.upper.showed,div.adPlayerContainerDiv.small.right.upper.showed,div.mgAdPlayerContainerDiv.large.left.upper.showed,div.mgAdPlayerContainerDiv.large.right.upper.showed,div.mgAdPlayerContainerDiv.medium.left.upper.showed,div.mgAdPlayerContainerDiv.medium.right.upper.showed,div.mgAdPlayerContainerDiv.small.left.upper.showed,div.mgAdPlayerContainerDiv.small.right.upper.showed{opacity:1;visibility:visible}div.adPlayerContainerDiv.large.bottom,div.adPlayerContainerDiv.large.top,div.adPlayerContainerDiv.medium.bottom,div.adPlayerContainerDiv.medium.top,div.adPlayerContainerDiv.small.bottom,div.adPlayerContainerDiv.small.top,div.mgAdPlayerContainerDiv.large.bottom,div.mgAdPlayerContainerDiv.large.top,div.mgAdPlayerContainerDiv.medium.bottom,div.mgAdPlayerContainerDiv.medium.top,div.mgAdPlayerContainerDiv.small.bottom,div.mgAdPlayerContainerDiv.small.top{opacity:0;visibility:hidden;position:fixed;right:auto;left:50%;transform:translate(-50%,0);width:70%;margin-bottom:0}div.adPlayerContainerDiv.large.top,div.adPlayerContainerDiv.medium.top,div.adPlayerContainerDiv.small.top,div.mgAdPlayerContainerDiv.large.top,div.mgAdPlayerContainerDiv.medium.top,div.mgAdPlayerContainerDiv.small.top{top:0;bottom:auto}div.adPlayerContainerDiv.large.bottom,div.adPlayerContainerDiv.medium.bottom,div.adPlayerContainerDiv.small.bottom,div.mgAdPlayerContainerDiv.large.bottom,div.mgAdPlayerContainerDiv.medium.bottom,div.mgAdPlayerContainerDiv.small.bottom{bottom:0;top:auto}div.adPlayerContainerDiv.large.bottom.showed,div.adPlayerContainerDiv.large.top.showed,div.adPlayerContainerDiv.medium.bottom.showed,div.adPlayerContainerDiv.medium.top.showed,div.adPlayerContainerDiv.small.bottom.showed,div.adPlayerContainerDiv.small.top.showed,div.mgAdPlayerContainerDiv.large.bottom.showed,div.mgAdPlayerContainerDiv.large.top.showed,div.mgAdPlayerContainerDiv.medium.bottom.showed,div.mgAdPlayerContainerDiv.medium.top.showed,div.mgAdPlayerContainerDiv.small.bottom.showed,div.mgAdPlayerContainerDiv.small.top.showed{opacity:1;visibility:visible}}div.adPlayerDiv.adplayer-no-ui #sound,div.adPlayerDiv.adplayer-no-ui .adClickCover,div.adPlayerDiv.adplayer-no-ui .pause,div.adPlayerDiv.adplayer-no-ui .play,div.adPlayerDiv.adplayer-no-ui div.adLinkButton,div.adPlayerDiv.adplayer-no-ui div.adSkipButton{opacity:0;visibility:hidden;z-index:-100}div.adPlayerContainerDiv.block.smart,div.mgAdPlayerContainerDiv.block.smart{max-width:680px!important;transition:height 1s!important;margin-left:auto;margin-right:auto}.adClickCover{position:absolute;top:0;left:0;width:100%;height:100%;z-index:100000;display:none}.adClickCover.showed{display:block}div.adPlayerContainerDiv .mg2player__controls,div.adPlayerContainerDiv .mg2player__title,div.adPlayerContainerDiv div.mgMuteButton,div.mgAdPlayerContainerDiv .mg2player__controls,div.mgAdPlayerContainerDiv .mg2player__title,div.mgAdPlayerContainerDiv div.mgMuteButton{display:none}',l="".concat(n,"//cdn.").concat(this.amby.get("subnetDomain",""));this.css=o.replaceAll("/mgPlayer/img/mgPlayer_v2_sprite.svg","".concat(l,"/mgPlayer/img/mgPlayer_v2_sprite.svg"))}(0,qh.mgDebug)("Style Component initiated.")}return p.prototype.styleChecking=function(a){if(a&&typeof a=="function"){var n=this.rootElement.querySelector("#mgStyles".concat(this.widgetId))||document.getElementById("mgStyles".concat(this.widgetId));if(n){var o=function(){setTimeout(function(){p.styleElemCheckLoaded(n)?a():o()},50)};p.styleElemCheckLoaded(n)?a():o()}else this.loadStyles(a)}},p.prototype.loadStyles=function(a){var n=this;this.rootElement.querySelector("#mgStyles".concat(this.widgetId))?a&&typeof a=="function"&&a():(this.styleUrl?(this.styleElem=document.createElement("link"),this.styleElem.setAttribute("rel","stylesheet"),this.styleElem.setAttribute("href","".concat(this.styleUrl)),this.styleElem=document.createElement("style"),this.styleElem.setAttribute("type","text/css")):(this.styleElem=document.createElement("style"),this.styleElem.id="mgStyles".concat(this.widgetId),this.styleElem.setAttribute("type","text/css"),this.styleElem.styleSheet?this.styleElem.styleSheet.cssText=this.css:this.styleElem.appendChild(document.createTextNode(this.css))),this.styleElem.addEventListener("load",function(){n.styleElem.setAttribute("data-loaded","true"),a&&typeof a=="function"&&a()}),this.rootElement.isEqualNode(document)?document.head.appendChild(this.styleElem):this.rootElement.appendChild(this.styleElem),document.getElementById("mgStyles".concat(this.widgetId))||document.head.appendChild(this.styleElem.cloneNode(!0)))},p.styleElemCheckLoaded=function(a){var n=a.getAttribute("data-loaded")==="true";if(!n){for(var o=0;o<document.styleSheets.length;o++)if(document.styleSheets[o].href===a.href){n=!0;break}}return n},p}();ms.StyleComponent=Uh});var bs=Ie(vs=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty(vs,"__esModule",{value:!0});vs.LogoComponent=void 0;var gs=ot(),ys=Xe(),Xi=ze(),jh=function(){function p(a,n,o){o===void 0&&(o=!0),this.amby=a,this.container=n,this.stickyOnly=o,this.elemText=Xi.Helpers.getTranslated(this.amby,"headerText","Advertisement"),this.mainBlock=Xi.Helpers.getParentBlockByClass(this.container,"_mgw_"),this.mainBlock&&(this.headerLinkElem=this.mainBlock.querySelector(".mgheader a"));var l=document.location.protocol;this.protocol=l.indexOf("http")===0?l:"https:",this.domain=this.amby.get("subnetDomain"),this.domainName=this.domain.match(/^\w+/),this.headerLink="".concat(this.protocol,"//www.").concat(this.domain),this.headerLinkElem&&this.headerLinkElem.href&&this.headerLinkElem.href.indexOf(this.domainName)>-1&&(this.headerLink=this.headerLinkElem.href.replace(/^(https?:\/\/|\/\/)/,"".concat(this.protocol,"//"))),this.container&&(this.elem=this.container.querySelector(".topBar")),this.elem||this.createElement(),this.addListeners()}return p.prototype.createElement=function(){this.elem=document.createElement("div"),this.elem.className="topBar",this.elem.innerHTML=`<div class="other-logo">
            <a href="`.concat(this.headerLink,`" target="_blank" rel="nofollow noopener">
                <img src="`).concat(this.protocol,"//cdn.").concat(this.domain,"/images/logo/").concat(this.domainName,`.png" alt="" title="">
            </a></div><span>`).concat(this.elemText,"</span>"),this.container.appendChild(this.elem)},p.prototype.addListeners=function(){var a=this;this.amby.addSubListener("ad.status",function(){switch(a.amby.get("ad.status")){case gs.states.STATUS_PLAYING:(!a.stickyOnly||a.amby.get("player.isSticky",!1))&&a.amby.dispatch(ys.upsertState({logo:{visible:!0}}));break;case gs.states.STATUS_STOPPED:a.amby.dispatch(ys.upsertState({logo:{visible:!1}}));break}}),this.amby.addSubListener("player.isSticky",function(){(!a.stickyOnly||a.amby.get("player.isSticky",!1))&&[gs.states.STATUS_PAUSED,gs.states.STATUS_PLAYING].indexOf(a.amby.get("ad.status"))>-1?a.amby.dispatch(ys.upsertState({logo:{visible:!0}})):a.stickyOnly&&a.amby.dispatch(ys.upsertState({logo:{visible:!1}}))}),this.stickyOnly?this.amby.addSubListener("logo.visible",function(){a.checkClasses()}):this.container.addEventListener("transitionend",function(){a.checkClasses()})},p.prototype.checkClasses=function(){this.amby.get("logo.visible")?(Xi.Helpers.addClass(this.elem,"showed"),Xi.Helpers.addClass(this.container,"mglogo")):(Xi.Helpers.removeClass(this.elem,"showed"),Xi.Helpers.removeClass(this.container,"mglogo"))},p}();vs.LogoComponent=jh});var Tr=Ie(ws=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty(ws,"__esModule",{value:!0});ws.MgPlayer=void 0;var Ye=ze(),Fh="playing",zh="paused",$h="buffering",wr="idle",ai="hover",Jt="hidden",xs="visible",Yh=function(){function p(a,n){if(n===void 0&&(n=document),this.rootElement=n,this.container=this.rootElement.querySelector("#".concat(a)),this.container||(this.container=document.querySelector("#".concat(a))),!this.container){console.error("MgPlayer: container not found.");return}var o=document.location.protocol;this.protocol=o.indexOf("http")===0?o:"https:",this.status=wr,this.expanded=!1,this.readyRequest=!1,this.playlistRequest=!1,this.eventListeners={},this.curQuality="360p",this.qualityChanging=!1,this.currentVolumeLevel=1,this.customButtons=[],this.webmSupported=!1}return p.prototype.setup=function(a){var n=this;setTimeout(function(){var o=a.playlist,l=a.repeat,c=a.mute,d=a.stylePath,g=a.buttonSettings,y=a.seekable,b=y===void 0?!0:y,_=a.displayClickDefaultAction,k=_===void 0?!0:_,M=a.theme,E=M===void 0?"mgred":M,K=a.events,W=a.customBtns,Q=a.preload,ie=Q===void 0?"none":Q,J=a.useWebm,ae=J===void 0?!1:J;Array.isArray(o)&&o.length>0&&(n.playlist=o),n.seekable=b,n.displayClickDefaultAction=k,n.stylePath=d,n.theme=E,n.preload=ie,n.useWebm=ae,n.addTemplate();var ee={playButton:ai,startButton:ai,nextButton:ai,time:ai,timeline:ai,hdButton:Jt,muteButton:xs,closeButton:Jt,expandButton:Jt,leftButton:ai,rightButton:ai,title:ai};n.btnSettings=Ye.Helpers.mergeObjects(ee,g),Object.entries(n.btnSettings).forEach(function(me){var ye=me[0],xe=me[1];if(n[ye]!==void 0&&n[ye]!==null)switch(xe){case ai:Ye.Helpers.addClass(n[ye],"mghover");break;case xs:Ye.Helpers.addClass(n[ye],"showed");break}});for(var Se=0;Se<n.time.length;Se++)switch(n.btnSettings.time){case ai:Ye.Helpers.addClass(n.time[Se],"mghover");break;case xs:Ye.Helpers.addClass(n.time[Se],"showed");break}if(n.repeat=l,n.video.muted=!!c,Ye.Helpers.addClass(n.container,"mg2player_mute"),c||Ye.Helpers.removeClass(n.container,"mg2player_mute"),n.readyRequest=!0,n.addButtonListeners(),K&&Object.entries(K).forEach(function(me){var ye=me[0],xe=me[1];typeof xe=="function"?n.on(ye,xe):typeof xe=="string"&&n.on(ye,function(){Ye.Helpers.createImg(xe)})}),W&&Array.isArray(W)&&W.forEach(function(me){n.addCustomButton(me.name,me.image,me.click)}),n.useWebm&&(n.webmSupported=n.couldUseWebm(),n.webmSupported))try{n.enableWebmErrorHandler()}catch{}},0)},p.prototype.addTemplate=function(){this.container.className="mg2player".concat(this.theme==="mgred"?" mgred":""," mg2player_preload"),this.theme==="mgred"?this.container.innerHTML='<video class="mg2player__video" playsinline preload="'.concat(this.preload,'"></video>')+'<div class="mg2player__title"></div><div class="mg2player__preload"></div><div class="mg2player__start-btn"></div><div class="mg2player__controls"><div class="mg2player__controls-cover"><div class="mg2player__controls-wrap"><div class="mg2player__play-btn"></div><div class="mg2player__play-next"></div><div class="mg2player__track"><div class="mg2player__track-wrap"><div class="mg2player__track-buffer" style="width:0;"></div><div class="mg2player__track-played" style="width:0;"></div><div class="mg2player__track-point" style="left:0;"></div></div></div><div class="mg2player__time"></div><div class="mg2player__time mg2player__time_slash">/</div><div class="mg2player__time"></div><div class="mg2player_HD mg2player_HD_disabled"></div></div></div></div><div class="mg2player__volume"><div class="mg2player__volume-bar"><div class="mg2player__volume-wrap"><div class="mg2player__volume-level"></div></div></div></div><div class="mg2player__expand"></div><div class="mg2player__btn mg2player__btn_left"></div><div class="mg2player__btn mg2player__btn_right"></div><div class="mg2player__close"></div>':this.container.innerHTML='<video class="mg2player__video" playsinline preload="'.concat(this.preload,'"></video>')+'<div class="mg2player__title"></div><div class="mg2player__preload"></div><div class="mg2player__start-btn"></div><div class="mg2player__controls"><div class="mg2player__track"><div class="mg2player__track-wrap"><div class="mg2player__track-buffer" style="width:0;"></div><div class="mg2player__track-played" style="width:0;"></div><div class="mg2player__track-point" style="left:0;"></div></div></div><div class="mg2player__controls-cover"><div class="mg2player__controls-wrap"><div class="mg2player__play-btn"></div><div class="mg2player__play-next"></div><div class="mg2player__time"></div><div class="mg2player__time mg2player__time_slash">/</div><div class="mg2player__time"></div><div class="mg2player__dummy"></div><div class="mg2player_HD mg2player_HD_disabled"></div></div></div></div><div class="mg2player__volume"><div class="mg2player__volume-bar"><div class="mg2player__volume-wrap"><div class="mg2player__volume-level"></div></div></div></div><div class="mg2player__expand"></div><div class="mg2player__btn mg2player__btn_left"></div><div class="mg2player__btn mg2player__btn_right"></div><div class="mg2player__close"></div>',this.video=this.container.querySelector("video"),this.video||(this.video=document.createElement("video"),this.video.className="mg2player__video",this.container.appendChild(this.video)),this.progressElem=this.container.querySelector(".mg2player__track-played"),this.progressPointElem=this.container.querySelector(".mg2player__track-point"),this.bufferProgressElem=this.container.querySelector(".mg2player__track-buffer"),this.muteButton=this.container.querySelector(".mg2player__volume"),this.volumeBar=this.container.querySelector(".mg2player__volume-bar"),this.volumeWrap=this.container.querySelector(".mg2player__volume-wrap"),this.volumeLevel=this.container.querySelector(".mg2player__volume-level"),this.playButton=this.container.querySelector(".mg2player__play-btn"),this.startButton=this.container.querySelector(".mg2player__start-btn"),this.time=this.container.querySelectorAll(".mg2player__time"),this.timeline=this.container.querySelector(".mg2player__track"),this.hdButton=this.container.querySelector(".mg2player_HD"),this.expandButton=this.container.querySelector(".mg2player__expand"),this.leftButton=this.container.querySelector(".mg2player__btn_left"),this.rightButton=this.container.querySelector(".mg2player__btn_right"),this.nextButton=this.container.querySelector(".mg2player__play-next"),this.closeButton=this.container.querySelector(".mg2player__close"),this.controlsContainer=this.container.querySelector(".mg2player__controls"),this.controlsWrapper=this.container.querySelector(".mg2player__controls-wrap"),this.title=this.container.querySelector(".mg2player__title"),this.addVideoListeners(),(this.video.preload==="none"||!Array.isArray(this.playlist)||this.playlist.length===0)&&this.fireEvent("ready")},p.prototype.addVideoListeners=function(){var a=this;this.container.oncontextmenu=function(n){n.preventDefault()},this.video&&(this.video.onplaying=function(){if(a.video.seeking){a.pause();return}a.status=Fh,Ye.Helpers.addClass(a.container,"mg2player_playing"),Ye.Helpers.removeClass(a.container,"mg2player_preload"),a.fireEvent("play",{playReason:a.playBtnClicked?"interaction":"external"}),a.playBtnClicked=!1,a.firstFrameFired||(a.fireEvent("firstFrame"),a.firstFrameFired=!0),a.qualityChanged&&(a.startButton.style.removeProperty("visibility"),a.startButton.style.removeProperty("opacity"),a.qualityChanged=!1)},this.video.addEventListener("pause",function(){a.status=zh,Ye.Helpers.removeClass(a.container,"mg2player_playing"),a.fireEvent("pause",{pauseReason:a.playBtnClicked?"interaction":"external"}),a.playBtnClicked=!1}),this.video.addEventListener("ended",function(){a.status=wr,a.fireEvent("beforeComplete"),setTimeout(function(){a.fireEvent("complete"),a.playlistItem(a.currentIndex+1)},500)}),this.video.addEventListener("error",function(){console.error(a.video.error),a.fireEvent("error","ERROR: ".concat(a.video.error))}),this.video.addEventListener("seeking",function(){a.qualityChanged&&a.deletingVideoPaused&&(a.startButton.style.removeProperty("visibility"),a.startButton.style.removeProperty("opacity"),a.qualityChanged=!1),a.fireEvent("seek",{offset:a.video.currentTime})}),this.video.onseeked=function(){a.fireEvent("seeked")},this.video.addEventListener("timeupdate",function(){Ye.Helpers.removeClass(a.container,"mg2player_preload"),a.progress=a.video.currentTime/a.video.duration*100,a.progressElem.style.width="".concat(a.progress,"%"),a.progressPointElem.style.left="".concat(a.progress,"%"),a.time[0].innerText=Ye.Helpers.formatTime(a.video.currentTime),a.fireEvent("time",{position:a.video.currentTime,duration:a.video.duration})}),this.video.addEventListener("volumechange",function(){a.video&&(a.video.muted?Ye.Helpers.addClass(a.container,"mg2player_mute"):Ye.Helpers.removeClass(a.container,"mg2player_mute")),a.fireEvent("mute",{mute:a.video.muted})}),this.video.addEventListener("progress",function(n){a.updateProgress(n)}),this.video.onclick=function(n){a.displayClickDefaultAction&&a.onPlayBtnClick(),a.fireEvent("displayClick"),n.cancelBubble=!0},this.video.addEventListener("loadstart",function(){a.video.preload!=="none"?a.status=$h:a.time[2].innerText=Ye.Helpers.formatTime(0)}),this.video.addEventListener("durationchange",function(){a.time[0].innerText=Ye.Helpers.formatTime(a.video.currentTime),a.time[2].innerText=Ye.Helpers.formatTime(a.video.duration)}),this.video.oncanplay=function(){a.onCanPlay()},this.video.onwaiting=function(){Ye.Helpers.addClass(a.container,"mg2player_preload")},this.video.onloadedmetadata=function(){a.onCanPlay()})},p.prototype.addButtonListeners=function(){var a=this;this.btnSettings.muteButton!==Jt&&(this.muteButton.addEventListener("click",function(n){a.video&&a.setMute(!a.video.muted),n.cancelBubble=!0}),this.volumeWrap.addEventListener("click",function(n){var o=a.volumeWrap.getBoundingClientRect();a.currentVolumeLevel=(o.height-(n.clientY-o.top))/o.height,a.currentVolumeLevel>1&&(a.currentVolumeLevel=1),a.currentVolumeLevel<0&&(a.currentVolumeLevel=0),a.video&&(a.currentVolumeLevel>0&&a.setMute(!1),a.video.volume=a.currentVolumeLevel,a.volumeLevel.style.height="".concat(a.currentVolumeLevel*100,"%")),n.cancelBubble=!0}),this.volumeBar.addEventListener("click",function(n){n.cancelBubble=!0})),this.btnSettings.playButton!==Jt&&this.playButton.addEventListener("click",function(n){a.onPlayBtnClick(),n.cancelBubble=!0}),this.btnSettings.startButton!==Jt&&this.startButton.addEventListener("click",function(n){a.onPlayBtnClick(),a.fireEvent("displayClick"),n.cancelBubble=!0}),this.btnSettings.timeline!==Jt&&this.timeline.addEventListener("click",function(n){if(a.seekable){var o=a.timeline.getBoundingClientRect(),l=(n.clientX-o.left)/o.width;a.video&&a.seek(Math.floor(l*a.video.duration))}n.cancelBubble=!0}),this.btnSettings.nextButton!==Jt&&this.nextButton.addEventListener("click",function(n){a.playlistItem(a.currentIndex+1),a.fireEvent("next"),n.cancelBubble=!0}),this.btnSettings.expandButton!==Jt&&this.expandButton.addEventListener("click",function(n){a.fireEvent("expand"),n.cancelBubble=!0}),this.btnSettings.leftButton!==Jt&&this.leftButton.addEventListener("click",function(n){a.playlistItem(a.currentIndex-1),a.fireEvent("previous"),n.cancelBubble=!0}),this.btnSettings.rightButton!==Jt&&this.rightButton.addEventListener("click",function(n){a.playlistItem(a.currentIndex+1),a.fireEvent("next_2"),n.cancelBubble=!0}),this.controlsContainer.addEventListener("click",function(n){a.displayClickDefaultAction&&a.onPlayBtnClick(),a.fireEvent("displayClick"),n.cancelBubble=!0}),this.btnSettings.hdButton!==Jt&&this.hdButton.addEventListener("click",function(n){if(a.qualityChanging){n.cancelBubble=!0;return}a.hdButton.className.indexOf("mg2player_HD_disabled")>-1?a.changeQuality("720p",function(){Ye.Helpers.removeClass(a.hdButton,"mg2player_HD_disabled"),a.curQuality="720p",a.fireEvent("quality",{quality:"720p"}),a.qualityChanged=!0}):a.changeQuality("360p",function(){Ye.Helpers.addClass(a.hdButton,"mg2player_HD_disabled"),a.curQuality="360p",a.fireEvent("quality",{quality:"360p"}),a.qualityChanged=!0}),n.cancelBubble=!0})},p.prototype.play=function(){var a=this;this.video&&(Ye.Helpers.isIE()?this.video.play():this.video.play().catch(function(){a.video.muted=!0,a.video.play().catch(function(n){console.error("ERROR: ".concat(n.name," MESSAGE: ").concat(n.message))})}))},p.prototype.pause=function(){this.video&&this.video.pause()},p.prototype.setMute=function(a){this.video.muted=!!a},p.prototype.couldUseWebm=function(){var a=this,n="video/webm; codecs=av01.0.01M.08,opus",o=function(c){return window.MediaSource&&MediaSource.isTypeSupported&&MediaSource.isTypeSupported(c)},l=function(c){return a.video.canPlayType&&a.video.canPlayType(c).replace(/no/,"")};return!!(window.MediaError&&MediaError.MEDIA_ERR_DECODE&&(o(n)||l(n)))},p.prototype.enableWebmErrorHandler=function(){var a=this,n=[MediaError.MEDIA_ERR_DECODE,MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED],o=new RegExp(/(_360)\.webm($|\?)/);this.video.addEventListener("error",function(l){var c=a.video;if(c.currentTime<1&&n.indexOf(c.error.code)>-1&&o.test(c.src)){var d=!c.paused,g=c.currentTime;c.src=c.src.replace(o,"$1.mp4$2"),g>0&&(c.currentTime=g),d&&c.paused&&c.play(),l.preventDefault(),l.stopPropagation()}},{capture:!0,passive:!1})},p.prototype.setSuitableExt=function(a){return this.useWebm&&this.webmSupported?a.replace(/\.mp4/,".webm"):a},p.prototype.playlistItem=function(a,n){if(n===void 0&&(n=!0),a>=this.playlist.length?this.currentIndex=0:a<0?this.currentIndex=this.playlist.length-1:this.currentIndex=a,this.video&&Object.prototype.hasOwnProperty.call(this.playlist,this.currentIndex)){var o=this.playlist[this.currentIndex].file;o=o.replace(/^(https?:\/\/|\/\/)/,"".concat(this.protocol,"//")),this.curQuality==="720p"?o=o.replace(/^([^?]+)_360\.(mp4|webm)($|\?)/i,"$1.$2$3"):o=this.setSuitableExt(o),this.video.src=o,this.video.poster=this.playlist[this.currentIndex].image.replace(/^(https?:\/\/|\/\/)/,"".concat(this.protocol,"//")),Ye.Helpers.addClass(this.container,"mg2player_preload")}this.title.innerText=this.playlist[this.currentIndex].title||"",this.firstFrameFired=!1,n&&(a<this.playlist.length||!!this.repeat)&&this.play(),this.fireEvent("playlistItem",{index:this.currentIndex})},p.prototype.setControls=function(a){a?Ye.Helpers.addClass(this.container,"mg2player_controls"):Ye.Helpers.removeClass(this.container,"mg2player_controls"),this.fireEvent("controls")},p.prototype.seek=function(a){this.video&&this.video.duration>=a&&(this.video.currentTime=a)},p.prototype.resize=function(a,n,o){var l=this;if(a===void 0&&(a=null),n===void 0&&(n=null),o===void 0&&(o=null),this.aspectRatio=(o||"16:9").match(/(\d+):(\d+)/).reduce(function(d,g,y){return d[["ratio","width","height"][y]]=g,d},{}),this.aspectRatio.width=parseInt(this.aspectRatio.width,10),this.aspectRatio.height=parseInt(this.aspectRatio.height,10),a===null?this.container.removeAttribute("style"):(this.container.style.width="".concat(a,"px"),this.container.style.height="".concat(n,"px")),this.video&&(a===null?this.video.removeAttribute("style"):(this.video.style.width="".concat(a,"px"),this.video.style.height="".concat(a/(this.aspectRatio.width/this.aspectRatio.height),"px")),parseFloat(this.video.style.height)>parseFloat(this.container.style.height)&&(this.video.style.height="".concat(n,"px"),this.video.style.width="".concat(n*(this.aspectRatio.width/this.aspectRatio.height),"px")),this.theme==="mgred")){var c=this.video.clientWidth||this.video.offsetWidth;c<=350?this.time.forEach(function(d){Ye.Helpers.removeClass(d,"showed"),Ye.Helpers.removeClass(d,"mghover")}):this.time.forEach(function(d){l.btnSettings.time===ai&&Ye.Helpers.addClass(d,"mghover"),l.btnSettings.time===xs&&Ye.Helpers.addClass(d,"showed")})}},p.prototype.load=function(a){var n=this;setTimeout(function(){Array.isArray(a)?n.playlist=a:a&&typeof a=="object"&&(n.playlist=[a]),n.playlistItem(0,!1),n.playlistRequest=!0,n.video.preload==="none"&&n.fireEvent("playlist")},0)},p.prototype.updateProgress=function(a){a.lengthComputable?this.buffered=a.loaded/a.total*100:this.buffered=100,this.bufferProgressElem.style.width="".concat(this.buffered,"%")},p.prototype.getDuration=function(){return this.video.duration},p.prototype.getState=function(){return this.status},p.prototype.getContainer=function(){return this.container},p.prototype.onPlayBtnClick=function(){this.video&&(!this.video.paused&&!this.video.ended?this.pause():this.play()),this.playBtnClicked=!0},p.prototype.on=function(a,n){Object.prototype.hasOwnProperty.call(this.eventListeners,a)||(this.eventListeners[a]=[]),this.eventListeners[a].push(n)},p.prototype.fireEvent=function(a,n){n===void 0&&(n=null),Object.prototype.hasOwnProperty.call(this.eventListeners,a)&&this.eventListeners[a].forEach(function(o){o(n)})},p.prototype.changeQuality=function(a,n){if(!(!a||a===this.curQuality))switch(a){case"720p":this.video.src.indexOf("_360.")>-1&&this.loadVideoSilent(this.video.src.replace(/^([^?]+)_360\.(mp4|webm)($|\?)/i,"$1.$2$3"),n);break;case"360p":this.video.src.indexOf("_360.")===-1&&this.loadVideoSilent(this.video.src.replace(/^([^?]+?)(_360)?\.(mp4|webm)($|\?)/i,"$1_360.$3$4"),n);break}},p.prototype.loadVideoSilent=function(a,n){var o=this;!a||(this.qualityChanging=!0,this.startButton.style.visibility="hidden",this.startButton.style.opacity="0",this.loadingVideo=this.video.cloneNode(!0),this.loadingVideo.src="".concat(a,"#t=").concat(this.video.currentTime),this.loadingVideo.style.visibility="hidden",this.loadingVideo.style.opacity="0",this.loadingVideo.duration&&(this.loadingVideo.currentTime=this.video.currentTime),this.loadingVideo.oncanplay=function(){o.onNewVideoCanPlay()},(Ye.Helpers.isSafari()||Ye.Helpers.iOSversion())&&(this.loadingVideo.onloadedmetadata=function(){o.onNewVideoCanPlay()}),this.loadingVideo.onplaying=function(){Ye.Helpers.removeClass(o.container,"mg2player_preload"),o.qualityTimeout||(o.qualityTimeout=setTimeout(function(){o.deletingVideoElem=o.video,o.loadingVideo.currentTime=o.video.currentTime,o.deletingVideoPaused=o.video.paused,o.loadingVideo.muted=o.video.muted,o.deletingVideoElem.pause(),o.deletingVideoElem.style.visibility="hidden",o.deletingVideoElem.style.opacity="0",o.loadingVideo.style.removeProperty("visibility"),o.loadingVideo.style.removeProperty("opacity"),o.deletingVideoElem.parentNode.removeChild(o.deletingVideoElem),o.video=o.loadingVideo,o.deletingVideoPaused&&o.pause(),o.addVideoListeners(),o.qualityChanging=!1,o.loadingVideoPlayRequested=!1,o.qualityTimeout=null,n&&n()},500))},this.loadingVideo.onwaiting=function(){Ye.Helpers.addClass(o.container,"mg2player_preload")},Ye.Helpers.isIE()||this.video.addEventListener("timeupdate",function(){o.loadingVideo&&o.loadingVideo.duration&&!o.loadingVideo.paused&&(o.loadingVideo.currentTime=o.video.currentTime)}),this.video.parentNode.insertBefore(this.loadingVideo,this.video))},p.prototype.onNewVideoCanPlay=function(){this.loadingVideoPlayRequested||(this.loadingVideo.muted=!0,Ye.Helpers.isIE()?this.video.play():this.loadingVideo.play().catch(function(a){console.error("ERROR: ".concat(a.name," MESSAGE: ").concat(a.message))}),this.loadingVideoPlayRequested=!0)},p.prototype.onCanPlay=function(){Ye.Helpers.removeClass(this.container,"mg2player_preload"),this.status=wr,this.video.preload!=="none"?(this.readyRequest&&(this.readyRequest=!1,this.fireEvent("ready")),this.playlistRequest&&(this.playlistRequest=!1,this.fireEvent("playlist"))):this.play()},p.prototype.addCustomButton=function(a,n,o){var l=this,c=document.createElement("DIV"),d=document.createElement("IMG");d.src=n,d.title=a.toString(),c.className="mg2player__custom-btn mghover",c.title=a.toString(),typeof o=="function"?c.addEventListener("click",function(g){g.cancelBubble=!0,o(g)}):typeof o=="string"&&c.addEventListener("click",function(g){g.cancelBubble=!0;var y=l.rootElement.ownerDocument||l.rootElement,b=y.defaultView.open(o,"_blank");b&&b.focus()}),c.appendChild(d),this.controlsWrapper.appendChild(c),this.customButtons.push({name:a,image:n,onClick:o,elem:c})},p.prototype.removeCustomButton=function(a){var n=this,o=a.toString();this.customButtons.forEach(function(l){l.name.toString()===o&&(l.elem.parentNode.removeChild(l.elem),n.customButtons.unshift(l))})},p}();ws.MgPlayer=Yh});var Ea=Ie(Ss=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty(Ss,"__esModule",{value:!0});Ss.MgAdPlayerComponent=void 0;var Bt=ot(),et=Xe(),gi=ze(),Ts=st(),Zh=Tr(),Xh="playing",Eo="paused",Jh="buffering",Po="idle",Sr="hover",Mi="hidden",Kh="visible",Qh=function(){function p(a,n){var o=this;this.amby=a.amby;var l=n.name,c=l===void 0?"ad":l,d=n.container,g=n.mgsetup,y=n.quality,b=n.adPlaylist;if(this.rootElement=a.rootElement,this.name=c,this.playerContainerDiv=d,this.config=g||{},this.playerId=this.playerContainerDiv.id,this.aspectRatio=this.amby.get("player.aspectratio"),!Array.isArray(b)){(0,Ts.mgDebug)("adPlaylist is not an array"),this.amby.dispatch(et.upsertAdState({errorMessage:"adPlaylist is not an array"})),this.amby.dispatch(et.setAdStatus(Bt.states.STATUS_ERROR,this.name));return}this.playlist=[],b.forEach(function(k){o.playlist.push({file:y==="original"?k.link:k.link.replace(/^([^?]+?)(_360)?\.(mp4|webm)($|\?)/i,"$1_360.$3$4"),image:k.img,title:k.title,mediaid:k.id,hash:k.hash,videoExt:JSON.parse(atob(k.videoExt))})});var _={playButton:Sr,startButton:Mi,nextButton:Mi,time:Sr,timeline:Sr,hdButton:Mi,muteButton:Kh,closeButton:Mi,expandButton:Mi,leftButton:Mi,rightButton:Mi};this.config&&this.config.buttonSettings?this.config.buttonSettings=gi.Helpers.mergeObjects(_,this.config.buttonSettings):this.config.buttonSettings=_,this.currentPosition=0,this.amby.addSubListener("".concat(this.name,".init"),function(){o.onPlayerInit()}),this.amby.addTriggerListener("".concat(this.name,".mute"),function(){o.player&&o.player.setMute(!0)}),this.amby.addTriggerListener("".concat(this.name,".unmute"),function(){o.player&&o.player.setMute(!1)}),this.amby.addTriggerListener("".concat(this.name,".resize"),function(){o.onPlayerResize()}),this.amby.addTriggerListener("".concat(this.name,".actionPlay"),function(){o.player&&[Xh,Jh].indexOf(o.player.getState())===-1?o.player.play():o.playRequested=!0}),this.amby.addTriggerListener("".concat(this.name,".actionPause"),function(){o.player&&[Eo,Po].indexOf(o.player.getState())===-1&&o.player.pause()}),this.amby.addTriggerListener("".concat(this.name,".actionStop"),function(){o.player&&[Eo,Po].indexOf(o.player.getState())===-1&&(o.player.pause(),o.reset()),o.amby.dispatch(et.setAdStatus(Bt.states.STATUS_STOPPED,o.name))}),this.amby.addSubListener("popup.visible",function(){o.onPlayerChangedLocation()}),this.amby.get("formatConfig.moveToBody",!1)&&this.amby.addSubListener("player.isSticky",function(){o.onPlayerChangedLocation()}),this.observer=gi.Helpers.onVisible(this.playerContainerDiv,function(k){k||o.amby.get("player.isSticky",!1)?o.amby.dispatch(et.setPlayerInSight(!0)):o.amby.dispatch(et.setPlayerInSight(!1))},this.amby.get("formatConfig.visiblePart",.9),this.amby.get("formatConfig.hiddenPart")),this.viewableObserver=new IntersectionObserver(function(k){k.forEach(function(M){var E;o.amby.dispatch(et.upsertState((E={},E[o.name.toString()]={viewable:M.isIntersecting},E)))})},{threshold:[.5]}),this.viewableObserver.observe(this.playerContainerDiv)}return p.prototype.onPlayerInit=function(){var a=this;switch(this.amby.get("".concat(this.name,".init"))){case Bt.states.INIT_NEEDED:this.amby.dispatch(et.setAdInit(Bt.states.INIT_IN_PROGRESS,this.name)),gi.Helpers.vitalCall(function(){return a.initPlayer()},this.amby.get("isVital",!0));break;case Bt.states.INIT_RESET:this.amby.dispatch(et.setAdInit(Bt.states.INIT_IN_PROGRESS,this.name)),this.reset(),this.initPlayer();break;case Bt.states.INIT_STOP:this.reset();break}},p.prototype.onPlayerResize=function(a){var n=this;a===void 0&&(a=!1);var o=this.amby.get("ad.size");this.player&&(o?this.player.resize(o.width,o.height,this.aspectRatio):this.player.resize()),gi.Helpers.isIE()&&!a&&setTimeout(function(){n.onPlayerResize(!0)},1200)},p.prototype.initPlayer=function(){this.amby.dispatch(et.setAdStatus(Bt.states.STATUS_INIT,this.name));var a=this.amby.get("formatConfig.staticRoot")||"video-native.".concat(this.amby.get("subnetDomain","")),n=[],o=this.amby.get("libConfig.mgPlayerStylesUrlTemplate"),l=o.replace("{{DOMAIN}}",a),c=this.amby.get("ad.initMuted",!0);this.player=new Zh.MgPlayer(this.playerId,this.rootElement),this.player.setup(gi.Helpers.mergeObjects({autostart:!1,repeat:!1,mute:c,playlist:n,stylePath:l,seekable:!1,displayClickDefaultAction:!1,preload:"metadata"},this.config)),this.addPlayerListeners()},p.prototype.addPlayerListeners=function(){var a=this;this.player.on("ready",function(){gi.Helpers.vitalCall(function(){gi.Helpers.repaintSafari()},a.amby.get("isVital",!0)),a.player&&a.player.load(a.playlist)}),this.player.on("playlist",function(){a.impressions=0,a.amby.dispatch(et.setAdInit(Bt.states.INIT_DONE)),a.amby.dispatch(et.setAdStatus(Bt.states.STATUS_READY,a.name)),a.playRequested&&a.player.play()}),this.player.on("displayClick",function(){if(a.amby.dispatch(et.setTriggerToTrue("ad.clicked")),a.amby.get("ad.adClickUrl")){var n=gi.Helpers.fromAscii(a.amby.get("ad.adClickUrl")),o=window.open(n,"_blank");o&&(o.focus(),a.amby.dispatch(et.setTriggerToTrue("ad.actionPause")))}}),this.player.on("play",function(n){a.amby.dispatch(et.setAdStatus(Bt.states.STATUS_PLAYING,a.name)),n.playReason==="interaction"&&(a.amby.dispatch(et.upsertPlayerState({isPlayingOnVisible:!0})),a.amby.dispatch(et.setTriggerToTrue("ad.userPlay")))}),this.player.on("pause",function(n){(0,Ts.mgDebug)("Player Pause Event ".concat(n.pauseReason)),n.pauseReason==="interaction"&&(a.amby.dispatch(et.upsertPlayerState({isPlayingOnVisible:!1})),a.amby.dispatch(et.setTriggerToTrue("ad.userPause"))),a.amby.dispatch(et.setAdStatus(Bt.states.STATUS_PAUSED,a.name))}),this.player.on("error",function(n){a.amby.dispatch(et.setAdStatus(Bt.states.STATUS_ERROR,a.name)),(0,Ts.mgDebug)(n)}),this.player.on("complete",function(){a.impressions>=a.playlist.length&&(a.reset(),a.amby.dispatch(et.setAdStatus(Bt.states.STATUS_STOPPED,a.name)))}),this.player.on("mute",function(n){a.amby.get("player.isControlsVisible",!1)&&(n.mute?(a.amby.dispatch(et.upsertAdState({initMuted:!0})),a.amby.dispatch(et.setTriggerToTrue("ad.userMute"))):(a.amby.dispatch(et.upsertAdState({initMuted:!1})),a.amby.dispatch(et.setTriggerToTrue("ad.userUnmute")))),a.amby.dispatch(et.setAdMuted(n.mute))}),this.player.on("playlistItem",function(n){a.amby.dispatch(et.upsertAdState({adTag:a.playlist[n.index].mediaid,videoUrl:a.playlist[n.index].file,adPlayer:2,adClickUrl:(0,gi.getInObject)(a.playlist[n.index],["videoExt","clickUrl"]),adHash:a.playlist[n.index].hash}))}),this.player.on("time",function(n){n.position-a.currentPosition>1&&(a.currentPosition=Math.floor(n.position),a.amby.dispatch(et.upsertAdState({position:a.currentPosition})))}),this.player.on("firstFrame",function(){a.currentPosition=0,a.impressions+=1,a.player.setControls(!0),a.amby.dispatch(et.upsertAdState({duration:a.player.getDuration(),complete:!1})),a.amby.dispatch(et.setTriggerToTrue("ad.impression"))}),this.player.on("beforeComplete",function(){a.amby.dispatch(et.upsertAdState({complete:!0}))})},p.prototype.onPlayerChangedLocation=function(){var a=this;this.amby.get("player.isAdPlaying",!1)&&this.player&&this.amby.get("ad.status")===Bt.states.STATUS_PLAYING&&this.amby.get("formatConfig.inlinePlacement")&&setTimeout(function(){a.player.play()},0)},p.prototype.reset=function(){for((0,Ts.mgDebug)("mgAdPlayer: Deleting AD player.".concat(this.amby.get("ad.adTag")?" Ad source: ".concat(this.amby.get("ad.adTag")):"")),this.amby.dispatch(et.upsertAdState({adTag:null,adHash:null}));this.playerContainerDiv&&this.playerContainerDiv.firstChild;)this.playerContainerDiv.removeChild(this.playerContainerDiv.firstChild);delete this.player},p}();Ss.MgAdPlayerComponent=Qh});var Cs=Ie(_s=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty(_s,"__esModule",{value:!0});_s.ImaSdkComponent=void 0;var nt=ot(),Ne=Xe(),xt=st(),eu=_a(),Pa=ze(),tu=Gi(),Ao="mgImaSdkLib",iu=function(){function p(a,n){var o=this;this.amby=a.amby;var l=n.name,c=l===void 0?"ad":l,d=n.adSource,g=n.adResponse,y=n.playerDivId,b=n.playerDiv,_=b===void 0?null:b,k=n.requestsLimit;this.inited=!1,this.name=c,this.playerDivId=y,this.adSource=d,this.adResponse=g,this.requestsLimit=parseInt(k,10)||3,this.requestsNumber=0,this.previousHeight=null,this.playerDiv=_||a.rootElement.querySelector("#".concat(this.playerDivId)),this.amby.get("formatConfig.forceMute",!1)&&(this.noSoundComponent=new eu.NoSoundComponent(this.amby,{playerDiv:this.playerDiv,adName:c})),this.amby.dispatch(Ne.setAdInit(null,this.name)),this.amby.addSubListener("".concat(this.name,".init"),function(){[nt.states.INIT_NEEDED,nt.states.INIT_RESET].indexOf(o.amby.get("".concat(o.name,".init")))>-1&&(0,xt.mgDebug)("Ad starts search."),Pa.Helpers.vitalCall(function(){return o.initPlayer()},o.amby.get("isVital",!0))}),this.amby.addTriggerListener("".concat(this.name,".actionPlay"),function(){if((0,xt.mgDebug)("IMA SDK: actionPlay"),o.adsManager){o.apiAction=!0;var M=o.amby.get("".concat(o.name,".status"));(!M||M!==nt.states.STATUS_PLAYING)&&(!M||M===nt.states.STATUS_READY?o.start():o.adsManager.resume())}else o.playRequested=!0}),this.amby.addTriggerListener("".concat(this.name,".actionPause"),function(){var M=o.amby.get("".concat(o.name,".status"));o.adsManager&&o.adsManager.getCurrentAd()&&[nt.states.STATUS_PAUSED,nt.states.STATUS_READY].indexOf(M)===-1&&o.adsManager.pause()}),this.amby.addTriggerListener("".concat(this.name,".actionStop"),function(){o.adsManager&&o.adsManager.stop()}),this.amby.addTriggerListener("".concat(this.name,".actionClose"),function(){o.amby.dispatch(Ne.setAdVisible(!1,o.name)),o.skip()}),this.amby.addTriggerListener("".concat(this.name,".actionSkip"),function(){o.amby.dispatch(Ne.setAdVisible(!1,o.name)),o.skip()}),this.amby.addTriggerListener("ad.mute",function(){o.mute()}),this.amby.addTriggerListener("ad.unmute",function(){o.unmute()}),this.amby.addTriggerListener("ad.resize",function(){o.onResize()})}return p.prototype.initPlayer=function(){var a=this;switch(this.amby.get("".concat(this.name,".init"))){case nt.states.INIT_NEEDED:this.amby.dispatch(Ne.setAdInit(nt.states.INIT_IN_PROGRESS,this.name)),document.getElementById(Ao)?window.google&&window.google.ima?this.amby.dispatch(Ne.setAdInit(nt.states.INIT_RESET,this.name)):document.getElementById(Ao).addEventListener("load",function(){a.initScript(),a.amby.dispatch(Ne.setAdInit(nt.states.INIT_DONE,a.name)),a.inited=!0}):this.addScript();break;case nt.states.INIT_RESET:this.amby.dispatch(Ne.setAdInit(nt.states.INIT_IN_PROGRESS,this.name)),this.reset(),this.createPlayer();break;case nt.states.INIT_STOP:this.reset();break}},p.prototype.addScript=function(){var a=this,n=document.location.protocol;n=n.indexOf("http")===0?n:"https:";var o=new tu.Loader({imaSdk:{url:this.amby.get("ad.playerUrl")||"".concat(n,"//imasdk.googleapis.com/js/sdkloader/ima3").concat(window.location.href.indexOf("mgwdebug")>-1?"_debug":"",".js"),exists:"typeof window.google !== 'undefined' && typeof window.google.ima !== 'undefined'"}},function(){a.initScript(),a.amby.dispatch(Ne.setAdInit(nt.states.INIT_DONE,a.name)),a.inited=!0,a.createPlayer()});o.checkLoaded()},p.prototype.initScript=function(){var a=this;if(this.ima=(0,Pa.getInObject)(window,["google","ima"]),!this.ima){(0,xt.mgDebug)("IMA SDK ERROR: there is no IMA.");return}this.videoContent=document.createElement("video"),this.videoContent.style.height="100%",this.videoContent.style.width="100%",this.videoContent.style.zIndex="-1",this.videoContent.style.position="absolute",this.videoContent.style.left="0",this.videoContent.style.top="0",this.videoContent.setAttribute("playsinline","true"),this.videoContent.setAttribute("webkit-playsinline","true"),this.playerDiv.appendChild(this.videoContent),this.adDisplayContainer=new this.ima.AdDisplayContainer(this.playerDiv,this.videoContent),this.adDisplayContainer.initialize(),this.adsLoader=new this.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.getSettings().setVpaidMode(this.ima.ImaSdkSettings.VpaidMode.INSECURE),this.renderingSettings=new this.ima.AdsRenderingSettings,this.renderingSettings.useStyledNonLinearAds=!0,this.renderingSettings.restoreCustomPlaybackStateOnAdBreakComplete=!1,this.renderingSettings.loadVideoTimeout=6e4,this.renderingSettings.enablePreloading=!0,this.adsLoader.addEventListener(this.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(n){(0,xt.mgDebug)("IMA SDK manager loaded."),a.adsManager=n.getAdsManager({currentTime:0},a.renderingSettings),a.onAdManagerLoaded(),a.amby.dispatch(Ne.setAdStatus(nt.states.STATUS_READY,a.name))},!1),this.adsLoader.addEventListener(this.ima.AdErrorEvent.Type.AD_ERROR,function(n){a.onAdError(n)},!1)},p.prototype.onAdManagerLoaded=function(){var a=this;this.adsManager.addEventListener(this.ima.AdErrorEvent.Type.AD_ERROR,function(n){a.onAdError(n)}),this.adsManager.addEventListener(this.ima.AdEvent.Type.LOADED,function(n){var o;(0,xt.mgDebug)("IMA SDK ads loaded."),n.getAd&&n.getAd()&&(n.getAd().getDuration&&n.getAd().getDuration()&&(a.amby.dispatch(Ne.upsertAdState({position:0,duration:n.getAd().getDuration()})),a.name!=="ad"&&a.amby.dispatch(Ne.upsertState({position:0,duration:n.getAd().getDuration()}))),n.getAd().isLinear&&a.amby.dispatch(Ne.upsertState((o={},o[a.name]={isLinear:n.getAd().isLinear()},o)))),a.amby.dispatch(Ne.setAdStatus(nt.states.STATUS_READY,a.name)),a.playRequested&&a.adsManager&&(a.start(),a.playRequested=!1),a.resizeNeeded&&a.onResize()}),this.adsManager.addEventListener(this.ima.AdEvent.Type.STARTED,function(){(0,xt.mgDebug)("IMA SDK ads started."),a.adsManager.getCurrentAd&&a.adsManager.getCurrentAd()&&a.adsManager.getCurrentAd().getDuration&&a.adsManager.getCurrentAd().getDuration()&&a.amby.dispatch(Ne.upsertAdState({position:0,duration:a.adsManager.getCurrentAd().getDuration()})),a.onResize(),a.amby.dispatch(Ne.setAdStatus(nt.states.STATUS_PLAYING,a.name))}),this.adsManager.addEventListener(this.ima.AdEvent.Type.PAUSED,function(){a.amby.dispatch(Ne.setAdStatus(nt.states.STATUS_PAUSED,a.name))}),this.adsManager.addEventListener(this.ima.AdEvent.Type.RESUMED,function(){a.amby.dispatch(Ne.setAdStatus(nt.states.STATUS_PLAYING,a.name))}),this.adsManager.addEventListener(this.ima.AdEvent.Type.IMPRESSION,function(){(0,xt.mgDebug)("IMA SDK ads impression."),a.amby.dispatch(Ne.setTriggerToTrue("".concat(a.name,".impression")))}),this.adsManager.addEventListener(this.ima.AdEvent.Type.SKIPPED,function(){(0,xt.mgDebug)("IMA SDK Skipped"),setTimeout(function(){a.adsManager.destroy()},400),a.amby.dispatch(Ne.setTriggerToTrue("".concat(a.name,".skip"))),a.amby.dispatch(Ne.setAdStatus(nt.states.STATUS_STOPPED,a.name))}),this.adsManager.addEventListener(this.ima.AdEvent.Type.USER_CLOSE,function(){(0,xt.mgDebug)("IMA SDK user close"),setTimeout(function(){a.adsManager.destroy()},400),a.amby.dispatch(Ne.setTriggerToTrue("".concat(a.name,".complete"))),a.amby.dispatch(Ne.setAdStatus(nt.states.STATUS_STOPPED,a.name))}),this.adsManager.addEventListener(this.ima.AdEvent.Type.COMPLETE,function(){(0,xt.mgDebug)("IMA SDK complete"),a.amby.dispatch(Ne.setTriggerToTrue("".concat(a.name,".complete")))}),this.adsManager.addEventListener(this.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(){(0,xt.mgDebug)("IMA SDK ALL complete"),setTimeout(function(){a.adsManager.destroy()},400),a.amby.dispatch(Ne.setAdStatus(nt.states.STATUS_STOPPED,a.name))}),this.adsManager.addEventListener(this.ima.AdEvent.Type.CLICK,function(){a.amby.dispatch(Ne.setTriggerToTrue("".concat(a.name,".clicked")))}),this.adsManager.addEventListener(this.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,function(){a.amby.dispatch(Ne.setAdStatus(nt.states.STATUS_READY,a.name))}),this.adsManager.addEventListener(this.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,function(){a.adsManager.destroy(),a.amby.dispatch(Ne.setAdStatus(nt.states.STATUS_STOPPED,a.name))}),this.adsManager.addEventListener(this.ima.AdEvent.Type.FIRST_QUARTILE,function(){a.amby.dispatch(Ne.upsertAdState({position:Math.ceil(a.amby.get("ad.duration")/4)}))}),this.adsManager.addEventListener(this.ima.AdEvent.Type.MIDPOINT,function(){a.amby.dispatch(Ne.upsertAdState({position:Math.ceil(a.amby.get("ad.duration")/2)}))}),this.adsManager.addEventListener(this.ima.AdEvent.Type.THIRD_QUARTILE,function(){a.amby.dispatch(Ne.upsertAdState({position:a.amby.get("ad.duration")/4*3}))}),this.adsManager.addEventListener(this.ima.AdEvent.Type.VOLUME_CHANGED,function(n){n.getAd&&n.getAd()&&n.getAd().g&&n.getAd().g.volume?a.amby.dispatch(Ne.setAdMuted(!1)):a.amby.dispatch(Ne.setAdMuted(!0))}),this.adsManager.addEventListener(this.ima.AdEvent.Type.AD_PROGRESS,function(n){var o;n.getAdData&&n.getAdData()&&a.amby.dispatch(Ne.upsertState((o={},o[a.name]={position:n.getAdData().currentTime},o)))}),this.adsManager.addEventListener(this.ima.AdEvent.Type.LINEAR_CHANGED,function(n){var o;n.getAd&&n.getAd()&&a.amby.dispatch(Ne.upsertState((o={},o[a.name]={isLinear:n.getAd().isLinear()},o)))}),this.adsManager.addEventListener(this.ima.AdEvent.Type.LOG,function(n){var o;a.amby.dispatch(Ne.upsertState((o={},o[a.name]={logMessage:n.toString()},o)))})},p.prototype.createPlayer=function(){(0,xt.mgDebug)("Creating new IMA SDK request."),this.amby.dispatch(Ne.setAdStatus(nt.states.STATUS_INIT,this.name)),this.requestsNumber+=1,this.adsLoader.requestAds(this.getRequest())},p.prototype.start=function(){var a;try{var n=this.amby.get("ad.size",{width:300,height:169});this.adsManager.init(n.width,n.height,this.ima.ViewMode.NORMAL),(0,xt.mgDebug)("IMA SDK initialising ad...")}catch(o){(0,xt.mgDebug)(o.getError()),this.amby.dispatch(Ne.upsertAdState({errorMessage:"".concat(o.getError().getErrorCode()," ").concat(o.getError().getMessage())})),this.name!=="ad"&&this.amby.dispatch(Ne.upsertState((a={},a[this.name]={errorMessage:"".concat(o.getError().getErrorCode()," ").concat(o.getError().getMessage())},a)))}(this.amby.get("ad.initMuted",!0)||Pa.Helpers.iOSversion())&&this.mute(),Pa.Helpers.iOSversion()&&this.amby.dispatch(Ne.upsertState({player:{muted:!0}})),this.adsManager.start(),(0,xt.mgDebug)("IMA SDK start ad...")},p.prototype.reset=function(){(0,xt.mgDebug)("IMA SDK: Deleting AD player."),this.close(),this.adsManager&&this.adsManager.destroy(),this.requestsNumber=0},p.prototype.mute=function(){var a=this;this.amby.dispatch(Ne.upsertState({rawPhase:9,widget:{rawplayer:!0}})),Pa.Helpers.vitalCall(function(){a.adsManager&&((0,xt.mgDebug)("IMA SDK: AD mute request sent."),a.adsManager.setVolume(0),a.amby.dispatch(Ne.setAdMuted(!0)),a.amby.dispatch(Ne.upsertState({muteBtn:{muted:!0}})))},this.amby.get("isVital",!0))},p.prototype.unmute=function(){this.adsManager&&((0,xt.mgDebug)("IMA SDK: AD unmute request sent."),this.adsManager.setVolume(1),this.amby.dispatch(Ne.setAdMuted(!1)),this.amby.dispatch(Ne.upsertState({muteBtn:{muted:!1}})))},p.prototype.close=function(){this.adsManager&&this.adsManager.stop()},p.prototype.skip=function(){this.adsManager&&(this.adsManager.getAdSkippableState()?this.adsManager.skip():this.adsManager.stop())},p.prototype.onResize=function(){if(this.adsManager&&this.adsManager.getCurrentAd()){var a=this.amby.get("ad.size",{width:300,height:169});this.adsManager.resize(a.width,a.height,this.ima.ViewMode.NORMAL);var n=this.playerDiv.querySelector("iframe");if(n){var o=n.style.display;n.style.display="none",this.previousHeight=n.offsetHeight,n.style.display=o}}[nt.states.STATUS_READY,nt.states.STATUS_PLAYING,nt.states.STATUS_PAUSED].indexOf(this.amby.get("".concat(this.name,".status")))===-1&&(this.resizeNeeded=!0)},p.prototype.getRequest=function(){this.adsRequest=new this.ima.AdsRequest,this.adResponse?this.adsRequest.adsResponse=this.adResponse:this.adsRequest.adTagUrl=this.adSource.replace(/^(http:\/\/|\/\/)/,"https://");var a=this.amby.get("ad.size",{width:300,height:169});return this.adsRequest.linearAdSlotWidth=a.width,this.adsRequest.linearAdSlotHeight=a.height,this.adsRequest.nonLinearAdSlotWidth=a.width,this.adsRequest.nonLinearAdSlotHeight=a.height,this.adsRequest.contentDuration=0,this.adsRequest.vastLoadTimeout=15e3,this.adsRequest},p.prototype.onAdError=function(a){var n,o=this;(0,xt.mgDebug)(a.getError()),this.amby.dispatch(Ne.upsertAdState({errorMessage:"".concat(a.getError().getErrorCode()," ").concat(a.getError().getMessage())})),this.name!=="ad"&&this.amby.dispatch(Ne.upsertState((n={},n[this.name]={errorMessage:"".concat(a.getError().getErrorCode()," ").concat(a.getError().getMessage())},n))),this.adsManager&&this.adsManager.destroy(),this.requestsLimit>this.requestsNumber?(this.requestsNumber+=1,setTimeout(function(){o.adsLoader.requestAds(o.getRequest())},500)):this.amby.dispatch(Ne.setAdStatus(nt.states.STATUS_ERROR,this.name))},p}();_s.ImaSdkComponent=iu});var Is=Ie(Ds=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty(Ds,"__esModule",{value:!0});Ds.SkipAdButtonComponent=void 0;var ks=ot(),Aa=Xe(),La=ze(),au=st(),su=function(){function p(a,n,o){this.amby=a,this.container=n,this.playerName=o,this.widgetId=this.amby.get("widgetId"),this.elemText=La.Helpers.getTranslated(this.amby,"skipText","Skip"),this.timeToSkipText=La.Helpers.getTranslated(this.amby,"skipOffsetText","Skip ad in %s");var l=La.Helpers.getParentBlockByClass(this.container,"._mgw_".concat(this.widgetId));l&&(this.elem=l.querySelector("div[class*=mgSkipButton]")),this.elem?this.addClickListeners():this.createElement(),this.addListeners(),(0,au.mgDebug)("Skip Ad Button Component initialised")}return p.prototype.createElement=function(){this.elem=document.createElement("div"),this.elem.className="mgSkipButton adSkipButton",this.elem.innerText=this.elemText,this.container.appendChild(this.elem),this.addClickListeners()},p.prototype.addClickListeners=function(){var a=this;this.elem&&this.elem.addEventListener("click",function(n){a.amby.get("skipBtn.skipable",!1)&&(a.amby.dispatch(Aa.setTriggerToTrue("".concat(a.playerName,".actionSkip"))),a.stopInterval()),n.cancelBubble=!0})},p.prototype.addListeners=function(){var a=this;this.amby.addSubListener("skipBtn.visible",function(){a.amby.get("skipBtn.visible",!1)?La.Helpers.addClass(a.elem,"showed"):La.Helpers.removeClass(a.elem,"showed")}),this.amby.addSubListener("".concat(this.playerName,".status"),function(){switch(a.amby.get("".concat(a.playerName,".status"))){case ks.states.STATUS_READY:a.skipoffset=a.amby.get("".concat(a.playerName,".skipoffset")),a.timeToSkip=parseInt(a.skipoffset,10);break;case ks.states.STATUS_PLAYING:a.skipoffset&&a.createInterval();break;case ks.states.STATUS_PAUSED:a.skipoffset&&a.pauseInterval();break;case ks.states.STATUS_STOPPED:a.skipoffset&&a.stopInterval();break}}),this.amby.addSubListener("skipBtn.skipable",function(){a.amby.get("skipBtn.skipable",!0)&&a.skipoffset&&a.skipIntervalId&&(a.timeToSkip=0)})},p.prototype.createInterval=function(){var a=this;if(!this.skipIntervalId){this.amby.dispatch(Aa.upsertState({skipBtn:{skipable:!1}}));var n=Math.ceil(this.timeToSkip);this.timeToSkip>0&&(this.elem.innerText=this.timeToSkipText.replace("%s",n)),this.skipIntervalId=setInterval(function(){n=Math.ceil(a.timeToSkip),a.elem.innerText=a.timeToSkipText.replace("%s",n),a.timeToSkip<=0&&a.skipIntervalId?(clearInterval(a.skipIntervalId),a.skipIntervalId=null,a.elem.innerText=a.elemText,a.amby.dispatch(Aa.upsertState({skipBtn:{skipable:!0}}))):a.timeToSkip-=.1},100)}this.amby.dispatch(Aa.upsertState({skipBtn:{visible:!0}}))},p.prototype.pauseInterval=function(){this.skipIntervalId&&(clearInterval(this.skipIntervalId),this.skipIntervalId=null)},p.prototype.stopInterval=function(){this.pauseInterval(),this.timeToSkip=parseInt(this.skipoffset,10),this.amby.dispatch(Aa.upsertState({skipBtn:{visible:!1,skipable:!1}}))},p}();Ds.SkipAdButtonComponent=su});var Ba=Ie(Es=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty(Es,"__esModule",{value:!0});Es.MuteButtonComponent=void 0;var ru=Xe(),Ci=ze(),nu=function(){function p(a,n){this.amby=a,this.container=n,this.widgetId=this.amby.get("widgetId");var o=Ci.Helpers.getParentBlockByClass(this.container,"_mgw_".concat(this.widgetId));o&&(this.elem=o.querySelector(".mgMuteButton")),this.elem||this.createElement(),this.amby.get("muteBtn.muted",!1)&&Ci.Helpers.addClass(this.elem,"muted"),this.addListeners()}return p.prototype.createElement=function(){this.elem=document.createElement("div"),this.elem.className="mgMuteButton",this.container.appendChild(this.elem)},p.prototype.addListeners=function(){var a=this;this.amby.addSubListener("muteBtn.muted",function(){a.amby.get("muteBtn.muted",!1)?Ci.Helpers.addClass(a.elem,"muted"):Ci.Helpers.removeClass(a.elem,"muted")}),this.amby.addSubListener("player.isControlsVisible",function(){a.amby.get("player.isControlsVisible",!1)?Ci.Helpers.removeClass(a.elem,"showed"):Ci.Helpers.addClass(a.elem,"showed")}),this.amby.addSubListener("muteBtn.visible",function(){a.amby.get("muteBtn.visible",!1)?Ci.Helpers.addClass(a.elem,"showed"):Ci.Helpers.removeClass(a.elem,"showed")}),this.elem.addEventListener("click",function(n){a.amby.dispatch(ru.setTriggerToTrue("muteBtn.clicked")),n.cancelBubble=!0})},p}();Es.MuteButtonComponent=nu});var Lo=Ie(As=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty(As,"__esModule",{value:!0});As.VpaidPlayerBase=void 0;var Ps=ot(),ki=ze(),ou=_a(),lu=Ya(),yi=st(),_t=Xe(),pu=function(){function p(a,n){var o=this;this.events={AdStarted:"AdStarted",AdStopped:"AdStopped",AdSkipped:"AdSkipped",AdLoaded:"AdLoaded",AdLinearChange:"AdLinearChange",AdSizeChange:"AdSizeChange",AdExpandedChange:"AdExpandedChange",AdSkippableStateChange:"AdSkippableStateChange",AdDurationChange:"AdDurationChange",AdRemainingTimeChange:"AdRemainingTimeChange",AdVolumeChange:"AdVolumeChange",AdImpression:"AdImpression",AdClickThru:"AdClickThru",AdInteraction:"AdInteraction",AdVideoStart:"AdVideoStart",AdVideoFirstQuartile:"AdVideoFirstQuartile",AdVideoMidpoint:"AdVideoMidpoint",AdVideoThirdQuartile:"AdVideoThirdQuartile",AdVideoComplete:"AdVideoComplete",AdUserAcceptInvitation:"AdUserAcceptInvitation",AdUserMinimize:"AdUserMinimize",AdUserClose:"AdUserClose",AdPaused:"AdPaused",AdPlaying:"AdPlaying",AdError:"AdError",AdLog:"AdLog"},this.inited=!1,this.initRequested=!1,this.requestsLimit=0,this.lastPosition=0,this.positionEventEmitted=!1,this.parameters={},this.wrapperNumber=0,this.vastIndex=0,this.adIndex=0,this.vpaidMode=Ps.vpaidModes.INSECURE,this.amby=a.amby;var l=n.name,c=l===void 0?"ad":l,d=n.adSource,g=n.adResponse,y=g===void 0?null:g,b=n.playerDivId,_=n.playerDiv,k=_===void 0?null:_,M=n.desiredBitrate,E=M===void 0?900:M,K=n.skipoffset,W=K===void 0?null:K;this.rootElement=a.rootElement,this.name=c,this.playerDivId=b,this.adSource=ki.Helpers.prepareAdSourceMacroses(d),this.adResponse=y,this.skipOffset=W,this.desiredBitrate=E,this.uuid=this.amby.get("uuid",""),this.previousHeight=null,this.playerDiv=k||a.rootElement.querySelector("#".concat(this.playerDivId)),this.amby.get("formatConfig.forceMute",!1)&&(this.noSoundComponent=new ou.NoSoundComponent(this.amby,{playerDiv:this.playerDiv,adName:c})),this.amby.get("formatConfig.hideConsole",!1)&&window.location.href.indexOf("mgwdebug")===-1&&(this.proxyConsoleComponent=new lu.ProxyConsoleComponent(this.amby,{playerDiv:this.playerDiv})),this.amby.dispatch(_t.setAdInit(null,this.name)),this.amby.addTriggerListener("".concat(this.name,".actionPause"),function(){var Q=o.amby.get("".concat(o.name,".status"));o.vpaidManager&&[Ps.states.STATUS_PAUSED,Ps.states.STATUS_READY].indexOf(Q)===-1&&((0,yi.mgDebug)("#".concat(o.name,": Call vpaidManager.pauseAd")),o.vpaidManager.pauseAd())}),this.amby.addTriggerListener("".concat(this.name,".actionSkip"),function(){o.amby.dispatch(_t.setAdVisible(!1,o.name)),o.vpaidManager&&((0,yi.mgDebug)("#".concat(o.name,": Call vpaidManager.skipAd")),o.vpaidManager.skipAd(),o.amby.dispatch(_t.setTriggerToTrue("".concat(o.name,".admgskip"))))}),this.amby.addTriggerListener("ad.unmute",function(){o.unmute()}),this.amby.addTriggerListener("ad.resize",function(){o.onResize()})}return p.prototype.subscribeEvents=function(){var a=this;this.vpaidManager.subscribe(function(){(0,yi.mgDebug)("#".concat(a.name,": VPAID Manager: get AdPaused.")),a.amby.dispatch(_t.setAdStatus(Ps.states.STATUS_PAUSED,a.name))},this.events.AdPaused),this.vpaidManager.subscribe(function(){var n;(0,yi.mgDebug)("#".concat(a.name,": VPAID Manager: get AdVideoComplete.")),a.amby.dispatch(_t.upsertState((n={},n[a.name]={complete:!0},n)))},this.events.AdVideoComplete),this.vpaidManager.subscribe(function(){var n;a.amby.dispatch(_t.upsertState((n={},n[a.name]={position:Math.ceil(a.amby.get("ad.duration")/4)},n)))},this.events.AdVideoFirstQuartile),this.vpaidManager.subscribe(function(){var n;a.amby.dispatch(_t.upsertState((n={},n[a.name]={position:Math.ceil(a.amby.get("ad.duration")/2)},n)))},this.events.AdVideoMidpoint),this.vpaidManager.subscribe(function(){var n;a.amby.dispatch(_t.upsertState((n={},n[a.name]={position:a.amby.get("ad.duration")/4*3},n)))},this.events.AdVideoThirdQuartile),this.vpaidManager.subscribe(function(n){(0,yi.mgDebug)("#".concat(a.name,": VPAID Manager: get AdVolumeChange.")),n&&n.getAd&&n.getAd()&&n.getAd().g&&n.getAd().g.volume?a.amby.dispatch(_t.setAdMuted(!1)):a.amby.dispatch(_t.setAdMuted(!0))},this.events.AdVolumeChange),this.vpaidManager.subscribe(function(){var n;a.positionEventEmitted=!0,a.vpaidManager&&a.amby.dispatch(_t.upsertState((n={},n[a.name]={position:Math.trunc(a.vpaidManager.getAdDuration()-a.vpaidManager.getAdRemainingTime())},n)))},this.events.AdRemainingTimeChange),this.vpaidManager.subscribe(function(){var n;a.vpaidManager&&a.amby.dispatch(_t.upsertState((n={},n[a.name]={duration:a.vpaidManager.getAdDuration()},n)))},this.events.AdDurationChange),this.vpaidManager.subscribe(function(){var n;a.amby.dispatch(_t.upsertState((n={},n[a.name]={skipable:a.vpaidManager.getAdSkippableState()},n.skipBtn={skipable:a.vpaidManager.getAdSkippableState()},n)))},this.events.AdSkippableStateChange),this.vpaidManager.subscribe(function(){a.amby.dispatch(_t.setTriggerToTrue("".concat(a.name,".clicked")))},this.events.AdClickThru),this.vpaidManager.subscribe(function(){a.amby.dispatch(_t.setTriggerToTrue("".concat(a.name,".skip")))},this.events.AdSkipped)},p.prototype.unmute=function(){if(this.vpaidManager){(0,yi.mgDebug)("#".concat(this.name,": Call vpaidManager.setAdVolume(1)"));try{this.vpaidManager.setAdVolume(1),this.amby.dispatch(_t.setAdMuted(!1)),this.amby.dispatch(_t.upsertState({muteBtn:{muted:!1}}))}catch(a){(0,yi.mgDebug)("#".concat(this.name,": setAdVolume(1) Error: ").concat(a))}}},p.prototype.onResize=function(){var a=this;if(this.vpaidManager){var n=this.amby.get("ad.size",{width:300,height:169});window.setTimeout(function(){(0,yi.mgDebug)("#".concat(a.name,": Call vpaidManager.resizeAd"));try{a.vpaidManager.resizeAd(n.width-1,n.height,"normal"),a.vpaidManager.resizeAd(n.width,n.height,"normal")}catch(c){(0,yi.mgDebug)("#".concat(a.name,": Resize error: ").concat(c))}},10);var o=this.playerDiv.querySelector("iframe");if(o){var l=o.style.display;o.style.display="none",this.previousHeight=o.offsetHeight,o.style.display=l}}},p.prototype.replaceMacros=function(a){var n=a.replace("{uuid}",this.uuid);return this.getPreparedAdSourceSizes(n)},p.prototype.getPreparedAdSourceSizes=function(a){var n,o=this.rootElement.querySelector(".type-v .image-container"),l=this.amby.get("ad.size.width",0)||o&&ki.Helpers.getElemWidth(o),c=this.amby.get("ad.size.height",0)||o&&ki.Helpers.getElemHeight(o);(c<1||l<1)&&(n=ki.Helpers.tryCorrectZeroSizes(this.playerDiv,l,c),l=n.width,c=n.height);var d=this.amby.get("formatConfig.name"),g=this.amby.get("ad.curAdPosition")==="pre"?"pre":"mid",y=ki.Helpers.replaceAll(a,"{width}",Math.ceil(l).toString());return y=ki.Helpers.replaceAll(y,"{height}",Math.ceil(c).toString()),y=ki.Helpers.replaceAll(y,"{format}",d),y=ki.Helpers.replaceAll(y,"{schedule}",g),y},p.prototype.createPositionTimeout=function(){var a=this;this.positionEventEmitted||(this.positionTimeout=window.setTimeout(function(){var n;if(a.vpaidManager){var o=Math.trunc(a.vpaidManager.getAdDuration()-a.vpaidManager.getAdRemainingTime());a.lastPosition<o&&a.amby.dispatch(_t.upsertState((n={},n[a.name]={position:o},n)))}a.createPositionTimeout()},200))},p.prototype.getTracking=function(a){a===void 0&&(a=0);var n=this.xmlDocument.querySelectorAll("Ad"),o=n&&n[a]?n[a]:null;o||(o=this.xmlDocument.documentElement),this.parameters.errors=this.parameters.errors||[];for(var l=o.querySelectorAll("Error"),c=0;c<l.length;c++)this.parameters.errors.push(l[c].textContent.trim());this.parameters.impressions=this.parameters.impressions||[];for(var d=o.querySelectorAll("Impression"),c=0;c<d.length;c++)this.parameters.impressions.push(d[c].textContent.trim());this.parameters.tracking=this.parameters.tracking||{};for(var g=o.querySelectorAll("TrackingEvents > Tracking"),c=0;c<g.length;c++){var y=g[c].getAttribute("type")||g[c].getAttribute("event");y&&(this.parameters.tracking[y]||(this.parameters.tracking[y]=[]),this.parameters.tracking[y].push(g[c].textContent.trim()))}this.parameters.viewableImpressions=this.parameters.viewableImpressions||[];for(var b=this.xmlDocument.querySelectorAll("ViewableImpression>Viewable"),c=0;c<b.length;c++)this.parameters.viewableImpressions.push(b[c].textContent.trim())},p}();As.VpaidPlayerBase=pu});var Bo=Ie(Ls=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty(Ls,"__esModule",{value:!0});Ls.Vast=void 0;var vi=ot(),Kt=ze(),Qt=Xe(),cu=Ea(),wt={AdStarted:"AdStarted",AdStopped:"AdStopped",AdSkipped:"AdSkipped",AdLoaded:"AdLoaded",AdLinearChange:"AdLinearChange",AdSizeChange:"AdSizeChange",AdExpandedChange:"AdExpandedChange",AdSkippableStateChange:"AdSkippableStateChange",AdDurationChange:"AdDurationChange",AdRemainingTimeChange:"AdRemainingTimeChange",AdVolumeChange:"AdVolumeChange",AdImpression:"AdImpression",AdClickThru:"AdClickThru",AdInteraction:"AdInteraction",AdVideoStart:"AdVideoStart",AdVideoFirstQuartile:"AdVideoFirstQuartile",AdVideoMidpoint:"AdVideoMidpoint",AdVideoThirdQuartile:"AdVideoThirdQuartile",AdVideoComplete:"AdVideoComplete",AdUserAcceptInvitation:"AdUserAcceptInvitation",AdUserMinimize:"AdUserMinimize",AdUserClose:"AdUserClose",AdPaused:"AdPaused",AdPlaying:"AdPlaying",AdError:"AdError",AdLog:"AdLog"},Ct={impression:"impression",click:"click",error:"error",start:"start",firstQuartile:"firstQuartile",midpoint:"midpoint",thirdQuartile:"thirdQuartile",complete:"complete",mute:"mute",unmute:"unmute",pause:"pause",resume:"resume",fullscreen:"fullscreen",exitFullscreen:"exitFullscreen",expand:"expand",collapse:"collapse",skip:"skip",creativeView:"creativeView",rewind:"rewind",viewable_impression:"viewable_impression"},du=function(){function p(a){a===void 0&&(a="vast"),this.adCompanions="",this.adDuration=1,this.adExpanded=!1,this.adHeight=0,this.adIcons=!1,this.adLinear=!0,this.adRemainingTime=0,this.adSkippableState=!1,this.adVolume=0,this.adWidth=0,this.eventListeners={},this.firstTimePlay=!0,this.skipOffset=5,this.skipOffsetText="Skip in %s",this.protocol="https:",this.viewableImpressionSent=!1,this.silentMode=!1,this.amby=(0,vi.createAmby)(a),(Kt.Helpers.getUrlParam("mgwteaser")||Kt.Helpers.getUrlParam("mgwcampaign"))&&(this.silentMode=!0),this.setCallbacksForCreative()}return p.prototype.setCallbacksForCreative=function(){var a=this;this.amby.addSubListener("ad.status",function(){switch(a.amby.get("ad.status")){case vi.states.STATUS_READY:if((0,Kt.getInObject)(a.playerComponent,["player","video","duration"])>a.adDuration&&(a.adDuration=a.playerComponent.player.video.duration),a.parameters.enableDurationBalancer&&a.parameters.contentVideoDurationLimit<parseInt(a.getAdDuration().toString(),10)){a.stopAd();return}a.triggerEvent(wt.AdLoaded);break;case vi.states.STATUS_PLAYING:a.amby.get("ad.viewable",!1)&&(a.clearViewableTimeout(),a.viewableTimeout=window.setTimeout(function(){a.viewableImpressionSent||(a.viewableImpressionSent=!0,a.sendTracking(Ct.viewable_impression,!0))},2e3)),a.firstTimePlay?(a.sendTracking(Ct.start),a.triggerEvent(wt.AdStarted),a.triggerEvent(wt.AdVideoStart),a.firstTimePlay=!1):(a.sendTracking(Ct.resume),a.triggerEvent(wt.AdPlaying));break;case vi.states.STATUS_PAUSED:a.clearViewableTimeout(),a.sendTracking(Ct.pause),a.triggerEvent(wt.AdPaused);break;case vi.states.STATUS_STOPPED:a.clearViewableTimeout(),a.triggerEvent(wt.AdStopped);break;case vi.states.STATUS_ERROR:a.clearViewableTimeout(),a.sendTracking(Ct.error,!0),a.triggerEvent(wt.AdError,a.amby.get("ad.errorMessage"));break}}),this.amby.addSubListener("ad.position",function(){var n=a.amby.get("ad.position"),o=a.amby.get("ad.duration",1);if(!(o<=1)){var l=n/o;l>=.25&&!a.video25?(a.sendTracking(Ct.firstQuartile),a.triggerEvent(wt.AdVideoFirstQuartile),a.video25=!0):l>=.5&&!a.video50?(a.sendTracking(Ct.midpoint),a.triggerEvent(wt.AdVideoMidpoint),a.video50=!0):l>=.75&&!a.video75&&(a.sendTracking(Ct.thirdQuartile),a.triggerEvent(wt.AdVideoThirdQuartile),a.video75=!0),a.adRemainingTime=Math.trunc(a.adDuration-n),a.triggerEvent(wt.AdRemainingTimeChange)}}),this.amby.addTriggerListener("ad.skip",function(){a.sendTracking(Ct.skip),a.triggerEvent(wt.AdSkipped)}),this.amby.addSubListener("ad.initMuted",function(){a.triggerEvent(wt.AdVolumeChange,a.amby.get("ad.initMuted",!0)?0:1)}),this.amby.addTriggerListener("ad.complete",function(){a.sendTracking(Ct.complete),a.triggerEvent(wt.AdVideoComplete)}),this.amby.addSubListener("skipBtn.skipable",function(){a.adSkippableState=a.amby.get("skipBtn.skipable"),a.triggerEvent(wt.AdSkippableStateChange)}),this.amby.addTriggerListener("ad.clicked",function(){a.sendTracking(Ct.click,!0),a.triggerEvent(wt.AdClickThru,{data:{url:a.clickThru}})}),this.amby.addTriggerListener("ad.impression",function(){a.sendTracking(Ct.impression,!0),a.triggerEvent(wt.AdImpression)}),this.amby.addSubListener("ad.duration",function(){a.previousDuration!==a.amby.get("ad.duration",1)&&(a.previousDuration=a.amby.get("ad.duration",1),a.adDuration=a.amby.get("ad.duration",1),a.triggerEvent(wt.AdDurationChange))}),this.amby.addSubListener("ad.viewable",function(){a.amby.get("ad.viewable")?a.amby.get("ad.status")===vi.states.STATUS_PLAYING&&(a.clearViewableTimeout(),a.viewableTimeout=window.setTimeout(function(){a.viewableImpressionSent||(a.viewableImpressionSent=!0,a.sendTracking(Ct.viewable_impression,!0))},2e3)):a.clearViewableTimeout()})},p.prototype.collapseAd=function(){},p.prototype.expandAd=function(){},p.prototype.getAdCompanions=function(){return this.adCompanions},p.prototype.getAdDuration=function(){return this.adDuration},p.prototype.getAdExpanded=function(){return this.adExpanded},p.prototype.getAdHeight=function(){return this.adHeight},p.prototype.getAdIcons=function(){return this.adIcons},p.prototype.getAdLinear=function(){return this.adLinear},p.prototype.getAdRemainingTime=function(){return this.adRemainingTime},p.prototype.getAdSkippableState=function(){return this.adSkippableState},p.prototype.getAdVolume=function(){return this.adVolume},p.prototype.getAdWidth=function(){return this.adWidth},p.prototype.handshakeVersion=function(a,n){return"2.0"},p.prototype.initAd=function(a,n,o,l,c,d){if(o===void 0&&(o="normal"),l===void 0&&(l=256),this.slot=d.slot,this.videoSlot=d.videoSlot,this.rootElement=d.rootElement,this.amby.dispatch(Qt.setAdInit(vi.states.INIT_IN_PROGRESS)),c&&c.AdParameters&&(this.parameters=JSON.parse(c.AdParameters)),this.clickThru=this.parameters.clickThru,this.domain=this.parameters.domain,this.debug=!!this.parameters.debug,this.tracking=this.parameters.tracking,this.tracking[Ct.impression]=this.parameters.impressions,this.tracking[Ct.click]=[this.parameters.clickTracking],this.tracking[Ct.error]=this.parameters.errors,this.tracking[Ct.viewable_impression]=this.parameters.viewableImpressions,this.cid=this.parameters.cid,this.parameters.protocol)this.protocol=this.parameters.protocol;else{var g=document.location.protocol;this.protocol=g.indexOf("http")===0?g:"https:"}this.clickThru&&(this.clickThru.search(/^(https?:\/\/|\/\/)/)||(this.clickThru="//".concat(this.clickThru)),this.clickThru=this.clickThru.replace(/^(https?:\/\/|\/\/)/,"".concat(this.protocol,"//"))),this.amby.dispatch(Qt.upsertAdState({size:{width:Kt.Helpers.getElemWidth(this.slot),height:Kt.Helpers.getElemHeight(this.slot)}})),this.parameters.contentVideoDurationLimit=c?.contentVideoDurationLimit,this.adWidth=this.amby.get("ad.width"),this.adHeight=this.amby.get("ad.height"),parseInt(this.parameters.skipOffset,10)&&(this.skipOffset=parseInt(this.parameters.skipOffset,10)),this.parameters.skipOffsetText&&this.parameters.skipOffsetText.indexOf("%s")>-1&&(this.skipOffsetText=this.parameters.skipOffsetText),this.parameters.duration&&(this.adDuration=this.parameters.duration),this.adLinear=this.parameters.isLinear;var y=[];this.parameters.file&&(y.push({link:this.parameters.file,img:this.parameters.image,title:this.parameters.title,mediaid:this.parameters.id,hash:this.parameters.hash,videoExt:btoa(JSON.stringify({clickUrl:this.parameters.clickThru}))}),this.amby.dispatch(Qt.upsertState({formatConfig:{staticRoot:this.domain},libConfig:{mgPlayerStylesUrlTemplate:"//{{DOMAIN}}/mgPlayer/css/mgPlayer_v2.css"}})),this.playerComponent=new cu.MgAdPlayerComponent({amby:this.amby,rootElement:this.rootElement},{container:this.slot,adPlaylist:y,quality:"original"}),this.amby.dispatch(Qt.setAdInit(vi.states.INIT_NEEDED)))},p.prototype.pauseAd=function(){this.mgDebug("PauseAd requested."),this.amby.dispatch(Qt.setTriggerToTrue("ad.actionPause"))},p.prototype.resizeAd=function(a,n,o){o===void 0&&(o="normal"),this.amby.dispatch(Qt.upsertAdState({size:{width:a,height:n},resize:!0})),this.adHeight=n,this.adWidth=a},p.prototype.resumeAd=function(){this.mgDebug("ResumeAd requested."),this.amby.dispatch(Qt.setTriggerToTrue("ad.actionPlay"))},p.prototype.setAdVolume=function(a){this.mgDebug("SetAdVolume(".concat(a,") requested.")),a===0?this.amby.dispatch(Qt.upsertAdState({mute:!0,initMuted:!0})):this.amby.dispatch(Qt.upsertAdState({unmute:!0,initMuted:!1}))},p.prototype.skipAd=function(){this.mgDebug("SkipAd requested."),this.amby.dispatch(Qt.setTriggerToTrue("ad.actionSkip")),this.sendTracking(Ct.skip),this.triggerEvent(wt.AdSkipped)},p.prototype.startAd=function(){this.mgDebug("StartAd requested."),this.amby.dispatch(Qt.setTriggerToTrue("ad.actionPlay"))},p.prototype.stopAd=function(){this.mgDebug("StopAd requested."),this.amby.dispatch(Qt.setTriggerToTrue("ad.actionStop"))},p.prototype.triggerEvent=function(a){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];this.eventListeners[a]&&this.eventListeners[a].forEach(function(l){window.setTimeout(function(){l(n)},0)})},p.prototype.subscribe=function(a,n){this.eventListeners[n]||(this.eventListeners[n]=[]),this.eventListeners[n].indexOf(a)===-1&&this.eventListeners[n].push(a)},p.prototype.unsubscribe=function(a,n){if(!!this.eventListeners[n])for(;this.eventListeners[n].indexOf(a)>-1;)this.eventListeners[n].splice(this.eventListeners[n].indexOf(a),1)},p.prototype.resetVars=function(){this.video25=!1,this.video50=!1,this.video75=!1,this.firstTimePlay=!0},p.prototype.mgDebug=function(a,n){if(n===void 0&&(n=!1),this.debug||n){var o=a;typeof o!="object"&&(o="".concat(new Date().toISOString().replace("Z","MG")," ").concat(o)),console.debug(o)}},p.prototype.sendTracking=function(a,n){var o=this;n===void 0&&(n=!1),!this.silentMode&&this.tracking[a]&&this.tracking[a].forEach(function(l){var c=l;window.setTimeout(function(){var d=Kt.Helpers.getConsentData(),g=d.gdpr?"gdpr":"";c=Kt.Helpers.replaceAll(c,"{gdpr}",String(Number(d.gdpr))),c=Kt.Helpers.replaceAll(c,"[REGULATIONS]",g),c=Kt.Helpers.replaceAll(c,"{gdpr_consent}",d.consentData),c=Kt.Helpers.replaceAll(c,"[GDPRCONSENT]",d.consentData),c=Kt.Helpers.replaceAll(c,"{cxurl}",o.amby.get("cxurl","")),n&&o.mgDebug("".concat(a," URL: ").concat(c)),Kt.Helpers.createImg(c)},0)})},p.prototype.clearViewableTimeout=function(){this.viewableTimeout&&(clearTimeout(this.viewableTimeout),this.viewableTimeout=null)},p}();Ls.Vast=du});var Bs=Ie(Ji=>{"use strict";N();V();U();j();z();$();Z();var hu=Ji&&Ji.__extends||function(){var p=function(a,n){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(o[c]=l[c])},p(a,n)};return function(a,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");p(a,n);function o(){this.constructor=a}a.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(Ji,"__esModule",{value:!0});Ji.VpaidPlayerComponent=void 0;var uu=Lo(),vt=ot(),$e=Xe(),Mt=st(),mu=za(),mt=ze(),fu=Bo(),gu=function(p){hu(a,p);function a(n,o){var l=p.call(this,n,o)||this;return l.config={},l.impressionSent=!1,l.slotId=0,l.slots=[],l.slotsToDelete=[],l.hadPreRoll=!1,l.requestsLimit=parseInt(o.requestsLimit,10)||0,l.config=n.mgRec.config,l.inited=!1,l.impressionSent=!1,l.startedSent=!1,l.parameters={},l.wrapperNumber=0,l.teaserDebug=mt.Helpers.getUrlParam("mgwteaser"),l.vpaid=!1,l.slotId=0,l.slots=[],l.slotsToDelete=[],l.vastIndex=0,l.vpaidMode=o.vpaidMode||vt.vpaidModes.INSECURE,l.hadPreRoll=!1,l.contentVideoDurationLimit=l.getContentVideoDuration(),l.teaserDebug&&(l.adSource=mt.Helpers.replaceAdSource(l.adSource,l.teaserDebug)),!l.adSource&&!l.adResponse&&(l.requestNeeded=!1,l.amby.get("ad.vastContent")?l.adResponse=l.amby.get("ad.vastContent"):l.amby.addSubListener("ad.vastContent",function(){l.adResponse=l.amby.get("ad.vastContent"),l.requestNeeded&&l.sendRequest()})),l.amby.get("formatConfig.detectUnmute",!0)&&(l.unmuteDetectComponent=new mu.UnmuteDetectComponent(n)),l.amby.addSubListener("".concat(l.name,".init"),function(){l.amby.get("".concat(l.name,".init"))===vt.states.INIT_IN_PROGRESS&&(0,Mt.mgDebug)("Ad starts search."),mt.Helpers.vitalCall(function(){return l.initPlayer()},l.amby.get("isVital",!0))}),l.amby.addTriggerListener("".concat(l.name,".actionPlay"),function(){if(l.vpaidManager){l.apiAction=!0;var c=l.amby.get("".concat(l.name,".status"));(!c||c!==vt.states.STATUS_PLAYING)&&(!c||c===vt.states.STATUS_READY?l.start():l.vpaidManager.resumeAd())}else l.playRequested=!0}),l.amby.addTriggerListener("".concat(l.name,".actionStop"),function(){l.vpaidManager&&l.vpaidManager.stopAd()}),l.amby.addTriggerListener("".concat(l.name,".actionClose"),function(){l.amby.dispatch($e.setAdVisible(!1,l.name)),l.close()}),l.amby.addTriggerListener("ad.mute",function(){l.mute()}),l.amby.addTriggerListener("player.firstFrame",function(){if(l.hadPreRoll&&l.amby.get("player.itemIndex")===0){l.hadPreRoll=!1;return}l.contentVideoDurationLimit=l.getContentVideoDuration()}),l}return a.prototype.initPlayer=function(){switch(this.amby.get("".concat(this.name,".init"))){case vt.states.INIT_NEEDED:this.amby.dispatch($e.setAdInit(vt.states.INIT_IN_PROGRESS,this.name)),this.sendRequest();break;case vt.states.INIT_RESET:this.reset(),this.amby.dispatch($e.setAdInit(vt.states.INIT_IN_PROGRESS,this.name)),this.sendRequest();break;case vt.states.INIT_STOP:this.reset();break}},a.prototype.sendRequest=function(){if(!this.adSource&&!this.adResponse){this.requestNeeded=!0;return}this.adResponse?(this.xmlDocument=mt.Helpers.parseXml(this.adResponse),this.proccessResponse()):this.sendXMLRequest(!0)},a.prototype.proccessResponse=function(){var n,o,l=mt.Helpers.getFromDocumentByTagName(this.xmlDocument,"VASTAdTagURI");if(l&&this.wrapperNumber<4){this.wrapperNumber+=1,this.getTracking(),this.sendXMLRequest(!0,l);return}this.mediaUrl=mt.Helpers.getFromDocumentByTagName(this.xmlDocument,"MediaFile"),this.adParameters=mt.Helpers.getFromDocumentByTagName(this.xmlDocument,"AdParameters");try{this.parameters=mt.Helpers.mergeObjects(this.parameters,JSON.parse(this.adParameters||"{}"))}catch{this.parameters.original=this.adParameters}this.parameters.skipOffset=this.skipOffset,this.amby.dispatch($e.upsertState((n={},n[this.name]={responseXml:this.xmlDocument.documentElement.outerHTML,responseHash:mt.Helpers.cyrb53(this.xmlDocument.documentElement.outerHTML),responded:!0},n))),this.amby.dispatch($e.upsertState({vastXml:this.xmlDocument.documentElement.outerHTML}));var c=this.xmlDocument.querySelector("MediaFile");if(!c){var d=this.xmlDocument.querySelector("Ad");d?this.amby.dispatch($e.setTriggerToTrue("".concat(this.name,".adbidinvalid"))):this.amby.dispatch($e.setTriggerToTrue("".concat(this.name,".adbidempty")))}this.amby.dispatch($e.setTriggerToTrue("".concat(this.name,".adbid"))),this.parameters.clickThru=mt.Helpers.getFromDocumentByTagName(this.xmlDocument,"ClickThrough"),this.parameters.clickTracking=mt.Helpers.getFromDocumentByTagName(this.xmlDocument,"ClickTracking"),this.getTracking(),c&&c.getAttribute("type")&&c.getAttribute("type").match(/video\/(mp4|webm)/)&&(this.parameters.cid=this.amby.get("widgetId"),this.parameters.file=this.mediaUrl,this.parameters.image="",this.parameters.title=mt.Helpers.getFromDocumentByTagName(this.xmlDocument,"AdTitle"),this.parameters.protocol=this.amby.get("protocol"),this.parameters.domain=this.amby.get("formatConfig.staticRoot")||"video-native.".concat(this.amby.get("subnetDomain","")),this.parameters.isLinear=!!this.xmlDocument.querySelector("Creative > Linear"),this.parameters.isLinear&&!this.parameters.skipOffset&&(this.parameters.skipOffset=mt.Helpers.parseTime(this.xmlDocument.querySelector("Creative > Linear").getAttribute("skipoffset"))),this.amby.dispatch($e.upsertAdState({adClickUrl:this.parameters.clickThru})),this.parameters.duration=mt.Helpers.parseTime(mt.Helpers.getFromDocumentByTagName(this.xmlDocument,"Duration"))),(0,Mt.getDebugFlag)()&&(this.parameters.debug=(0,Mt.getDebugFlag)()),this.xmlRequestTimeoutTime&&(this.parameters.xmlRequestTimeout=this.xmlRequestTimeoutTime),this.parameters.noTracking=!0,this.parameters.downtimeDetector=this.amby.get("downtimeDetector",!1),this.parameters.downtimeTimeout=this.amby.get("downtimeTimeout",!1),this.parameters.startAdTimeout=this.amby.get("startAdTimeout",!1),this.parameters.cxurl=this.amby.get("cxurl",""),this.parameters.formatName=this.amby.get("formatConfig.name"),this.parameters.enableDurationBalancer=this.amby.get("formatConfig.enableDurationBalancer",!1),this.parameters.curAdPosition=this.amby.get("ad.curAdPosition"),this.parameters.sendDetailedEvents=(o=this.config.sendDetailedEvents)!==null&&o!==void 0?o:!1,this.parameters.forceMute=this.amby.get("formatConfig.forceMute",!1),this.adParameters=JSON.stringify(this.parameters),this.mediaUrl.match(/\.(mp4|webm)/i)?this.initVastPlayer():this.mediaUrl!==""?(this.vpaid=!0,this.vpaidMode===vt.vpaidModes.INSECURE?this.initScript():this.initScriptInFrame()):((0,Mt.mgDebug)("#".concat(this.name,": VPAID ERROR: No MediaFile found. [").concat(this.adSource,"]")),this.passback())},a.prototype.initVastPlayer=function(){this.createSlot(),this.playerDiv.appendChild(this.slot),this.vastIndex+=1,this.vpaidManager=new fu.Vast("".concat(this.playerDivId,"_").concat(this.vastIndex)),this.subscribeEvents(),this.slots.push({slot:this.slot}),(0,Mt.mgDebug)("vpaidManager.initAd"),this.vpaidManager.initAd(this.amby.get("ad.size.width",300),this.amby.get("ad.size.height",169),"normal",this.desiredBitrate,{AdParameters:this.adParameters,contentVideoDurationLimit:this.contentVideoDurationLimit},{slot:this.slot,videoSlot:this.videoSlot,rootElement:this.rootElement})},a.prototype.initScript=function(n){var o=this;n===void 0&&(n=document),this.createSlot();var l=n.body;n===document?this.playerDiv.appendChild(this.slot):l.appendChild(this.slot),this.playerDiv.appendChild(this.slot),this.scriptFile=n.createElement("script"),this.scriptFile.type="text/javascript",this.scriptFile.id="scriptFile".concat(this.slotId),this.scriptFile.src=encodeURI(this.mediaUrl),this.slots.push({slot:this.slot,scriptFile:this.scriptFile}),this.scriptFile.addEventListener("load",function(){if(o.vpaidManager=window.getVPAIDAd(),parseFloat(o.vpaidManager.handshakeVersion("2.0",""))>=2){o.subscribeEvents();var c=JSON.parse(o.adParameters);o.amby.dispatch($e.setTriggerToTrue("".concat(o.name,".vpaidinit"))),o.vpaidManager.initAd(o.amby.get("ad.size.width",640),o.amby.get("ad.size.height",480),"normal",o.desiredBitrate,{AdParameters:c.original?c.original:o.adParameters,contentVideoDurationLimit:o.contentVideoDurationLimit},{slot:o.slot,videoSlot:o.videoSlot,rootElement:o.rootElement})}}),l.appendChild(this.scriptFile),this.amby.dispatch($e.setTriggerToTrue("widget.rawinit"))},a.prototype.initScriptInFrame=function(){var n=this;this.iFrame=document.createElement("iframe"),this.iFrame.width="100%",this.iFrame.height="100%",this.iFrame.style.padding="0",this.iFrame.style.margin="0",this.iFrame.style.border="0",this.iFrame.style.position="relative",this.iFrame.addEventListener("load",function(){var o=n.iFrame.contentWindow.document.body;o.appendChild(n.slot),o.style.position="relative",o.style.margin="0",o.style.padding="0",o.style.width="100%",o.style.height="100%",o.style.overflow="hidden",n.initScript(n.iFrame.contentWindow.document)}),this.playerDiv.appendChild(this.iFrame)},a.prototype.subscribeEvents=function(){var n=this;this.vpaidManager.subscribe(function(){var o,l,c=n.amby.get("".concat(n.name,".status"));c!==vt.states.STATUS_PLAYING&&(mt.Helpers.vitalCall(function(){var d;n.amby.dispatch($e.setAdInit(vt.states.INIT_DONE)),n.amby.dispatch($e.setAdStatus(vt.states.STATUS_READY,n.name)),n.amby.dispatch($e.upsertState((d={},d[n.name]={adloaded:!0},d))),n.amby.dispatch($e.upsertState({ad:{loaded:!0}}))},n.amby.get("isVital",!0)),n.vpaidManager.getAdDuration&&n.vpaidManager.getAdDuration()&&n.amby.dispatch($e.upsertState((o={},o[n.name]={position:0,duration:n.vpaidManager.getAdDuration()},o))),n.amby.dispatch($e.upsertState((l={},l[n.name]={isLinear:n.vpaidManager.getAdLinear()},l))),n.playRequested&&n.vpaidManager&&(n.start(),n.playRequested=!1))},this.events.AdLoaded),this.vpaidManager.subscribe(function(o){n.onAdError(o)},this.events.AdError),this.vpaidManager.subscribe(function(){(0,Mt.mgDebug)("#".concat(n.name,": VPAID Manager: get AdStarted.")),n.vpaidManager&&(n.lastPosition=Math.trunc(n.vpaidManager.getAdDuration()-n.vpaidManager.getAdRemainingTime())),n.createPositionTimeout()},this.events.AdStarted),this.vpaidManager.subscribe(function(){n.amby.dispatch($e.setAdStatus(vt.states.STATUS_PAUSED,n.name))},this.events.AdPaused),this.vpaidManager.subscribe(function(){n.amby.dispatch($e.setAdStatus(vt.states.STATUS_PLAYING,n.name))},this.events.AdPlaying),this.vpaidManager.subscribe(function(){n.amby.dispatch($e.setAdStatus(vt.states.STATUS_PLAYING,n.name))},this.events.AdVideoStart),this.vpaidManager.subscribe(function(o){o&&o[0]&&(o[0].showHash&&n.amby.dispatch($e.upsertAdState({adHash:o[0].showHash})),o[0].poc&&n.amby.dispatch($e.upsertAdState({poc:o[0].poc}))),n.amby.get("ad.adHash")&&!(o&&o[0]&&o[0].eventFromNativeBackfill)&&n.amby.dispatch($e.setTriggerToTrue("ad.impression")),n.amby.dispatch($e.upsertState({skipBtn:{skipable:!1}})),setTimeout(function(){n.amby.dispatch($e.upsertState({ad:{poc:null,adHash:null}}))}),n.amby.get("ad.curAdPosition")==="pre"&&(n.hadPreRoll=!0),(0,Mt.mgDebug)("contentVideoDurationLimit: ".concat(n.contentVideoDurationLimit)),n.contentVideoDurationLimit-=n.vpaidManager.getAdDuration(),n.amby.dispatch($e.upsertAdState({currentImpressions:n.amby.get("ad.currentImpressions",0)+1}))},this.events.AdImpression),this.vpaidManager.subscribe(function(){var o;n.amby.dispatch($e.upsertState((o={},o[n.name]={complete:!0},o))),n.amby.dispatch($e.upsertAdState({videoEnded:!0}))},this.events.AdVideoComplete),this.vpaidManager.subscribe(function(){window.setTimeout(function(){n.destroy(),n.amby.dispatch($e.setAdStatus(vt.states.STATUS_STOPPED,n.name))},500)},this.events.AdStopped)},a.prototype.start=function(){var n=this;(this.amby.get("ad.initMuted",!0)||mt.Helpers.iOSversion())&&this.mute(),mt.Helpers.vitalCall(function(){mt.Helpers.iOSversion()&&n.amby.dispatch($e.upsertState({player:{muted:!0}}))},this.amby.get("isVital",!0)),this.vpaidManager.startAd()},a.prototype.reset=function(){(0,Mt.mgDebug)("VPAID Player: Deleting AD player."),this.close(),this.destroy(),this.parameters={},this.requestsNumber=0},a.prototype.mute=function(){var n=this;mt.Helpers.vitalCall(function(){n.vpaidManager&&((0,Mt.mgDebug)("VPAID Player: AD mute request sent."),n.vpaidManager.setAdVolume(0),n.amby.dispatch($e.setAdMuted(!0)),n.amby.dispatch($e.upsertState({muteBtn:{muted:!0}})))},this.amby.get("isVital",!0))},a.prototype.unmute=function(){this.vpaidManager&&((0,Mt.mgDebug)("VPAID Player: AD unmute request sent."),this.vpaidManager.setAdVolume(1),this.amby.dispatch($e.setAdMuted(!1)),this.amby.dispatch($e.upsertState({muteBtn:{muted:!1}})))},a.prototype.close=function(){this.vpaidManager&&this.vpaidManager.stopAd&&this.vpaidManager.stopAd()},a.prototype.clearSlots=function(){for(;this.slotsToDelete.length>0;){var n=this.slotsToDelete.shift();n.slot.parentNode.removeChild(n.slot),n.scriptFile&&n.scriptFile.parentNode.removeChild(n.scriptFile)}},a.prototype.destroy=function(){(0,Mt.mgDebug)("Delete slots"),this.slotsToDelete=this.slots},a.prototype.onAdError=function(n){var o=this;n&&n.getError&&typeof n.getError=="function"?(0,Mt.mgDebug)(n.getError()):(0,Mt.mgDebug)(JSON.stringify(n)),this.requestsLimit>this.requestsNumber?(this.requestsNumber+=1,window.setTimeout(function(){o.destroy(),o.sendRequest()},500)):(this.passback(),this.amby.dispatch($e.setAdStatus(vt.states.STATUS_ERROR,this.name)))},a.prototype.replaceMacros=function(n){return this.getPreparedAdSourceSizes(n.replace("{uuid}",this.uuid))},a.prototype.createSlot=function(){this.clearSlots(),this.slotId+=1,this.slot=document.createElement("div"),this.slot.id="slot".concat(this.slotId),this.slot.style.position="relative",this.slot.style.top="0",this.slot.style.left="0",this.slot.style.width="100%",this.slot.style.height="100%",this.slot.style.padding="0",this.slot.style.margin="0",this.videoSlot=document.createElement("video"),this.videoSlot.setAttribute("muted","true"),this.videoSlot.setAttribute("playsinline","true"),this.videoSlot.setAttribute("webkit-playsinline","true"),this.videoSlot.style.width="100%",this.videoSlot.style.height="100%",this.videoSlot.style.zIndex="-1",this.videoSlot.style.position="absolute",this.videoSlot.style.top="0",this.videoSlot.style.left="0",this.slot.appendChild(this.videoSlot)},a.prototype.sendXMLRequest=function(n,o){var l=this;n===void 0&&(n=!1),o===void 0&&(o=null);var c=new XMLHttpRequest,d=o||this.adSource;c.open("GET",this.replaceMacros(d)),c.responseType="document",c.withCredentials=n,c.timeout=6e4,c.addEventListener("load",function(){c.status!==200?n?l.sendXMLRequest(!1,d):(l.passback(),l.amby.dispatch($e.setAdStatus(vt.states.STATUS_ERROR,l.name))):(l.xmlDocument=c.response,l.proccessResponse())}),c.addEventListener("error",function(){n?l.sendXMLRequest(!1,d):l.passback()}),c.addEventListener("timeout",function(){l.passback(),l.amby.dispatch($e.setAdStatus(vt.states.STATUS_ERROR,l.name))}),c.send()},a.prototype.passback=function(){if(this.amby.get("passback",!1)){this.amby.dispatch($e.setTriggerToTrue("ad.passback"));try{mt.Helpers.createScriptAndRun("Passback_".concat(this.amby.get("mgVideoIndex")),this.amby.get("passback",!1))}catch(n){(0,Mt.mgDebug)(n)}}},a.prototype.getContentVideoDuration=function(){var n=this.amby.get("player.duration",0),o=this.amby.get("playlist",[]);if(!n&&o.length){var l=o[0],c=JSON.parse(atob(l.videoExt));n=c.duration}return n},a}(uu.VpaidPlayerBase);Ji.VpaidPlayerComponent=gu});var Rs=Ie(Os=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty(Os,"__esModule",{value:!0});Os.ExcoComponent=void 0;var si=ot(),oi=Xe(),yu=st(),vu=function(){function p(a,n){var o=this;this.amby=a.amby;var l=n.name,c=l===void 0?"ad":l,d=n.container,g=n.adSource;this.rootElement=a.rootElement,this.name=c,this.playerContainerDiv=d,this.adSource=g,this.playerId=this.playerContainerDiv.id;var y=document.location.protocol;this.protocol=y.indexOf("http")===0?y:"https:",(0,yu.mgDebug)("ExCoComponent initializing."),this.amby.addSubListener("".concat(this.name,".init"),function(){o.onPlayerInit()})}return p.prototype.onPlayerInit=function(){var a=this;switch(this.amby.get("".concat(this.name,".init"))){case si.states.INIT_NEEDED:this.amby.dispatch(oi.setAdInit(si.states.INIT_IN_PROGRESS,this.name)),setTimeout(function(){return a.initPlayer()},0);break;case si.states.INIT_RESET:this.amby.dispatch(oi.setAdInit(si.states.INIT_IN_PROGRESS,this.name)),this.reset(),this.initPlayer();break;case si.states.INIT_STOP:this.reset();break}},p.prototype.initPlayer=function(){if(this.amby.dispatch(oi.setAdStatus(si.states.STATUS_INIT,this.name)),!this.script){var a=document.createElement("div");a.id=this.adSource,this.playerContainerDiv.appendChild(a),this.script=document.createElement("script"),this.script.setAttribute("type","text/javascript"),this.script.className="exco-player",this.script.src="".concat(this.protocol,"//player.ex.co/player/").concat(this.adSource);var n=document.getElementsByName("script");n&&n.length>0?n[0].parentNode.insertBefore(this.script,n[0]):document.head.insertBefore(this.script,document.head.firstChild),this.addPlayerListeners()}},p.prototype.addPlayerListeners=function(){var a=this;window.addEventListener("message",function(n){var o;if(n.data.type==="exco-event")switch(n.data.name){case"player-load":a.amby.dispatch(oi.upsertState((o={},o[a.name]={adTag:n.data.metadata.playerId},o))),a.amby.dispatch(oi.setAdInit(si.states.INIT_DONE,a.name)),a.amby.dispatch(oi.setAdStatus(si.states.STATUS_READY,a.name)),a.amby.get("ad.visible",!1)||a.amby.dispatch(oi.setAdStatus(si.states.STATUS_PLAYING,a.name));break;case"ad-impression":break;case"ad-completed":break;case"cta-clicked":break;case"player-closed":break;case"player-muted":break;case"player-unmuted":break;case"player-playing":a.amby.dispatch(oi.setAdStatus(si.states.STATUS_PLAYING,a.name));break;case"player-paused":a.amby.dispatch(oi.setAdStatus(si.states.STATUS_PAUSED,a.name));break}})},p.prototype.reset=function(){this.amby.dispatch(oi.upsertAdState({adTag:null,adHash:null}))},p}();Os.ExcoComponent=vu});var Oa=Ie(Ki=>{"use strict";N();V();U();j();z();$();Z();var bu=Ki&&Ki.__extends||function(){var p=function(a,n){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(o[c]=l[c])},p(a,n)};return function(a,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");p(a,n);function o(){this.constructor=a}a.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(Ki,"__esModule",{value:!0});Ki.AniviewDirectComponent=void 0;var ri=ot(),li=Xe(),xu=st(),wu=yr(),Tu=_a(),Su=za(),_u=Ya(),Cu=function(p){bu(a,p);function a(n,o){var l=p.call(this,n,o)||this;l.amby=n.amby,l.rootElement=n.rootElement,l.widgetBlock=document.querySelector('[id*="ScriptRootC'.concat(l.amby.get("widgetId"),'"]'));var c=o.name,d=c===void 0?"ad":c,g=o.container,y=o.publisherId,b=o.tagId;l.rootElement=n.rootElement,l.name=d,l.playerContainerDiv=g,l.publisherId=y,l.tagId=b,l.playerId=l.playerContainerDiv.id,l.addedNodes=[];var _=document.location.protocol;return l.protocol=_.indexOf("http")===0?_:"https:",(0,xu.mgDebug)("AniViewDirectComponent initializing."),l.amby.get("formatConfig.forceMute",!1)&&(l.noSoundComponent=new Tu.NoSoundComponent(l.amby,{playerDiv:l.playerContainerDiv,adName:d})),l.amby.get("formatConfig.hideConsole",!1)&&window.location.href.indexOf("mgwdebug")===-1&&(l.proxyConsoleComponent=new _u.ProxyConsoleComponent(l.amby,{playerDiv:l.playerContainerDiv})),l.amby.get("formatConfig.detectUnmute",!0)&&(l.unmuteDetectComponent=new Su.UnmuteDetectComponent(n)),l.amby.addSubListener("".concat(l.name,".init"),function(){l.onPlayerInit()}),l}return a.prototype.onPlayerInit=function(){var n=this;switch(this.amby.get("".concat(this.name,".init"))){case ri.states.INIT_NEEDED:this.amby.dispatch(li.setAdInit(ri.states.INIT_IN_PROGRESS,this.name)),setTimeout(function(){return n.initPlayer()},0);break;case ri.states.INIT_RESET:this.amby.dispatch(li.setAdInit(ri.states.INIT_IN_PROGRESS,this.name)),this.initPlayer();break;case ri.states.INIT_STOP:break}},a.prototype.initPlayer=function(){var n=this;if(!this.amby.get("cappingData")){this.initRequested=!0,this.cappingDataListener||(this.amby.addSubListener("cappingData",function(){n.amby.get("cappingData")&&n.initRequested&&(n.initRequested=!1,n.initPlayer())}),this.cappingDataListener=!0);return}this.script||(window["av_getPosition_".concat(this.tagId,"_").concat(this.amby.get("widgetId"))]||(window["av_getPosition_".concat(this.tagId,"_").concat(this.amby.get("widgetId"))]=function(o){return o.posType="in",n.playerContainerDiv}),this.script=document.createElement("script"),this.script.id="AV".concat(this.tagId),this.script.dataset.positionApi="av_getPosition_".concat(this.tagId,"_").concat(this.amby.get("widgetId")),this.script.async=!0,this.script.setAttribute("type","text/javascript"),this.script.src=this.getScriptUrl(),this.script.addEventListener("load",function(){n.onPlayerLoad()}),this.widgetBlock.parentNode.appendChild(this.script),this.name==="ad"&&(this.observer=this.getObserver(function(o){n.waitForPlaying(o)}),this.observer.observe(this.playerContainerDiv,{childList:!0,subtree:!0})),this.isInDOM()||this.amby.dispatch(li.setTriggerToTrue("widget.newBox")))},a.prototype.onPlayerLoad=function(){var n=this;this.amby.dispatch(li.setAdInit(ri.states.INIT_DONE,this.name)),this.amby.dispatch(li.setAdStatus(ri.states.STATUS_READY,this.name)),this.name!=="ad"&&this.amby.dispatch(li.setAdStatus(ri.states.STATUS_PLAYING,this.name)),setTimeout(function(){if(n.playerContainer=n.rootElement.querySelector("div.AV".concat(n.tagId)),!n.playerContainer&&(n.playerContainer=document.querySelector("div.AV".concat(n.tagId)),n.playerContainer)){n.playerGUI=n.playerContainer.querySelector(".avp-p-gui");var o=n.findCss();o.forEach(function(l){n.playerContainerDiv.appendChild(l.cloneNode(!0)),n.playerContainerDiv.appendChild(n.playerContainer)})}n.amby.get("formatConfig.forceMute",!1)&&(n.soundDirectButton=n.playerContainerDiv.querySelector("div.avp-p-cn-s.avp-btn"),n.soundDirectButton&&n.soundDirectButton.addEventListener("click",function(){n.amby.dispatch(li.upsertAdState({initMuted:!n.amby.get("ad.initMuted",!0)}))})),n.directCloseButton=n.playerContainerDiv.querySelector("avp-close-button.avp-close-button"),n.directCloseButton&&n.directCloseButton.addEventListener("click",function(){n.amby.dispatch(li.setAdStatus(ri.states.STATUS_STOPPED))})},1e3),this.playerContainerDiv.addEventListener("transitionend",function(){var o=n.rootElement.querySelector("#aniBox>div");o||(o=document.querySelector("#aniBox>div")),o&&(o.style.height="".concat(n.amby.get("ad.size.height"),"px"))}),this.amby.addSubListener("player.isSticky",function(){var o=n.rootElement.querySelector("#aniBox>div");o||(o=document.querySelector("#aniBox>div")),n.amby.get("player.isSticky",!1)?setTimeout(function(){o&&(o.style.height="".concat(n.amby.get("ad.size.height"),"px"))},50):setTimeout(function(){o&&o.style.removeProperty("height")},50)})},a.prototype.getObserver=function(n){var o=this;return new MutationObserver(function(l){l.forEach(function(c){if(c.type==="childList"&&c.addedNodes.length){var d=Array.prototype.slice.call(c.addedNodes);o.addedNodes.push(d),n(d)}})})},a.prototype.waitForPlaying=function(n){var o=this;n.forEach(function(l){if(l.tagName==="VIDEO")l.addEventListener("playing",function(){o.amby.dispatch(li.setAdStatus(ri.states.STATUS_PLAYING,o.name)),o.observer.disconnect()});else if(l.querySelectorAll&&l.querySelectorAll("video"))for(var c=l.querySelectorAll("video"),d=0;d<c.length;d++)c[d].addEventListener("playing",function(){o.amby.dispatch(li.setAdStatus(ri.states.STATUS_PLAYING,o.name)),o.observer.disconnect()})})},a.prototype.isInDOM=function(){for(var n=this.playerContainerDiv;n!==document&&n.parentNode;)n=n.parentNode;return n===document},a.prototype.findCss=function(){if(!this.playerGUI)return[];var n=[],o=document.styleSheets;this.playerGUI.matches=this.playerGUI.matches||this.playerGUI.webkitMatchesSelector||this.playerGUI.mozMatchesSelector||this.playerGUI.msMatchesSelector||this.playerGUI.oMatchesSelector;for(var l=0;l<o.length;l++)if(o[l].ownerNode.tagName==="STYLE"){for(var c=o[l].rules||o[l].cssRules,d=0;d<c.length;d++)if(this.playerGUI.matches(c[d].selectorText)){n.push(o[l].ownerNode);break}}return n},a.prototype.getScriptUrl=function(){return"".concat(this.protocol,"//tg1.aniview.com/api/adserver/spt?AV_TAGID=")+"".concat(this.tagId,"&AV_PUBLISHERID=").concat(this.publisherId,"&").concat(this.getRef1())},a}(wu.AniviewBase);Ki.AniviewDirectComponent=Cu});var Ms=Ie(Qi=>{"use strict";N();V();U();j();z();$();Z();var ku=Qi&&Qi.__extends||function(){var p=function(a,n){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(o[c]=l[c])},p(a,n)};return function(a,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");p(a,n);function o(){this.constructor=a}a.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(Qi,"__esModule",{value:!0});Qi.SmartBackfillComponent=void 0;var Du=Xe(),Iu=Ta(),Eu=ze(),Pu=function(p){ku(a,p);function a(n){var o=p.call(this)||this;o.widget=n,o.amby=n.amby,o.rejectedSent=!1,o.observers=[],o.amby.addSubListener("ad.startRequested",function(){o.amby.get("ad.startRequested",!1)&&o.observers.forEach(function(c){c.disconnect()})});var l=o.getMediaElements(document.body);return l&&l.forEach(function(c){o.addListener(c)}),setTimeout(function(){o.checkForIframes(document.body),setTimeout(function(){o.observedDocuments.push(document),o.observers.push(o.getObserver(document))})}),o}return a.prototype.observerAction=function(n){var o=this;if(n instanceof HTMLElement&&((n.tagName==="VIDEO"||n.tagName==="AUDIO")&&this.addListener(n),n.querySelectorAll)){var l=this.getMediaElements(n);l&&l.forEach(function(c){o.addListener(c)})}setTimeout(function(){o.checkForIframes(n.ownerDocument)})},a.prototype.checkIframeAction=function(n){var o=this,l=Eu.Helpers.checkIframe(n);if(l&&this.observedDocuments.indexOf(l)===-1){this.observedDocuments.push(l);var c=this.getMediaElements(l);c&&c.forEach(function(g){o.addListener(g)});var d=l.getRootNode();this.observers.push(this.getObserver(d,n.contentWindow)),setTimeout(function(){o.checkForIframes(l)})}},a.prototype.addListener=function(n){var o=this;!this.inMgPlayer(n)&&this.listenedElems.indexOf(n)===-1&&(this.listenedElems.push(n),this.checkMedia(),n.addEventListener("playing",function(){o.checkMedia()}),n.addEventListener("pause",function(){o.checkMedia()}))},a.prototype.checkMedia=function(){this.amby.dispatch(Du.upsertAdState({rejecting:!!this.isAnyPlayerPlaying()}))},a.prototype.isAnyPlayerPlaying=function(){return this.listenedElems.reduce(function(n,o){return a.isPlaying(o)||n},!1)},a.isPlaying=function(n){return n.readyState>2&&n.paused===!1&&(n.currentSrc!==""||n.src!=="")},a}(Iu.DomManagerComponent);Qi.SmartBackfillComponent=Pu});var Ws=Ie(ea=>{"use strict";N();V();U();j();z();$();Z();var Au=ea&&ea.__extends||function(){var p=function(a,n){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(o[c]=l[c])},p(a,n)};return function(a,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");p(a,n);function o(){this.constructor=a}a.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(ea,"__esModule",{value:!0});ea.TremorComponent=void 0;var Lu=Oa(),Bu=function(p){Au(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.getScriptUrl=function(){return"".concat(this.protocol,"//tg1.unrulyvideo.com/api/adserver/spt?AV_TAGID=")+"".concat(this.tagId,"&AV_PUBLISHERID=").concat(this.publisherId,"&").concat(this.getRef1())},a}(Lu.AniviewDirectComponent);ea.TremorComponent=Bu});var Ns=Ie(Hs=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty(Hs,"__esModule",{value:!0});Hs.CustomEngine=void 0;var ei=ot(),bi=Xe(),Oo=st(),Ou=ze(),Ru=function(){function p(a,n){var o=this;this.amby=a.amby;var l=n.name,c=l===void 0?"ad":l,d=n.container,g=n.adSource;this.adSource=g,this.name=c,this.playerContainerDiv=d,this.addedNodes=[],this.amby.addSubListener("".concat(this.name,".init"),function(){o.onPlayerInit()})}return p.prototype.onPlayerInit=function(){var a=this;switch(this.amby.get("".concat(this.name,".init"))){case ei.states.INIT_NEEDED:this.amby.dispatch(bi.setAdInit(ei.states.INIT_IN_PROGRESS,this.name)),setTimeout(function(){return a.initPlayer()},0);break;case ei.states.INIT_RESET:this.amby.dispatch(bi.setAdInit(ei.states.INIT_IN_PROGRESS,this.name)),this.initPlayer();break;case ei.states.INIT_STOP:break}},p.prototype.initPlayer=function(){var a=this;if(Ou.Helpers.addClass(this.playerContainerDiv.parentElement,"noanim"),this.adSource){this.adSource=decodeURIComponent(this.adSource).replace(/\+/g," "),this.script=document.createElement("script");try{var n=this.adSource.match(/render *\(['|"](\S+)['|"]\)/),o=n[1];this.script.id=o}catch(l){(0,Oo.mgDebug)("Unsuccessful parsing id tag: ".concat(l))}this.script.async=!0,this.script.setAttribute("type","text/javascript"),this.script.innerHTML=this.adSource,this.playerContainerDiv.appendChild(this.script),(0,Oo.mgDebug)("onPlayerLoad load"),this.onPlayerLoad()}this.name==="ad"&&(this.observer=this.getObserver(function(l){a.waitForPlaying(l)}),this.observer.observe(this.playerContainerDiv,{childList:!0,subtree:!0}))},p.prototype.waitForPlaying=function(a){var n=this;a.forEach(function(o){if(o.tagName==="VIDEO")o.addEventListener("playing",function(){n.amby.dispatch(bi.setAdStatus(ei.states.STATUS_PLAYING,n.name)),n.observer.disconnect()});else if(o.querySelectorAll&&o.querySelectorAll("video")){for(var l=o.querySelectorAll("video"),c=0;c<l.length;c++)l[c].addEventListener("playing",function(){n.amby.dispatch(bi.setAdStatus(ei.states.STATUS_PLAYING,n.name)),n.observer.disconnect()});for(var d=o.querySelectorAll("img"),c=0;c<d.length;c++)d[c].complete?(n.amby.dispatch(bi.setAdStatus(ei.states.STATUS_PLAYING,n.name)),n.observer.disconnect()):d[c].addEventListener("load",function(){n.amby.dispatch(bi.setAdStatus(ei.states.STATUS_PLAYING,n.name)),n.observer.disconnect()})}})},p.prototype.getObserver=function(a){var n=this;return new MutationObserver(function(o){o.forEach(function(l){if(l.type==="childList"&&l.addedNodes.length){var c=Array.prototype.slice.call(l.addedNodes);n.addedNodes.push(c),a(c)}})})},p.prototype.onPlayerLoad=function(){this.amby.dispatch(bi.setAdInit(ei.states.INIT_DONE,this.name)),this.amby.dispatch(bi.setAdStatus(ei.states.STATUS_READY,this.name)),this.name!=="ad"&&this.amby.dispatch(bi.setAdStatus(ei.states.STATUS_PLAYING,this.name))},p}();Hs.CustomEngine=Ru});var Ho=Ie(ta=>{"use strict";N();V();U();j();z();$();Z();var Mu=ta&&ta.__extends||function(){var p=function(a,n){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(o[c]=l[c])},p(a,n)};return function(a,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");p(a,n);function o(){this.constructor=a}a.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(ta,"__esModule",{value:!0});ta.Outstream=void 0;var pi=ot(),Fe=Xe(),Wu=Xa(),Hu=Qa(),ft=ze(),Nu=ts(),Ra=st(),Ro=ka(),Vu=Ia(),Gu=ds(),qu=us(),Uu=wa(),ju=fs(),Mo=bs(),Fu=Ea(),zu=Cs(),$u=Is(),Wo=Ba(),Yu=Bs(),Zu=Rs(),Xu=Oa(),Ju=Ms(),Ku=Ws(),Qu=Ns(),_r="visibleNotPause",Cr="visibleOnly",em=function(p){Mu(a,p);function a(n){var o=p.call(this,n)||this;return o.videoSensorComponent=new Gu.VideoSensorComponent(n),o.styleComponent=new ju.StyleComponent(o.widget),o.styleComponent.styleChecking(function(){o.onStyleLoad()}),o}return a.prototype.onStyleLoad=function(){var n=this;this.amby.get("visibilityKpi")&&this.amby.dispatch(Fe.upsertState({widget:{renderTime:Date.now()}})),this.autoStart=this.amby.get("autoStart"),this.slider=this.amby.get("formatConfig.slider",!1),this.sticky=this.amby.get("formatConfig.sticky",!1),this.sliderSize=this.amby.get("formatConfig.sliderSize","m").toLowerCase(),this.sliderAlign=this.amby.get("formatConfig.sliderAlign","right").toLowerCase(),this.reInit=parseInt(this.amby.get("formatConfig.reInit"),10),this.widgetComponent=new Hu.WidgetComponent(this.widget,function(){n.onTeasersLoaded()})},a.prototype.onTeasersLoaded=function(){var n=this;this.amby.get("widget.allImagesLoaded",!1)?this.deferredInitPlayer():this.amby.addSubListener(["widget","allImagesLoaded"],function(){n.amby.get("widget.allImagesLoaded")&&n.deferredInitPlayer()})},a.prototype.deferredInitPlayer=function(){var n=this;(typeof this.formatConfig.startDelay!="number"||this.slider&&this.startScroll)&&(this.formatConfig.startDelay=0),setTimeout(function(){n.initPlayer()},this.formatConfig.startDelay*1e3)},a.prototype.initPlayer=function(){var n=this,o;if(this.formatConfig.targetElemSelector&&(this.targetedElem=document.querySelector(this.formatConfig.targetElemSelector)||this.rootElement.querySelector(this.formatConfig.targetElemSelector)),this.blockMain=this.widget.block.querySelector(".mgbox"),this.blockMain||(this.blockMain=this.widget.block,this.blockMain.style.position="relative"),this.targetedElem&&!this.targetedElem.isEqualNode(this.blockMain)?this.adContainerComponent=new Ro.AdContainerComponent(this.amby,document.body):this.adContainerComponent=new Ro.AdContainerComponent(this.amby,this.blockMain),this.calcStartOnScroll(this.adContainerComponent.playerContainer),this.amby.addTriggerListener("widget.newBox",function(){n.blockMain=n.widget.block.querySelector(".mgbox"),n.blockMain||(n.blockMain=n.widget.block,n.blockMain.style.position="relative"),(0,Ra.mgDebug)("New box found."),(0,Ra.mgDebug)(n.blockMain),n.adContainerComponent.appendPlayerContainer(n.blockMain),n.observer&&n.observer.disconnect(),n.observer=ft.Helpers.onVisible(n.adContainerComponent.playerContainer,function(d){n.onContainerVisible(d)},n.amby.get("formatConfig.visiblePart",.9),n.amby.get("formatConfig.hiddenPart",.5)),n.calcStartOnScroll(n.adContainerComponent.playerContainer),setTimeout(function(){n.placementChanged=!0,n.updatePosition()},50)}),this.moveToBodyComponent=new qu.MoveToBodyComponent(this.widgetId,this.adContainerComponent.playerContainer),this.sticky||this.slider){switch(this.amby.get("formatConfig.sliderSize","m").toLowerCase()){case"s":this.stickyClass="small ";break;case"m":this.stickyClass="medium ";break;case"l":this.stickyClass="large ";break}this.stickyClass+=this.amby.get("formatConfig.sliderAlign","right"),this.adContainerComponent.playerContainer.addEventListener("animationend",function(){n.updatePosition()}),this.adContainerComponent.playerContainer.addEventListener("transitionend",function(){n.updatePosition()})}if(this.slider&&(this.stickPlayer(),this.amby.get("formatConfig.moveToBody",!1)&&this.moveToBodyComponent.attachBody(),this.amby.get("formatConfig.logo",!1)&&(this.logoComponent=new Mo.LogoComponent(this.amby,this.adContainerComponent.playerContainer,!1))),this.sticky&&this.amby.get("formatConfig.logo",!1)&&(this.logoComponent=new Mo.LogoComponent(this.amby,this.adContainerComponent.playerContainer)),this.updatePosition(),window.addEventListener("resize",function(){n.updatePosition()}),this.amby.get("formatConfig.focusSound",!1)&&(this.amby.dispatch(Fe.upsertAdState({isUnmuteOnHover:!0})),this.adContainerComponent.playerDiv.addEventListener("mouseenter",function(){n.amby.dispatch(Fe.upsertAdState({mouseOver:!0}))}),this.adContainerComponent.playerDiv.addEventListener("mouseleave",function(){n.amby.dispatch(Fe.upsertAdState({mouseOver:!1}))})),Array.isArray(this.config.adPlayers)){var l=null;if(this.config.adPlayers.forEach(function(d){!l&&typeof d=="object"&&(l=d)}),!l.mobileChannelId&&!l.desktopChannelId&&l.engine==="aniview"&&(l=null),l){var c=ft.Helpers.getUrlParam("mgwcampaign");switch(c&&(c.match(/pubads\.g/)&&(l.engine="ima"),l.adSource=c),this.amby.dispatch(Fe.upsertState({ad:{playerEngine:l.engine}})),this.amby.dispatch(Fe.upsertState({ad:{enableCTA:(o=l.enableCTA)!==null&&o!==void 0?o:!1}})),l.engine){case"aniview":this.adComponent=new Wu.AniViewComponent(this.widget,{publisherId:l.publisherId,channelId:this.amby.get("deviceType")==="mobile"?l.mobileChannelId:l.desktopChannelId,playerContainerId:this.adContainerComponent.playerContainer.id,playerDivId:this.adContainerComponent.playerDiv.id,vastRetry:l.vastRetry,errorLimit:l.errorLimit,maxrun:l.maxrun,logLevel:l.logLevel,timeout:parseInt(l.timeout,10),nextAdTimeout:parseInt(l.nextAdTimeout,10),ref1:l.ref1,soundButton:l.soundbutton,pauseButton:l.pausebutton,timeLine:l.timeline,aniviewParams:l.aniviewParams,waterfall:l.waterfall,noCompleteTimeout:l.noCompleteTimeout,skipoffset:l.skipoffset,verifiedSources:l.verifiedSources,initSize:l.initSize});break;case"mgAdPlayer":this.adComponent=new Fu.MgAdPlayerComponent(this.widget,{container:this.adContainerComponent.playerDiv,mgsetup:l.mgsetup,quality:l.quality,adPlaylist:l.adPlaylist});break;case"ima":this.skipButton=new $u.SkipAdButtonComponent(this.amby,this.adContainerComponent.playerContainer,"ad"),this.muteButton=new Wo.MuteButtonComponent(this.amby,this.adContainerComponent.playerContainer),this.adComponent=new zu.ImaSdkComponent(this.widget,{adSource:l.adSource,requestsLimit:l.requestsLimit,playerDivId:this.adContainerComponent.playerDiv.id});break;case"vpaid":this.muteButton=new Wo.MuteButtonComponent(this.amby,this.adContainerComponent.playerContainer),l.adSource||(l.adResponse=this.widget.mgRec.config.vastContent),this.adComponent=new Yu.VpaidPlayerComponent(this.widget,{adSource:l.adSource,requestsLimit:l.requestsLimit,playerDivId:this.adContainerComponent.playerDiv.id,playerDiv:this.adContainerComponent.playerDiv,desiredBitrate:this.amby.get("formatConfig.bitrate"),vpaidMode:l.vpaidMode,adResponse:l.adResponse,skipoffset:l.skipoffset});break;case"exco":this.adComponent=new Zu.ExcoComponent(this.widget,{adSource:l.adSource,container:this.adContainerComponent.playerDiv});break;case"aniviewDirect":this.adComponent=new Xu.AniviewDirectComponent(this.widget,{publisherId:l.publisherId,tagId:l.playerTagId,ref1:l.ref1,container:this.adContainerComponent.playerDiv});break;case"tremor":this.adComponent=new Ku.TremorComponent(this.widget,{publisherId:l.publisherId,tagId:l.playerTagId,ref1:l.ref1,container:this.adContainerComponent.playerDiv});break;case"connatix":this.amby.dispatch(Fe.upsertState({ad:{playerEngine:l.engine}})),this.adComponent=new Qu.CustomEngine(this.widget,{publisherId:l.publisherId,adSource:l.adSource,container:this.adContainerComponent.playerDiv}),this.amby.dispatch(Fe.upsertAdState({skipoffset:l.skipoffset}));break}this.amby.dispatch(Fe.upsertAdState({skipoffset:l.skipoffset}))}else(0,Ra.mgDebug)("There is no available AD player.")}this.amby.addSubListener(["widget","blurred"],function(){n.onAdPlayerBlurred()}),this.amby.addTriggerListener("ad.clicked",function(){n.onAdClickedTriggerBase()}),this.amby.addSubListener("ad.status",function(){var d=n.amby.get("ad.status");d===pi.states.STATUS_PLAYING?(n.onAdStatusChange(),n.onAdStatusBase()):ft.Helpers.vitalCall(function(){n.onAdStatusChange(),n.onAdStatusBase()},n.amby.get("isVital",!0))}),this.amby.get("closeBtn.enabled")&&(this.amby.addSubListener("ad.init",function(){n.amby.get("ad.init")===pi.states.INIT_DONE&&(n.closeBtnComponent?(!n.closeBtnComponent.elem||!n.adContainerComponent.playerContainer.contains(n.closeBtnComponent.elem))&&n.closeBtnComponent.createElement():n.closeBtnComponent=new Vu.CloseButtonComponent(n.amby,n.adContainerComponent.playerDiv))}),this.amby.addTriggerListener(["closeBtn","clicked"],function(){n.amby.get("player.isSticky",!1)&&n.amby.dispatch(Fe.upsertGlobalState({sticky:!1})),n.amby.dispatch(Fe.setAdVisible(!1)),n.amby.dispatch(Fe.setTriggerToTrue("ad.actionStop")),n.amby.dispatch(Fe.setTriggerToTrue("ad.closed"))})),this.muteButton&&this.amby.addTriggerListener("muteBtn.clicked",function(){n.onMuteBtnClicked()}),this.amby.get("formatConfig.smartBackfill",!1)&&(this.amby.addSubListener("ad.rejecting",function(){!n.amby.get("ad.startRequested",!1)&&n.amby.get("ad.rejecting")&&n.amby.get("ad.status")===pi.states.STATUS_READY&&[pi.states.STATUS_PLAYING,pi.states.STATUS_PAUSED].indexOf(n.amby.get("ad.status"))===-1&&(n.amby.dispatch(Fe.upsertState({player:{isPlayingOnVisible:!1},ad:{rejected:!0}})),setTimeout(function(){n.amby.dispatch(Fe.setTriggerToTrue("ad.actionStop"))},500))}),this.smartBackfillComponent=new Ju.SmartBackfillComponent(this.widget)),this.formatConfig.targetElemSelector&&setInterval(function(){n.updatePosition()},500),this.amby.dispatch(Fe.setAdVisible(!1)),this.callStartInit()},a.prototype.onAdStatusChange=function(){var n=this,o=this.amby.get("ad.status");switch((0,Ra.mgDebug)("Ads ".concat(o,".").concat(this.amby.get("ad.adTag")?" Ad source: ".concat(this.amby.get("ad.adTag")):"")),o){case pi.states.STATUS_READY:this.amby.get("formatConfig.smartBackfill",!1)&&this.amby.get("ad.rejecting")&&(this.amby.dispatch(Fe.upsertState({player:{isPlayingOnVisible:!1},ad:{rejected:!0}})),setTimeout(function(){n.amby.dispatch(Fe.setTriggerToTrue("ad.actionStop"))},500)),this.amby.get("formatConfig.visibleInit",!1)&&ft.Helpers.vitalCall(function(){return n.amby.dispatch(Fe.setAdVisible(!0))},this.amby.get("isVital",!0)),this.observer||(this.observer=ft.Helpers.onVisible(this.adContainerComponent.playerContainer,function(l){n.onContainerVisible(l)},this.amby.get("formatConfig.visiblePart",.9),this.amby.get("formatConfig.hiddenPart",.5)),this.sticky&&(0,Uu.addSubListener)("sticky",function(){n.sticky=n.amby.get().sticky})),ft.Helpers.vitalCall(function(){return n.initActionPlay()},this.amby.get("isVital",!0)),ft.Helpers.vitalCall(function(){return n.updatePosition()},this.amby.get("isVital",!0));break;case pi.states.STATUS_PLAYING:this.amby.dispatch(Fe.setAdVisible(!0)),this.amby.dispatch(Fe.upsertState({muteBtn:{visible:!0}})),this.updatePosition(),this.amby.get("formatConfig.playFunc")&&ft.Helpers.createScriptAndRun("PlayFunc_".concat(this.mgVideoIndex),this.amby.get("formatConfig.playFunc"));break;case pi.states.STATUS_STOPPED:this.amby.dispatch(Fe.setAdVisible(!1)),this.amby.dispatch(Fe.upsertState({muteBtn:{visible:!1}})),this.reInit&&this.createReInitTimeout(),this.amby.get("formatConfig.stopFunc")&&ft.Helpers.createScriptAndRun("StopFunc_".concat(this.mgVideoIndex),this.amby.get("formatConfig.stopFunc"));break;case pi.states.STATUS_ERROR:this.amby.dispatch(Fe.setAdVisible(!1)),this.reInit&&this.createReInitTimeout(),this.amby.get("formatConfig.stopFunc")&&ft.Helpers.createScriptAndRun("StopFunc_".concat(this.mgVideoIndex),this.amby.get("formatConfig.stopFunc"));break}},a.prototype.initActionPlay=function(){var n=this;this.slider&&this.startScroll&&!(0,ft.getInObject)(this.amby.get(),["initedStartScroll"],!1)?(this.amby.dispatch(Fe.upsertGlobalState({initedStartScroll:!0})),window.addEventListener("scroll",function(){n.startOnScroll(function(){n.amby.dispatch(Fe.upsertAdState({startRequested:!0})),n.amby.dispatch(Fe.setTriggerToTrue("ad.actionPlay"))})}),this.startOnScroll(function(){n.amby.dispatch(Fe.upsertAdState({startRequested:!0})),n.amby.dispatch(Fe.setTriggerToTrue("ad.actionPlay"))})):[Cr,_r].indexOf(this.autoStart)>-1&&!this.slider?this.playOnVisible():(this.amby.dispatch(Fe.upsertAdState({startRequested:!0})),this.amby.dispatch(Fe.setTriggerToTrue("ad.actionPlay"))),this.amby.get("ad.reInited")&&this.amby.get("player.isSticky")&&(this.amby.dispatch(Fe.upsertAdState({startRequested:!0})),this.amby.dispatch(Fe.setTriggerToTrue("ad.actionPlay")))},a.prototype.updatePosition=function(){var n=this;if(this.slider||this.sticky&&this.amby.get("player.isSticky",!1)){var o=ft.Helpers.getElemWidth(this.adContainerComponent.playerContainer);this.pos={top:null,left:null,width:o,height:o/this.aspectRatio.width*this.aspectRatio.height,pWidth:o,pHeight:o/this.aspectRatio.width*this.aspectRatio.height}}else{document.body.contains(this.blockMain)||(this.blockMain=this.widget.block.querySelector(".mgbox")||this.widget.block);try{this.pos=ft.Helpers.getPlayerPos(this.targetedElem&&!this.targetedElem.isEqualNode(this.blockMain)?this.targetedElem:this.blockMain,parseInt(this.formatConfig.teaserIndex,10)||0,parseInt(this.formatConfig.teaserSize,10)||1,parseInt(this.formatConfig.teaserHeight,10)||1,this.formatConfig.teaserStick,this.aspectRatio,this.formatConfig.targetElemSelector,this.amby.get("deviceType")==="mobile",this.rootElement)}catch{setTimeout(function(){n.updatePosition(),n.pos&&n.amby.dispatch(Fe.upsertAdState({size:{width:n.pos.pWidth,height:n.pos.pHeight}}))},10);return}}(!this.previousPos||!ft.Helpers.isEqual(this.previousPos,this.pos)||this.placementChanged)&&this.pos.width>0&&(this.placementChanged=!1,this.previousPos=this.pos,this.adContainerComponent.applyPlayerSize(this.pos,this.slider||this.sticky&&this.amby.get("player.isSticky",!1)),this.amby.dispatch(Fe.upsertAdState({resize:!0,size:{width:this.pos.pWidth,height:this.pos.pHeight}})))},a.prototype.stickPlayer=function(){var n=this;this.containerOffsetTop||(this.adContainerComponent.playerContainer.offsetParent?this.containerOffsetTop=this.adContainerComponent.playerContainer.offsetParent.offsetTop+this.adContainerComponent.playerContainer.offsetTop:this.containerOffsetTop=this.adContainerComponent.playerContainer.offsetTop),ft.Helpers.addClass(this.adContainerComponent.playerContainer,this.stickyClass),ft.Helpers.addClass(this.adContainerComponent.playerContainer,"noanim"),this.slider||(this.shadowDiv?this.shadowDiv.style.display="block":(this.shadowDiv=document.createElement("div"),this.shadowDiv.style.width="".concat(this.pos.width,"px"),this.shadowDiv.style.height="".concat(this.pos.height*.9,"px"),this.shadowDiv.style.top="".concat(this.pos.top,"px"),this.shadowDiv.style.left="".concat(this.pos.left,"px"),this.shadowDiv.style.position="absolute",this.shadowDiv.className="shadowDiv_".concat(this.amby.get("widgetId")),this.adContainerComponent.playerContainer.parentNode.insertBefore(this.shadowDiv,this.adContainerComponent.playerContainer),ft.Helpers.onVisible(this.shadowDiv,function(o){o&&n.amby.get("player.isSticky",!1)&&n.unstickPlayer()},1,0))),this.amby.get("formatConfig.moveToBody",!1)&&this.moveToBodyComponent.attachBody(),this.amby.dispatch(Fe.setPlayerSticky(!0)),this.placementChanged=!0,this.updatePosition()},a.prototype.unstickPlayer=function(){ft.Helpers.removeClass(this.adContainerComponent.playerContainer,this.stickyClass),this.shadowDiv&&(this.shadowDiv.style.display="none"),this.amby.get("formatConfig.moveToBody",!1)&&this.moveToBodyComponent.detachBody(this.article.nextSibling),this.amby.dispatch(Fe.setPlayerSticky(!1)),this.placementChanged=!0,this.updatePosition()},a.prototype.onMuteBtnClicked=function(){(0,Ra.mgDebug)("Mute Button clicked."),this.amby.get("ad.initMuted",!0)?this.amby.dispatch(Fe.upsertAdState({initMuted:!1,unmute:!0})):this.amby.dispatch(Fe.upsertAdState({initMuted:!0,mute:!0}))},a.prototype.onContainerVisible=function(n){if(this.inSight=n,this.sticky){if(n&&!this.amby.get("player.isSticky",!1))this.isOtherWidgetSticky()||(this.wasVisible=!0),[Cr,_r].indexOf(this.autoStart)>-1&&this.amby.get("ad.status")!==pi.states.STATUS_PLAYING&&this.amby.get("player.isPlayingOnVisible",!0)&&(this.amby.dispatch(Fe.upsertAdState({startRequested:!0})),this.amby.dispatch(Fe.setTriggerToTrue("ad.actionPlay")));else if(this.wasVisible&&(0,ft.getInObject)(this.amby.get(),["sticky"],!0)&&!this.amby.get("player.isSticky",!1)&&!this.isOtherWidgetSticky())this.stickPlayer();else if(this.amby.get("player.isSticky",!1)){var o=ft.Helpers.getViewTop(),l=ft.Helpers.getWindowHeight();o<=this.containerOffsetTop+this.containerHeight*.5&&o+l>=this.containerOffsetTop+this.containerHeight*1.6&&this.unstickPlayer()}this.updatePosition()}else[Cr,_r].indexOf(this.autoStart)>-1&&!this.slider&&this.playOnVisible()},a}(Nu.FormatBase);ta.Outstream=em});var kr=Ie(Vs=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty(Vs,"__esModule",{value:!0});Vs.InArticleComponent=void 0;var tm=st(),ia=ze(),im=Xe(),am=ot(),sm=function(){function p(a,n,o){var l=this;this.amby=a.amby,this.playerContainerDiv=n,this.rootElement=a.rootElement,this.widgetId=this.amby.get("widgetId"),this.articleSelectors=this.amby.get("formatConfig.articleSelectors",!1),this.shadowDivs=[],this.articles=[],this.aspectRatio=(this.amby.get("player.aspectratio")||"16:9").match(/(\d+):(\d+)/).reduce(function(c,d,g){return c[["ratio","width","height"][g]]=d,c},{}),this.articleSelectors?(Array.isArray(this.articleSelectors)||(this.articleSelectors=[this.articleSelectors]),this.articleSelectors.unshift(".MGVideoAnchor".concat(this.widgetId))):this.articleSelectors=[".MGVideoAnchor".concat(this.widgetId)],this.amby.get("formatConfig.multipleArticles",!1)?(o||(document.querySelector("._mgw_".concat(this.widgetId," .mgheader"))||this.rootElement.querySelector("._mgw_".concat(this.widgetId," .mgheader"))?this.articleSelectors.push("._mgw_".concat(this.widgetId," .mgheader")):this.articleSelectors.push("._mgw_".concat(this.widgetId," .mgbox"))),this.articleSelectors.forEach(function(c){var d=document.querySelectorAll(c);d||(d=l.rootElement.querySelectorAll(c)),d&&(d=Array.apply(null,d),d.forEach(function(g){g&&g.parentNode&&l.articles.push(g)}))}),this.articles.length>0&&(this.articles.sort(function(c,d){return ia.Helpers.getOffsetTop(c)-ia.Helpers.getOffsetTop(d)}),this.articles.forEach(function(c){var d=document.createElement("div");d.style.width="".concat(ia.Helpers.getElemWidth(c.parentNode),"px"),d.style.position="absolute",ia.Helpers.isIE()&&(c.className.indexOf("mgheader")>-1||c.className.indexOf("mgbox")>-1)&&(d.style.top="0",d.style.left="0"),d.className="shadowDiv_".concat(l.amby.get("widgetId")),c.nextSibling?c.parentNode.insertBefore(d,c.nextSibling):c.parentNode.appendChild(d),d.style.height="".concat(ia.Helpers.getElemWidth(d)/l.aspectRatio.width*l.aspectRatio.height,"px");var g=ia.Helpers.onVisible(d,function(y){d.inSight=y,y?setTimeout(function(){l.relocatePlayer(d)},0):l.findPlacement()});l.shadowDivs.push({shadowDiv:d,observer:g})}),o&&this.amby.addSubListener("ad.status",function(){l.amby.get("ad.status")===am.states.STATUS_STOPPED&&l.shadowDivs.forEach(function(c){var d=c.shadowDiv,g=c.observer;d.style.display="none",g.disconnect()})}),this.amby.addSubListener("player.inSight",function(){l.amby.get("player.inSight")||l.findPlacement()}))):(this.articleSelectors.forEach(function(c){l.article||(l.article=document.querySelector(c)),l.article||(l.article=l.rootElement.querySelector(c))}),this.article&&this.article.parentNode?this.article.nextSibling?this.article.parentNode.insertBefore(this.playerContainerDiv,this.article.nextSibling):this.article.parentNode.appendChild(this.playerContainerDiv):(0,tm.mgDebug)("No container found. Src: ".concat(window.location!==window.parent.location?document.referrer:document.location.href)))}return p.prototype.relocatePlayer=function(a){(!a.nextSibling||!this.playerContainerDiv.isEqualNode(a.nextSibling))&&!this.amby.get("player.inSight")&&(a.nextSibling?a.parentNode.insertBefore(this.playerContainerDiv,a.nextSibling):a.parentNode.appendChild(this.playerContainerDiv),this.amby.dispatch(im.setTriggerToTrue("player.positionChanged")))},p.prototype.findPlacement=function(){var a=this;this.shadowDivs.forEach(function(n){var o=n.shadowDiv;o.inSight&&a.relocatePlayer(o)})},p.prototype.isSomeInSight=function(){return this.shadowDivs.reduce(function(a,n){return a||n.shadowDiv.inSight},!1)},p}();Vs.InArticleComponent=sm});var Vo=Ie(aa=>{"use strict";N();V();U();j();z();$();Z();var rm=aa&&aa.__extends||function(){var p=function(a,n){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(o[c]=l[c])},p(a,n)};return function(a,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");p(a,n);function o(){this.constructor=a}a.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(aa,"__esModule",{value:!0});aa.AttachedWidgetVideo=void 0;var Ot=ot(),Ke=Xe(),Gs=st(),nm=ts(),om=Xa(),Dr=ka(),ht=ze(),lm=Ia(),pm=ds(),cm=Qa(),dm=wa(),hm=us(),um=fs(),mm=bs(),fm=Ea(),gm=kr(),ym=Cs(),vm=Is(),No=Ba(),bm=Bs(),xm=Rs(),wm=Oa(),Tm=Ms(),Sm=Ws(),_m=Ns(),qs="visibleNotPause",Ir="visibleOnly",Cm="onLoad",km="onClick",Dm=function(p){rm(a,p);function a(n){var o=p.call(this,n)||this;return o.videoSensorComponent=new pm.VideoSensorComponent(n),o.styleComponent=new um.StyleComponent(o.widget),o.styleComponent.styleChecking(function(){o.onStyleLoad()}),o}return a.prototype.onStyleLoad=function(){var n=this;this.amby.get("visibilityKpi")&&this.amby.dispatch(Ke.upsertState({widget:{renderTime:Date.now()}})),this.sticky=!!(0,ht.getInObject)(this.amby.get(),["sticky"],!0)&&!!this.amby.get("formatConfig.sticky",!1),this.wasVisible=!1,this.reInit=parseInt(this.amby.get("formatConfig.reInit"),10),this.moveToBody=this.formatConfig.moveToBody||!1,this.widgetComponent=new cm.WidgetComponent(this.widget,function(){n.onTeasersLoaded()})},a.prototype.onTeasersLoaded=function(){var n=this;this.autoStart=this.amby.get("autoStart",qs),this.showed=this.amby.get("formatConfig.name")!=="outstream",this.amby.get("widget.allImagesLoaded",!1)?this.deferredInitPlayer():this.amby.addSubListener("widget.allImagesLoaded",function(){n.amby.get("widget.allImagesLoaded")&&n.deferredInitPlayer()})},a.prototype.deferredInitPlayer=function(){var n=this;typeof this.formatConfig.startDelay!="number"&&(this.formatConfig.startDelay=0),setTimeout(function(){n.initPlayer()},this.formatConfig.startDelay*1e3)},a.prototype.initPlayer=function(){var n=this,o;if(this.blockMain=this.widget.block.querySelector(".mgbox"),this.blockMain||(this.blockMain=this.widget.block),this.amby.get("formatConfig.name")==="outstream"?(this.articleSelectors=this.amby.get("formatConfig.articleSelectors",!1),this.amby.get("formatConfig.inArticle",!1)?(this.adContainerComponent=new Dr.AdContainerComponent(this.amby,this.blockMain,"ad","above"),this.inArticleComponent=new gm.InArticleComponent(this.widget,this.adContainerComponent.playerContainer,!0),this.amby.addTriggerListener("player.positionChanged",function(){n.applyAttachedPlayerSize(),[Ot.states.STATUS_PLAYING,Ot.states.STATUS_PAUSED,Ot.states.STATUS_READY].indexOf(n.amby.get("ad.status"))>-1&&(n.inSight?!n.showed&&n.inArticleComponent.isSomeInSight()&&n.showPlayer():n.hidePlayer()),n.playOnVisible()})):this.adContainerComponent=new Dr.AdContainerComponent(this.amby,this.widget.block,"ad",this.amby.get("formatConfig.adsPlace","above"))):this.adContainerComponent=new Dr.AdContainerComponent(this.amby,this.blockMain),this.sticky){switch(this.amby.get("formatConfig.sliderSize","m").toLowerCase()){case"s":this.stickyClass="small ";break;case"m":this.stickyClass="medium ";break;case"l":this.stickyClass="large ";break}this.stickyClass+=this.amby.get("formatConfig.sliderAlign","right"),this.adContainerComponent.playerContainer.addEventListener("animationend",function(){n.applyAttachedPlayerSize()}),this.adContainerComponent.playerContainer.addEventListener("transitionend",function(){n.applyAttachedPlayerSize()})}if(this.calcStartOnScroll(this.adContainerComponent.playerContainer),this.moveToBodyComponent=new hm.MoveToBodyComponent(this.widgetId,this.adContainerComponent.playerContainer),this.amby.get("formatConfig.logo",!1)&&(this.logoComponent=new mm.LogoComponent(this.amby,this.adContainerComponent.playerContainer,!this.amby.get("formatConfig.inArticle",!1))),ht.Helpers.addClass(this.adContainerComponent.playerContainer,"block"),this.amby.dispatch(Ke.setAdVisible(!1)),this.applyAttachedPlayerSize(),this.previousWidth=ht.Helpers.getElemWidth(this.adContainerComponent.playerContainer),this.previousHeight=ht.Helpers.getElemHeight(this.adContainerComponent.playerContainer),window.addEventListener("resize",function(){(n.previousWidth!==ht.Helpers.getElemWidth(n.adContainerComponent.playerContainer)||n.previousHeight!==ht.Helpers.getElemHeight(n.adContainerComponent.playerContainer))&&(n.previousWidth=ht.Helpers.getElemWidth(n.adContainerComponent.playerContainer),n.previousHeight=ht.Helpers.getElemHeight(n.adContainerComponent.playerContainer),n.applyAttachedPlayerSize())}),this.autoStart===km&&(this.clickDiv=document.createElement("div"),this.clickDiv.className="mgClickDiv_".concat(this.widgetId),this.clickDiv.onclick=function(d){(0,Gs.mgDebug)("Clicked on teaser"),n.clickDiv.style.display="none",n.amby.dispatch(Ke.setTriggerToTrue("ad.unmute")),n.amby.dispatch(Ke.upsertAdState({startRequested:!0})),n.amby.dispatch(Ke.setTriggerToTrue("ad.actionPlay")),d.cancelBubble=!0},this.adContainerComponent.playerContainer.appendChild(this.clickDiv)),Array.isArray(this.config.adPlayers)){var l=null;if(this.config.adPlayers.forEach(function(d){!l&&typeof d=="object"&&(l=d)}),!l.mobileChannelId&&!l.desktopChannelId&&l.engine==="aniview"&&(l=null),l){var c=ht.Helpers.getUrlParam("mgwcampaign");switch(c&&(c.match(/pubads\.g/)&&(l.engine="ima"),l.adSource=c),this.amby.dispatch(Ke.upsertState({ad:{playerEngine:l.engine}})),this.amby.dispatch(Ke.upsertState({ad:{enableCTA:(o=l.enableCTA)!==null&&o!==void 0?o:!1}})),l.engine){case"aniview":this.adComponent=new om.AniViewComponent(this.widget,{publisherId:l.publisherId,channelId:this.amby.get("deviceType")==="mobile"?l.mobileChannelId:l.desktopChannelId,playerContainerId:this.adContainerComponent.playerContainer.id,playerDivId:this.adContainerComponent.playerDiv.id,playerDiv:this.adContainerComponent.playerDiv,skipoffset:l.skipoffset,vastRetry:l.vastRetry,errorLimit:l.errorLimit,maxrun:l.maxrun,logLevel:l.logLevel,timeout:parseInt(l.timeout,10),nextAdTimeout:parseInt(l.nextAdTimeout,10),ref1:l.ref1,soundButton:l.soundbutton,pauseButton:l.pausebutton,timeLine:l.timeline,aniviewParams:l.aniviewParams,waterfall:l.waterfall,noCompleteTimeout:l.noCompleteTimeout,verifiedSources:l.verifiedSources,initSize:l.initSize}),this.amby.dispatch(Ke.upsertAdState({skipoffset:l.skipoffset}));break;case"mgAdPlayer":this.adComponent=new fm.MgAdPlayerComponent(this.widget,{container:this.adContainerComponent.playerDiv,mgsetup:l.mgsetup,quality:l.quality,adPlaylist:l.adPlaylist});break;case"ima":this.skipButton=new vm.SkipAdButtonComponent(this.amby,this.adContainerComponent.playerContainer,"ad"),this.muteButton=new No.MuteButtonComponent(this.amby,this.adContainerComponent.playerContainer),this.adComponent=new ym.ImaSdkComponent(this.widget,{adSource:l.adSource,requestsLimit:l.requestsLimit,playerDivId:this.adContainerComponent.playerDiv.id,playerDiv:this.adContainerComponent.playerDiv});break;case"vpaid":this.muteButton=new No.MuteButtonComponent(this.amby,this.adContainerComponent.playerContainer),l.adSource||(l.adResponse=this.widget.mgRec.config.vastContent),this.adComponent=new bm.VpaidPlayerComponent(this.widget,{adSource:l.adSource,requestsLimit:l.requestsLimit,playerDivId:this.adContainerComponent.playerDiv.id,playerDiv:this.adContainerComponent.playerDiv,desiredBitrate:this.amby.get("formatConfig.bitrate"),vpaidMode:l.vpaidMode,adResponse:l.adResponse,skipoffset:l.skipoffset});break;case"exco":this.adComponent=new xm.ExcoComponent(this.widget,{adSource:l.adSource,container:this.adContainerComponent.playerDiv});break;case"aniviewDirect":this.adComponent=new wm.AniviewDirectComponent(this.widget,{publisherId:l.publisherId,tagId:l.playerTagId,ref1:l.ref1,container:this.adContainerComponent.playerDiv});break;case"tremor":this.adComponent=new Sm.TremorComponent(this.widget,{publisherId:l.publisherId,tagId:l.playerTagId,ref1:l.ref1,container:this.adContainerComponent.playerDiv});break;case"connatix":this.amby.dispatch(Ke.upsertState({ad:{playerEngine:l.engine}})),this.adComponent=new _m.CustomEngine(this.widget,{publisherId:l.publisherId,adSource:l.adSource,container:this.adContainerComponent.playerDiv}),this.amby.dispatch(Ke.upsertAdState({skipoffset:l.skipoffset}));break}}else(0,Gs.mgDebug)("There is no available AD player.")}this.amby.addSubListener(["widget","blurred"],function(){n.onAdPlayerBlurred()}),this.amby.addTriggerListener("ad.clicked",function(){n.onAdClickedTriggerBase()}),this.amby.addSubListener("ad.status",function(){n.onAdStatusChange(),n.onAdStatusBase()}),this.amby.get("closeBtn.enabled")&&(this.amby.addSubListener("ad.init",function(){n.amby.get("ad.init")===Ot.states.INIT_DONE&&(n.closeBtnComponent?(!n.closeBtnComponent.elem||!n.adContainerComponent.playerContainer.contains(n.closeBtnComponent.elem))&&n.closeBtnComponent.createElement():n.closeBtnComponent=new lm.CloseButtonComponent(n.amby,n.adContainerComponent.playerDiv))}),this.amby.addTriggerListener("closeBtn.clicked",function(){n.amby.get("player.isSticky",!1)&&n.amby.dispatch(Ke.upsertGlobalState({sticky:!1})),ht.Helpers.removeClass(n.adContainerComponent.playerContainer,"noanim"),n.hidePlayer(),n.amby.dispatch(Ke.setAdVisible(!1)),n.amby.dispatch(Ke.setTriggerToTrue("ad.actionStop")),n.amby.dispatch(Ke.setTriggerToTrue("ad.closed"))})),this.muteButton&&this.amby.addTriggerListener("muteBtn.clicked",function(){n.onMuteBtnClicked()}),this.amby.get("formatConfig.smartBackfill",!1)&&(this.amby.addSubListener("ad.rejecting",function(){!n.amby.get("ad.startRequested",!1)&&n.amby.get("ad.rejecting")&&n.amby.get("ad.status")===Ot.states.STATUS_READY&&[Ot.states.STATUS_PLAYING,Ot.states.STATUS_PAUSED].indexOf(n.amby.get("ad.status"))===-1&&(n.amby.dispatch(Ke.upsertState({player:{isPlayingOnVisible:!1},ad:{rejected:!0}})),setTimeout(function(){n.amby.dispatch(Ke.setTriggerToTrue("ad.actionStop"))},500))}),this.smartBackfillComponent=new Tm.SmartBackfillComponent(this.widget)),this.callStartInit()},a.prototype.onAdStatusChange=function(){var n=this,o=this.amby.get("ad.status");switch((0,Gs.mgDebug)("Ads ".concat(o,".").concat(this.amby.get("ad.adTag")?" Ad source: ".concat(this.amby.get("ad.adTag")):"")),o){case Ot.states.STATUS_READY:this.amby.get("formatConfig.smartBackfill",!1)&&this.amby.get("ad.rejecting")&&(this.amby.dispatch(Ke.upsertState({player:{isPlayingOnVisible:!1},ad:{rejected:!0}})),setTimeout(function(){n.amby.dispatch(Ke.setTriggerToTrue("ad.actionStop"))},500)),this.amby.get("formatConfig.visibleInit",!1)&&(this.showPlayer(),this.amby.dispatch(Ke.setAdVisible(!0))),this.observer||(ht.Helpers.isIE()?setTimeout(function(){n.addContainerObserver()},100):this.addContainerObserver()),this.autoStart===Cm||this.amby.get("ad.reInited")&&this.amby.get("player.isSticky")?(this.amby.dispatch(Ke.upsertAdState({startRequested:!0})),this.amby.dispatch(Ke.setTriggerToTrue("ad.actionPlay"))):[Ir,qs].indexOf(this.autoStart)>-1&&this.playOnVisible(),this.sticky&&(this.stickyObserver||(this.stickyObserver=ht.Helpers.onVisible(this.adContainerComponent.playerContainer,function(l){if(l&&!n.amby.get("player.isSticky",!1))n.isOtherWidgetSticky()||(n.wasVisible=!0),[Ir,qs].indexOf(n.autoStart)>-1&&n.amby.get("ad.status")!==Ot.states.STATUS_PLAYING&&n.amby.get("player.isPlayingOnVisible",!0)&&(n.amby.dispatch(Ke.upsertAdState({startRequested:!0})),n.amby.dispatch(Ke.setTriggerToTrue("ad.actionPlay")));else if(n.wasVisible&&(0,ht.getInObject)(n.amby.get(),["sticky"],!0)&&!n.amby.get("player.isSticky",!1)&&!n.isOtherWidgetSticky())n.stickPlayer();else if(n.amby.get("player.isSticky",!1)&&n.showed){var c=ht.Helpers.getViewTop(),d=ht.Helpers.getWindowHeight();c<=n.containerOffsetTop+n.containerHeight*.5&&c+d>=n.containerOffsetTop+n.containerHeight*1.6&&n.unstickPlayer()}n.placementChanged&&(n.placementChanged=!1,n.applyAttachedPlayerSize())},.6),(0,dm.addSubListener)("sticky",function(){n.sticky=n.amby.get().sticky})));break;case Ot.states.STATUS_PLAYING:this.clickDiv&&(this.clickDiv.style.display="none"),this.amby.dispatch(Ke.setAdVisible(!0)),this.amby.dispatch(Ke.upsertState({muteBtn:{visible:!0}})),this.formatConfig.name==="outstream"&&!this.showed?(!this.amby.get("formatConfig.multipleArticles")||this.inArticleComponent.isSomeInSight())&&this.showPlayer():this.applyAttachedPlayerSize();break;case Ot.states.STATUS_STOPPED:ht.Helpers.removeClass(this.adContainerComponent.playerContainer,"noanim"),this.formatConfig.name==="outstream"&&(this.hidePlayer(),this.amby.dispatch(Ke.setAdVisible(!1)),this.amby.dispatch(Ke.upsertState({muteBtn:{visible:!1}}))),this.reInit&&this.createReInitTimeout();break;case Ot.states.STATUS_ERROR:this.hidePlayer(),this.amby.dispatch(Ke.setAdVisible(!1)),this.reInit&&this.createReInitTimeout();break}},a.prototype.applyAttachedPlayerSize=function(){var n=ht.Helpers.getElemWidth(this.adContainerComponent.playerContainer);this.adHeight=n/this.aspectRatio.width*this.aspectRatio.height,this.containerHeight||(this.containerHeight=this.adHeight),this.showed||this.amby.get("player.isSticky",!1)?this.adContainerComponent.playerContainer.style.height="".concat(this.adHeight,"px"):ht.Helpers.isIE()?this.adContainerComponent.playerContainer.style.height="0.01px":this.adContainerComponent.playerContainer.style.height="0px",this.amby.dispatch(Ke.upsertAdState({resize:!0,size:{width:n,height:this.adHeight}}))},a.prototype.showPlayer=function(){this.showed=!0,this.shadowDiv&&this.amby.get("player.isSticky",!1)&&(this.shadowDiv.style.display="block"),this.applyAttachedPlayerSize(),this.adContainerComponent.playerDiv.firstChild&&this.adContainerComponent.playerDiv.firstChild.clientHeight===0&&window.dispatchEvent(new Event("resize"))},a.prototype.hidePlayer=function(){this.showed=!1,this.shadowDiv&&(this.shadowDiv.style.display="none"),this.applyAttachedPlayerSize()},a.prototype.stickPlayer=function(){var n=this;this.containerOffsetTop||(this.adContainerComponent.playerContainer.offsetParent?this.containerOffsetTop=this.adContainerComponent.playerContainer.offsetParent.offsetTop+this.adContainerComponent.playerContainer.offsetTop:this.containerOffsetTop=this.adContainerComponent.playerContainer.offsetTop),ht.Helpers.addClass(this.adContainerComponent.playerContainer,this.stickyClass),ht.Helpers.addClass(this.adContainerComponent.playerContainer,"noanim"),this.shadowDiv?this.shadowDiv.style.display="block":(this.shadowDiv=document.createElement("div"),this.shadowDiv.style.width="100%",this.shadowDiv.style.height="".concat(this.adHeight*.6,"px"),this.shadowDiv.className="shadowDiv_".concat(this.amby.get("widgetId")),this.adContainerComponent.playerContainer.parentNode.insertBefore(this.shadowDiv,this.adContainerComponent.playerContainer),ht.Helpers.onVisible(this.shadowDiv,function(o){n.shadowDivShown=o,n.shadowDivShown&&n.amby.get("player.isSticky",!1)&&n.unstickPlayer(),n.placementChanged&&(n.placementChanged=!1,n.applyAttachedPlayerSize())})),this.moveToBody&&this.moveToBodyComponent.attachBody(),this.placementChanged=!0,this.amby.dispatch(Ke.setPlayerSticky(!0))},a.prototype.unstickPlayer=function(){ht.Helpers.removeClass(this.adContainerComponent.playerContainer,this.stickyClass),this.shadowDiv&&(this.shadowDiv.style.display="none"),this.moveToBody&&this.moveToBodyComponent.detachBody(this.article.nextSibling),this.placementChanged=!0,this.amby.dispatch(Ke.setPlayerSticky(!1))},a.prototype.addContainerObserver=function(){var n=this;this.observer=ht.Helpers.onVisible(this.adContainerComponent.playerContainer,function(o){n.inSight=o,n.amby.dispatch(Ke.upsertState({player:{inSight:o}})),n.amby.get("formatConfig.multipleArticles",!1)&&[Ot.states.STATUS_PLAYING,Ot.states.STATUS_PAUSED,Ot.states.STATUS_READY].indexOf(n.amby.get("ad.status"))>-1&&(n.inSight?!n.showed&&n.inArticleComponent.isSomeInSight()&&n.showPlayer():n.hidePlayer()),[Ir,qs].indexOf(n.autoStart)>-1&&!n.sticky&&n.playOnVisible(n.amby.get("formatConfig.multipleArticles",!1)?n.showed:void 0)},this.amby.get("formatConfig.visiblePart"),this.amby.get("formatConfig.hiddenPart"))},a.prototype.onMuteBtnClicked=function(){(0,Gs.mgDebug)("Mute Button clicked."),this.amby.get("ad.initMuted",!0)?this.amby.dispatch(Ke.upsertAdState({initMuted:!1,unmute:!0})):this.amby.dispatch(Ke.upsertAdState({initMuted:!0,mute:!0}))},a}(nm.FormatBase);aa.AttachedWidgetVideo=Dm});var Go=Ie(Us=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty(Us,"__esModule",{value:!0});Us.OutstreamBase=void 0;var Im=ot(),Wi=ze(),Er=st(),Em=Xe(),Pm=Ho(),Am=Vo(),Lm=function(){function p(){}return p.init=function(a,n){var o=(0,Wi.getInObject)(a,["mgRec","config","enabled"]);if(!o||o==="0"){(0,Er.mgDebug)("Widget disabled.");return}var l=(0,Wi.getInObject)(a,["mgRec","config","formats"]),c=(0,Wi.getInObject)(a,["mgRec","cappingData","dt"],"desktop");if(c==="tablet"&&(c="mobile"),Array.isArray(l)){for(var d=0;d<l.length;d++)if(l[d].device===c&&["outstream","attachedWidget"].indexOf(l[d].name)>-1&&(!l[d].test||Wi.Helpers.getUrlParam(l[d].test)||Wi.Helpers.getCookie(l[d].test))){var g=(0,Wi.getInObject)(a,["mgRec","config","parentCid"],(0,Wi.getInObject)(a,["mgRec","cid"])),y=(0,Im.createAmby)("video_".concat(g,"_").concat(n));y.dispatch(Em.setFormatConfig(l[d])),a.amby=y,a.formatConfig=l[d],l[d].name==="outstream"&&(l[d].adsPlace==="over"||l[d].adsPlace===void 0||!!l[d].slider)?((0,Er.mgDebug)("Initialising Outstream module"),a.outstream=new Pm.Outstream(a)):(l[d].name==="attachedWidget"||l[d].name==="outstream"&&(["above","below"].indexOf(l[d].adsPlace)>-1||!!l[d].inArticle))&&((0,Er.mgDebug)("Initialising AttachedWidgetVideo module"),a.attachedWidget=new Am.AttachedWidgetVideo(a));break}}},p}();Us.OutstreamBase=Lm});var Uo=Ie(js=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty(js,"__esModule",{value:!0});js.AdControllerComponent=void 0;var ct=ot(),tt=Xe(),Hi=ze(),Bm=Xa(),Om=ka(),Rm=st(),Mm=Is(),Wm=Ea(),Hm=Cs(),qo=Ba(),Nm=Bs(),Vm=Rs(),Gm=Oa(),qm=Ws(),Um=Ns(),jm=function(){function p(a,n){var o=this;this.amby=a.amby,this.widget=a,this.mgVideoIndex=this.amby.get("mgVideoIndex"),this.widgetId=this.amby.get("widgetId"),this.adPlayers=this.amby.get("adPlayers",[]),this.schedule={},Array.isArray(this.amby.get("adSchedule"))&&this.amby.get("adSchedule").forEach(function(l){o.schedule[l.offset]=l.adPlayers}),this.maxAdsAtTime=this.amby.get("formatConfig.maxAdsAtTime",2),this.players={},this.readyPlayers=[],this.adsAtTime=0,Array.isArray(this.adPlayers)&&this.adPlayers.forEach(function(l){o.players[l.name]=l,o.players[l.name].container=new Om.AdContainerComponent(o.amby,n.playerDiv,l.name),(l.engine==="youtube"||l.engine==="ima")&&(o.players[l.name].skipButton=new Mm.SkipAdButtonComponent(o.amby,o.players[l.name].container.playerContainer,l.name),l.engine==="ima"&&(o.players[l.name].muteButton=new qo.MuteButtonComponent(o.amby,o.players[l.name].container.playerContainer))),(l.engine==="ima"||l.engine==="vpaid")&&(o.players[l.name].muteButton=new qo.MuteButtonComponent(o.amby,o.players[l.name].container.playerContainer)),o.addPlayerListeners(l.name)}),this.addListeners(),(0,Rm.mgDebug)("AdControllerComponent initiated.")}return p.prototype.addListeners=function(){var a=this;this.amby.addSubListener("ad.init",function(){switch(a.amby.get("ad.init")){case ct.states.INIT_NEEDED:case ct.states.INIT_RESET:a.readyPlayers.forEach(function(n){a.amby.dispatch(tt.setAdInit(ct.states.INIT_STOP,n))}),a.readyPlayers=[],a.curPosition=a.amby.get("ad.curAdPosition"),a.schedule&&a.curPosition&&a.schedule[a.curPosition]&&a.schedule[a.curPosition].forEach(function(n){a.initAdPlayer(n)}),a.amby.dispatch(tt.setAdInit(ct.states.INIT_IN_PROGRESS));break;case ct.states.INIT_STOP:a.schedule&&a.curPosition&&a.schedule[a.curPosition]&&a.schedule[a.curPosition].forEach(function(n){a.amby.dispatch(tt.setAdInit(ct.states.INIT_STOP,n))});break}}),this.amby.addTriggerListener("ad.actionPlay",function(){a.amby.get("ad.enabled")&&(a.readyPlayers.length>0?(a.amby.dispatch(tt.upsertAdState({startRequested:!0})),a.amby.dispatch(tt.setTriggerToTrue("".concat(a.readyPlayers[0],".actionPlay")))):a.startRequested=!0)}),this.amby.addTriggerListener("ad.actionPause",function(){a.amby.dispatch(tt.setTriggerToTrue("".concat(a.readyPlayers[0],".actionPause")))}),this.amby.addTriggerListener("ad.actionClose",function(){a.amby.dispatch(tt.setTriggerToTrue("".concat(a.readyPlayers[0],".actionClose")))}),this.amby.addTriggerListener("ad.actionStop",function(){a.readyPlayers.forEach(function(n){[ct.states.STATUS_PLAYING,ct.states.STATUS_PAUSED].indexOf(a.amby.get("".concat(n,".status")))>-1&&a.amby.dispatch(tt.setTriggerToTrue("".concat(n,".actionStop")))})})},p.prototype.addPlayerListeners=function(a){var n=this;this.amby.addSubListener("".concat(a,".status"),function(){n.onPlayerStatus(a)}),this.amby.addTriggerListener("".concat(a,".impression"),function(){n.amby.dispatch(tt.setTriggerToTrue("ad.impression"))})},p.prototype.onPlayerStatus=function(a){switch(this.amby.get("".concat(a,".status"))){case ct.states.STATUS_READY:this.readyPlayers.indexOf(a)===-1&&this.readyPlayers.push(a),[ct.states.STATUS_READY,ct.states.STATUS_PLAYING].indexOf(this.amby.get("ad.status"))===-1&&(this.amby.dispatch(tt.setAdInit(ct.states.INIT_DONE)),this.amby.dispatch(tt.setAdStatus(ct.states.STATUS_READY))),(this.amby.get("ad.curAdPosition")==="pre"||this.players[a].engine==="youtube")&&this.amby.dispatch(tt.setAdVisible(!0,a)),this.startRequested&&(this.startRequested=!1,this.amby.dispatch(tt.upsertAdState({startRequested:!0})),this.amby.dispatch(tt.setTriggerToTrue("".concat(this.readyPlayers[0],".actionPlay"))));break;case ct.states.STATUS_PLAYING:this.amby.dispatch(tt.setAdVisible(!0,a)),this.amby.dispatch(tt.upsertState({muteBtn:{visible:!0}})),this.amby.dispatch(tt.setAdStatus(ct.states.STATUS_PLAYING));break;case ct.states.STATUS_PAUSED:this.amby.dispatch(tt.setAdStatus(ct.states.STATUS_PAUSED));break;case ct.states.STATUS_ERROR:case ct.states.STATUS_STOPPED:this.adsAtTime+=1,this.amby.dispatch(tt.setAdVisible(!1,a)),this.readyPlayers.splice(this.readyPlayers.indexOf(a),1),this.readyPlayers.length>0&&this.maxAdsAtTime>this.adsAtTime?this.amby.dispatch(tt.setTriggerToTrue("".concat(this.readyPlayers[0],".actionPlay"))):(this.adsAtTime=0,this.amby.dispatch(tt.upsertState({muteBtn:{visible:!1}})),this.amby.dispatch(tt.setAdStatus(this.amby.get("".concat(a,".status")))));break;case ct.states.STATUS_INIT:[ct.states.STATUS_ERROR,ct.states.STATUS_STOPPED].indexOf(this.amby.get("ad.status"))>-1&&this.amby.dispatch(tt.setAdStatus(ct.states.STATUS_INIT));break}},p.prototype.initAdPlayer=function(a){var n,o,l,c,d,g;if(this.players[a]&&!this.players[a].component){!this.players[a].mobileChannelId&&!this.players[a].desktopChannelId&&this.players[a].engine==="aniview"&&(this.players[a].engine=null);var y=Hi.Helpers.getUrlParam("mgwcampaign");switch(y&&(y.match(/pubads\.g/)&&(this.players[a].engine="ima"),this.players[a].adSource=y),this.amby.dispatch(tt.upsertState({ad:{playerEngine:this.players[a].engine}})),this.amby.dispatch(tt.upsertState({ad:{enableCTA:(g=this.players[a].enableCTA)!==null&&g!==void 0?g:!1}})),this.players[a].engine){case"aniview":this.players[a].component=new Bm.AniViewComponent(this.widget,{name:a,publisherId:this.players[a].publisherId,channelId:this.amby.get("deviceType")==="mobile"?this.players[a].mobileChannelId:this.players[a].desktopChannelId,playerContainerId:this.players[a].container.playerContainer.id,playerDivId:this.players[a].container.playerDiv.id,vastRetry:this.players[a].vastRetry,errorLimit:this.players[a].errorLimit,maxrun:this.players[a].maxrun,logLevel:this.players[a].logLevel,timeout:parseInt(this.players[a].timeout,10),nextAdTimeout:parseInt(this.players[a].nextAdTimeout,10),ref1:this.players[a].ref1,soundButton:this.players[a].soundbutton,pauseButton:this.players[a].pausebutton,timeLine:this.players[a].timeline,aniviewParams:this.players[a].aniviewParams,waterfall:this.players[a].waterfall,noCompleteTimeout:this.players[a].noCompleteTimeout,skipoffset:this.players[a].skipoffset,verifiedSources:this.players[a].verifiedSources,initSize:this.players[a].initSize}),this.amby.dispatch(tt.upsertState((n={},n[a]={skipoffset:this.players[a].skipoffset},n)));break;case"mgAdPlayer":this.players[a].component=new Wm.MgAdPlayerComponent(this.widget,{name:a,container:this.players[a].container.playerDiv,mgsetup:this.players[a].mgsetup,quality:this.players[a].quality,adPlaylist:this.players[a].adPlaylist}),this.amby.dispatch(tt.upsertState((o={},o[a]={skipoffset:this.players[a].skipoffset},o)));break;case"ima":this.players[a].component=new Hm.ImaSdkComponent(this.widget,{name:a,adSource:this.players[a].adSource,requestsLimit:this.players[a].requestsLimit,playerDivId:this.players[a].container.playerDiv.id}),this.amby.dispatch(tt.upsertState((l={},l[a]={skipoffset:this.players[a].skipoffset},l)));break;case"vpaid":if(!this.players[a].adSource)this.players[a].adResponse=this.widget.mgRec.config.vastContent;else{var b=Hi.Helpers.getConsentData(),_=this.players[a].adSource,k=b.gdpr?"gdpr":"";_=Hi.Helpers.replaceAll(_,"{gdpr}",String(Number(b.gdpr))),_=Hi.Helpers.replaceAll(_,"[REGULATIONS]",k),_=Hi.Helpers.replaceAll(_,"{gdpr_consent}",b.consentData),_=Hi.Helpers.replaceAll(_,"[GDPRCONSENT]",b.consentData),_=Hi.Helpers.replaceAll(_,"{cxurl}",this.amby.get("cxurl","")),this.players[a].adSource=_}this.players[a].component=new Nm.VpaidPlayerComponent(this.widget,{name:a,adSource:this.players[a].adSource,requestsLimit:this.players[a].requestsLimit,playerDivId:this.players[a].container.playerDiv.id,desiredBitrate:this.amby.get("formatConfig.bitrate"),vpaidMode:this.players[a].vpaidMode,adResponse:this.players[a].adResponse,skipoffset:this.players[a].skipoffset}),this.amby.dispatch(tt.upsertState((c={},c[a]={skipoffset:this.players[a].skipoffset},c)));break;case"exco":this.players[a].component=new Vm.ExcoComponent(this.widget,{name:a,adSource:this.players[a].adSource,container:this.players[a].container.playerDiv});break;case"aniviewDirect":this.players[a].component=new Gm.AniviewDirectComponent(this.widget,{name:a,publisherId:this.players[a].publisherId,tagId:this.players[a].playerTagId,ref1:this.players[a].ref1,container:this.players[a].container.playerDiv});break;case"tremor":this.players[a].component=new qm.TremorComponent(this.widget,{name:a,publisherId:this.players[a].publisherId,tagId:this.players[a].playerTagId,ref1:this.players[a].ref1,container:this.players[a].container.playerDiv});break;case"connatix":this.adComponent=new Um.CustomEngine(this.widget,{publisherId:this.players[a].publisherId,adSource:this.players[a].adSource,container:this.players[a].container.playerDiv,name:a}),this.amby.dispatch(tt.upsertState((d={},d[a]={skipoffset:this.players[a].skipoffset},d)));break}this.amby.dispatch(tt.setAdInit(ct.states.INIT_NEEDED,a))}else this.amby.dispatch(tt.setAdInit(ct.states.INIT_RESET,a))},p}();js.AdControllerComponent=jm});var jo=Ie(Fs=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty(Fs,"__esModule",{value:!0});Fs.AdPlayerComponent=void 0;var pt=ot(),Ve=Xe(),sa=st(),Fm=Ia(),zm=Uo(),$m=ka(),qt=ze(),Ym=Ms(),Zm=function(){function p(a,n){var o=this;this.amby=a.amby,this.widget=a,this.mainBox=n,this.rootElement=a.rootEleement;var l=this.amby.get("adSchedule",[]);this.formatConfig=this.amby.get("formatConfig",{}),this.playerTeaserIndex=this.amby.get("widget.playerTeaserIndex",0),this.mgVideoIndex=this.amby.get("mgVideoIndex"),this.widgetId=this.amby.get("widgetId");var c=this.amby.get("adPlayers",[]);this.preTimeoutTime=parseInt(this.formatConfig.preTimeout,10)||2,this.amby.dispatch(Ve.upsertAdState({initMuted:!0})),this.schedule={},c&&Array.isArray(c)&&l&&Array.isArray(l)?c.forEach(function(d){l.forEach(function(g){g.adPlayers&&d.name&&g.adPlayers.indexOf(d.name)>-1&&(o.schedule[g.offset]||(o.schedule[g.offset]={adPlayers:[]}),o.schedule[g.offset].adPlayers.push(JSON.parse(JSON.stringify(d))),o.schedule[g.offset].loadAds=(0,qt.getInObject)(g,["loadAds"]),o.schedule[g.offset].preloadPercent=parseFloat((0,qt.getInObject)(g,["preloadPercent"],0)))})}):(0,sa.mgDebug)("Config error: there is no adPlayers or adSchedule."),this.startScrollPixels=null,(this.formatConfig.startOnScroll||this.schedule.pre&&this.schedule.pre.loadAds==="playerLoaded"&&this.schedule.pre.preloadPercent>=0&&this.schedule.pre.preloadPercent<=100)&&(this.startOnScrollPercent=.51,this.schedule.pre.preloadPercent&&(this.startOnScrollPercent=1-parseFloat(this.schedule.pre.preloadPercent)/100),this.updateStartOnScrollPixels()),this.adContainerComponent=new $m.AdContainerComponent(this.amby,n),this.adControllerComponent=new zm.AdControllerComponent(this.widget,this.adContainerComponent),this.addListeners(),(0,sa.mgDebug)("AdPlayerComponent initiated.")}return p.prototype.addListeners=function(){var a=this;this.amby.addSubListener("player.position",function(){if(a.amby.get("ad.enabled",!1)){var n=a.amby.get("player.position",0),o=a.amby.get("ad.enabledPosition",0);n&&(a.amby.get("ad.curAdPosition")===null?Object.entries(a.schedule).sort(function(l,c){return l[1].posInSec-c[1].posInSec}).forEach(function(l){var c=l[0],d=l[1];["pre","post"].indexOf(c)===-1&&!d.initiated&&a.amby.get("ad.curAdPosition")===null&&(d.initiated=!0,a.amby.get("ad.adInProgress",!1)||(a.amby.dispatch(Ve.upsertAdState({adInProgress:!0,curAdPosition:c})),a.amby.get("formatConfig.initAdOnPosition",!1)||a.initAdPlayer()))}):["pre","post"].indexOf(a.amby.get("ad.curAdPosition"))===-1&&a.schedule[a.amby.get("ad.curAdPosition")]&&a.schedule[a.amby.get("ad.curAdPosition")].posInSec<=n-o&&a.amby.get("ad.status")===pt.states.STATUS_READY&&(a.prevPlayerStatus=a.amby.get("player.status"),a.amby.get("formatConfig.initAdOnPosition",!1)?a.initAdPlayer():(a.amby.get("player.inSight")||a.amby.get("autoStart")==="onLoad")&&a.amby.dispatch(Ve.setTriggerToTrue("ad.actionPlay")))),a.amby.dispatch(Ve.upsertAdState({enabledTime:a.amby.get("ad.enabledTime",0)+1}))}}),this.amby.addSubListener("player.status",function(){switch(a.amby.get("player.status")){case pt.states.STATUS_READY:a.startScrollPixels!==null&&a.schedule.pre&&a.getPreLoadAdsBy()==="playerLoaded"&&window.addEventListener("scroll",function(){a.startOnScroll(function(){a.presearchInit()})});break;case pt.states.STATUS_PLAYING:a.hasPreScheduleLoaded()&&a.amby.get("ad.beforePlacementInitiated")&&!a.amby.get("ad.beforePlacementStopped")&&(a.amby.dispatch(Ve.upsertAdState({curAdPosition:null,adInProgress:!1,beforePlacementStopped:!0})),a.amby.dispatch(Ve.upsertPlayerState({wasPlaying:!0})),a.amby.dispatch(Ve.setAdInit(pt.states.INIT_STOP)));break}}),this.amby.addSubListener("ad.status",function(){a.onAdStatusChange()}),this.amby.addTriggerListener("player.resize",function(){qt.Helpers.vitalCall(function(){return a.applyPlayerSize()},a.amby.get("isVital",!0))}),this.amby.addSubListener("ad.enabled",function(){if(a.amby.get("ad.enabled",!1)){var n=a.amby.get("player.position",0),o=a.amby.get("player.duration",1);Object.entries(a.schedule).forEach(function(l){var c=l[0],d=l[1];if(["pre","post"].indexOf(c)===-1){var g=c.toString().match(/(\d+)%/);g&&g[1]?d.posInSec=Math.floor((o-n)*g[1]/100)||0:d.posInSec=parseInt(c,10)||0}}),qt.Helpers.vitalCall(function(){a.amby.dispatch(Ve.upsertAdState({enabledPosition:a.amby.get("player.position",0)-a.amby.get("ad.enabledTime",0)}))},a.amby.get("isVital",!0))}a.canPrePlaySchedule()&&a.amby.get("ad.enabled",!1)&&(a.getPreLoadAdsBy()==="pageLoaded"?a.presearchInit():a.presearchObserver=qt.Helpers.onVisible(a.adContainerComponent.playerContainer,function(l){l&&(a.presearchInit(),a.presearchObserver.disconnect())},.01))}),this.amby.addSubListener("player.inSight",function(){a.amby.get("ad.enabled",!1)&&a.amby.get("player.inSight")&&[pt.states.STATUS_PAUSED,pt.states.STATUS_READY].indexOf(a.amby.get("ad.status"))>-1&&(a.amby.get("player.isPlayingOnVisible",!0)||!a.amby.get("ad.containerClicked",!1))&&(a.amby.get("autoStart")==="visibleNotPause"||a.canPrePlaySchedule()&&a.amby.get("ad.curAdPosition")==="pre")&&a.amby.dispatch(Ve.setTriggerToTrue("ad.actionPlay"))}),this.amby.addTriggerListener("player.newItem",function(){(a.amby.get("player.isAdPlaying",!1)||a.amby.get("ad.adInProgress",!1))&&(a.amby.dispatch(Ve.setAdInit(pt.states.INIT_STOP)),a.amby.dispatch(Ve.setAdStatus(pt.states.STATUS_STOPPED))),Object.entries(a.schedule).forEach(function(n){var o=n[1];o.initiated=!1,o.posInSec=null}),a.amby.dispatch(Ve.upsertAdState({enabledPosition:0,enabledTime:0,adInProgress:!1,curAdPosition:null}))}),this.amby.addTriggerListener("player.firstFrame",function(){a.schedule.pre&&["pageLoaded","playerLoaded"].indexOf(a.schedule.pre.loadAds)===-1&&(a.amby.dispatch(Ve.upsertAdState({curAdPosition:"pre",visible:!0,adInProgress:!0})),a.amby.dispatch(Ve.upsertPlayerState({actionPause:!0,isAdPlaying:!0})),a.amby.dispatch(Ve.setAdStatus(pt.states.STATUS_INIT)),a.preTimeout&&(clearTimeout(a.preTimeout),a.preTimeout=null),a.preTimeout=setTimeout(function(){(0,sa.mgDebug)("PreTimeout fired."),a.amby.dispatch(Ve.setAdInit(pt.states.INIT_STOP)),a.amby.dispatch(Ve.setAdStatus(pt.states.STATUS_STOPPED))},a.preTimeoutTime*1e3),a.initAdPlayer())}),this.amby.addSubListener("player.duration",function(){Object.entries(a.schedule).forEach(function(n){var o=n[0],l=n[1],c=a.amby.get("player.position",0),d=a.amby.get("player.duration",1);if(l.initiated=!1,d>1)if(["pre","post"].indexOf(o)===-1){var g=o.toString().match(/(\d+)%/);g&&g[1]?l.posInSec=Math.floor((d-c)*(g[1]/100))||0:l.posInSec=parseInt(o,10)||0}else l.posInSec=null})}),this.amby.addTriggerListener("player.userUnmute",function(){a.amby.dispatch(Ve.upsertAdState({initMuted:!1,unmute:!0}))}),this.amby.addTriggerListener("player.userMute",function(){a.amby.dispatch(Ve.upsertAdState({initMuted:!0,mute:!0}))}),this.amby.addSubListener("ad.init",function(){a.amby.get("ad.init")===pt.states.INIT_DONE&&(a.closeBtnComponent?(!a.closeBtnComponent.elem||!a.adContainerComponent.playerContainer.contains(a.closeBtnComponent.elem))&&a.closeBtnComponent.createElement():a.closeBtnComponent=new Fm.CloseButtonComponent(a.amby,a.adContainerComponent.playerDiv))}),this.amby.get("formatConfig.smartBackfill",!1)&&(this.amby.addSubListener("ad.rejecting",function(){!a.amby.get("ad.startRequested",!1)&&a.amby.get("ad.rejecting")&&a.amby.get("ad.status")===pt.states.STATUS_READY&&[pt.states.STATUS_PLAYING,pt.states.STATUS_PAUSED].indexOf(a.amby.get("ad.status"))===-1&&(a.amby.dispatch(Ve.setAdEnabled(!1)),a.amby.dispatch(Ve.upsertAdState({rejected:!0})),setTimeout(function(){a.amby.dispatch(Ve.setAdInit(pt.states.INIT_STOP))},500))}),this.smartBackfillComponent=new Ym.SmartBackfillComponent(this.widget))},p.prototype.getPreLoadAdsBy=function(){return(0,qt.getInObject)(this.schedule,["pre","loadAds"])},p.prototype.hasPreScheduleLoaded=function(){return["pageLoaded","playerLoaded"].indexOf(this.getPreLoadAdsBy())>-1},p.prototype.canPrePlaySchedule=function(){return!this.amby.get("player.wasPlaying",!1)&&this.hasPreScheduleLoaded()},p.prototype.onAdStatusChange=function(){var a=this,n=this.amby.get("ad.status");switch((0,sa.mgDebug)("Ads ".concat(n,".").concat(this.amby.get("ad.adTag")?" Ad source: ".concat(this.amby.get("ad.adTag")):"")),n){case pt.states.STATUS_READY:this.amby.get("formatConfig.smartBackfill",!1)&&this.amby.get("ad.rejecting")&&(this.amby.dispatch(Ve.setAdEnabled(!1)),this.amby.dispatch(Ve.upsertAdState({rejected:!0})),setTimeout(function(){a.amby.dispatch(Ve.setAdInit(pt.states.INIT_STOP))},500)),this.preTimeout&&(clearTimeout(this.preTimeout),this.preTimeout=null),this.amby.get("ad.enabled",!1)&&(this.amby.get("formatConfig.visibleInit",!1)&&this.amby.dispatch(Ve.setAdVisible(!0)),(this.amby.get("ad.curAdPosition")==="pre"&&!this.hasPreScheduleLoaded()||this.amby.get("formatConfig.initAdOnPosition",!1))&&this.amby.dispatch(Ve.setTriggerToTrue("ad.actionPlay")),this.amby.get("ad.curAdPosition")==="pre"&&this.hasPreScheduleLoaded()&&(this.amby.get("ad.inSight",!1)||this.amby.get("autoStart")==="onLoad")&&this.amby.dispatch(Ve.setTriggerToTrue("ad.actionPlay")));break;case pt.states.STATUS_PLAYING:this.preTimeout&&(clearTimeout(this.preTimeout),this.preTimeout=null),this.prevPlayerStatus===pt.states.STATUS_PAUSED||!this.amby.get("ad.enabled",!1)&&this.amby.get("ad.curAdPosition")!=="pre"||this.amby.get("autoStart")==="visibleOnly"&&!this.amby.get("player.inSight")?this.amby.dispatch(Ve.setTriggerToTrue("ad.actionPause")):(this.amby.dispatch(Ve.upsertPlayerState({isAdPlaying:!0,actionPause:!0})),this.applyPlayerSize(),this.amby.get("ad.enabled",!1)&&this.amby.dispatch(Ve.setAdVisible(!0)),!this.amby.get("ad.initMuted",!0)&&!qt.Helpers.iOSversion()&&this.amby.dispatch(Ve.setTriggerToTrue("ad.unmute")));break;case pt.states.STATUS_ERROR:this.amby.get("ad.curAdPosition")==="pre"&&this.hasPreScheduleLoaded()&&(this.amby.get("ad.currentImpressions",0)>0&&this.amby.dispatch(Ve.setTriggerToTrue("player.actionPlay")),this.amby.get("ad.beforePlacementStopped")||this.amby.dispatch(Ve.upsertAdState({curAdPosition:null,adInProgress:!1,beforePlacementStopped:!0}))),this.prevPlayerStatus===pt.states.STATUS_PLAYING&&this.amby.dispatch(Ve.setTriggerToTrue("player.actionPlay")),this.onAdStopped();break;case pt.states.STATUS_STOPPED:(this.prevPlayerStatus===pt.states.STATUS_PLAYING||this.amby.get("player.position",0)>0||this.amby.get("ad.enabled",!1)&&this.amby.get("ad.curAdPosition")==="pre")&&(this.amby.get("player.inSight",!1)||["onLoad","visibleNotPause"].indexOf(this.amby.get("autoStart"))>-1?this.amby.dispatch(Ve.setTriggerToTrue("player.actionPlay")):this.amby.dispatch(Ve.upsertPlayerState({isPlayingOnVisible:!0}))),this.onAdStopped();break}},p.prototype.initAdPlayer=function(){var a=this;this.formatConfig.startOnScroll&&!this.startedByScroll?(window.addEventListener("scroll",function(){a.startOnScroll(function(){a.initAdPlayer()})}),this.startOnScroll(function(){a.initAdPlayer()})):(this.amby.dispatch(Ve.upsertAdState({currentImpressions:0})),this.adPlayerInited?this.amby.dispatch(Ve.setAdInit(pt.states.INIT_RESET)):(this.amby.dispatch(Ve.setAdInit(pt.states.INIT_NEEDED)),this.adPlayerInited=!0))},p.prototype.applyPlayerSize=function(){var a=this;qt.Helpers.vitalCall(function(){var n=a.amby.get("videoElemPosition");a.adContainerComponent&&n&&(a.adContainerComponent.applyPlayerSize(n),a.amby.dispatch(Ve.upsertAdState({resize:!0,size:{width:n.pWidth,height:n.pHeight}})))},this.amby.get("isVital",!0))},p.prototype.onAdStopped=function(){this.preTimeout&&(clearTimeout(this.preTimeout),this.preTimeout=null),this.amby.dispatch(Ve.upsertPlayerState({isAdPlaying:!1})),this.amby.dispatch(Ve.setAdVisible(!1)),this.amby.dispatch(Ve.upsertAdState({adInProgress:!1,curAdPosition:null}))},p.prototype.presearchInit=function(){var a=this;!this.amby.get("player.wasPlaying",!1)&&!this.amby.get("ad.beforePlacementInitiated")&&qt.Helpers.vitalCall(function(){a.amby.dispatch(Ve.upsertAdState({curAdPosition:"pre",adInProgress:!0,beforePlacementInitiated:!0})),a.amby.dispatch(Ve.setAdStatus(pt.states.STATUS_INIT)),a.initAdPlayer()},this.amby.get("isVital",!0))},p.prototype.startOnScroll=function(a){!this.startedByScroll&&this.startScrollPixels!==null&&(this.updateStartOnScrollPixels(),qt.Helpers.getViewTop()+qt.Helpers.getWindowHeight()/2>this.startScrollPixels&&((0,sa.mgDebug)("Current Scroll: ".concat(qt.Helpers.getViewTop(),"px, Starting code on: ").concat(this.startScrollPixels,"px")),this.startedByScroll=!0,a()))},p.prototype.updateStartOnScrollPixels=function(){var a=this.mainBox.getBoundingClientRect().top+qt.Helpers.getViewTop(),n=this.startScrollPixels;this.startScrollPixels=Math.floor(a*this.startOnScrollPercent),this.startScrollPixels!==n&&(0,sa.mgDebug)("Player Top: ".concat(a,"px, Start searching for ad on: ").concat(this.startOnScrollPercent,"% = ").concat(this.startScrollPixels,"px"))},p}();Fs.AdPlayerComponent=Zm});var Yo=Ie($s=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty($s,"__esModule",{value:!0});$s.ContentPlayerComponent=void 0;var ci=ot(),Ze=Xe(),Di=ze(),Xm=Gi(),zs=st(),Jm=Tr(),Fo="playing",Pr="paused",Km="buffering",zo="idle",Qm="jwplayer",$o="mgplayer",ef="none",tf=function(){function p(a,n,o){var l=this;if(this.amby=a.amby,this.playerType=this.amby.get("formatConfig.playerType",$o),this.playerType!==ef){this.playerContainerDiv=n,this.config=this.amby.get("formatConfig",{}),this.mgsetup=o,this.rootElement=a.rootElement,this.jwplatformUrl=this.config.jwplatformUrl||this.amby.get("libConfig.jwPlayerIdVrw"),this.playerId=this.amby.get("player.playerId"),this.aspectRatio=this.amby.get("player.aspectratio");var c=this.amby.get("playlist",[]);this.playlist=[],c?this.fillPlaylist(c):this.amby.addSubListener("playlist",function(){var d=l.amby.get("playlist",[]);d&&d.length>0&&(l.fillPlaylist(d),l.loadRequested&&l.player.load(l.playlist))}),this.currentPosition=0,this.amby.addSubListener("player.init",function(){l.onPlayerInit()}),this.amby.addTriggerListener("player.mute",function(){l.player&&l.player.setMute(!0)}),this.amby.addTriggerListener("player.unmute",function(){l.player&&l.player.setMute(!1)}),this.amby.addTriggerListener("player.resize",function(){l.onPlayerResize()}),this.amby.addTriggerListener("player.actionPlay",function(){l.player&&[Fo,Km].indexOf(l.player.getState())===-1&&l.player.play(!0)}),this.amby.addTriggerListener("player.actionPause",function(){l.player&&[Pr,zo].indexOf(l.player.getState())===-1&&l.player.pause(!0)}),this.amby.addTriggerListener("player.actionStop",function(){l.player&&[Pr,zo].indexOf(l.player.getState())===-1&&l.player.stop()}),this.amby.addSubListener("player.isControlsVisible",function(){l.player&&(l.amby.get("player.isControlsVisible",!1)?l.player.setControls(!0):l.player.setControls(!1))}),this.amby.addSubListener("player.itemIndex",function(){var d=l.amby.get("player.itemIndex");d!==null&&l.player&&l.itemIndex!==d&&l.player.playlistItem(d)}),this.amby.addSubListener("popup.visible",function(){l.onPlayerChangedLocation()}),this.amby.get("formatConfig.moveToBody",!1)&&this.amby.addSubListener("player.isSticky",function(){l.onPlayerChangedLocation()}),this.observer=Di.Helpers.onVisible(this.playerContainerDiv,function(d){d||l.amby.get("player.isSticky",!1)?((0,zs.mgDebug)("Player is in sight."),l.amby.dispatch(Ze.setPlayerInSight(!0))):((0,zs.mgDebug)("Player is out of sight."),l.amby.dispatch(Ze.setPlayerInSight(!1)))},this.amby.get("formatConfig.visiblePart",.9),this.amby.get("formatConfig.hiddenPart"))}}return p.prototype.onPlayerInit=function(){var a=this.amby.get("player.init");switch(a){case ci.states.INIT_NEEDED:this.amby.dispatch(Ze.setPlayerInit(ci.states.INIT_IN_PROGRESS)),this.playerType===$o?this.initPlayer():this.loadLibrary();break}},p.prototype.onPlayerResize=function(a){var n=this;a===void 0&&(a=!1);var o=this.amby.get("player.size");this.player&&(o?this.player.resize(o.width,o.height,this.aspectRatio):this.player.resize()),Di.Helpers.isIE()&&!a&&setTimeout(function(){n.onPlayerResize(!0)},1200)},p.prototype.loadLibrary=function(){var a=this,n=new Xm.Loader({mgJwplatform:{url:this.jwplatformUrl,exists:"typeof window.jwplayer !== 'undefined'"}},function(){a.initPlayer()},this.amby.get("mgVideoIndex"));n.checkLoaded()},p.prototype.initPlayer=function(){var a=this.amby.get("formatConfig.staticRoot")||"video-native.".concat(this.amby.get("subnetDomain","")),n=[{description:"",image:"//".concat(a,"/XHcEUCFl-720.jpg"),file:"//".concat(a,"/XHcEUCFl-26327326.mp4"),title:"Video"}],o=this.amby.get("player.muted",!0);if(this.playerType===Qm)this.player=window.jwplayer(this.playerId),this.player.setup(Di.Helpers.mergeObjects({autostart:!1,repeat:!0,mute:o,advertising:{},aspectratio:this.aspectRatio,width:"100%",playlist:n},this.config.jwsetup));else{var l=this.amby.get("libConfig.mgPlayerStylesUrlTemplate"),c=l.replace("{{DOMAIN}}",a);this.config.mgsetup&&this.config.mgsetup.stylePath&&(this.config.mgsetup.stylePath=this.config.mgsetup.stylePath.replace("{{DOMAIN}}",a)),this.player=new Jm.MgPlayer(this.playerId,this.rootElement),this.player.setup(Di.Helpers.mergeObjects({autostart:!1,repeat:this.amby.get("formatConfig.repeat",!0),mute:o,playlist:n,stylePath:c,useWebm:!0},this.mgsetup))}this.addPlayerListeners()},p.prototype.addPlayerListeners=function(){var a=this;this.player.on("ready",function(){Di.Helpers.vitalCall(function(){return Di.Helpers.repaintSafari()},a.amby.get("isVital",!0)),a.playlist.length>0?a.player.load(a.playlist):a.loadRequested=!0}),this.player.on("playlist",function(){a.amby.dispatch(Ze.setPlayerInit(ci.states.INIT_DONE)),a.amby.dispatch(Ze.setPlayerStatus(ci.states.STATUS_READY))}),this.player.on("displayClick",function(){a.amby.dispatch(Ze.setTriggerToTrue("player.displayClicked"))}),this.player.on("play",function(n){a.amby.dispatch(Ze.setPlayerStatus(ci.states.STATUS_PLAYING)),n.playReason==="interaction"?a.nextButtonClicked?(a.changedQualityPaused||a.player.pause(!0),a.nextButtonClicked=!1,a.changedQualityPaused=!1):(a.amby.dispatch(Ze.upsertPlayerState({isPlayingOnVisible:!0})),a.amby.dispatch(Ze.setTriggerToTrue("player.userPlay"))):a.amby.get("player.isAdPlaying",!1)&&a.player.pause(!0),(a.amby.get("ad.status")===ci.states.STATUS_PLAYING||a.amby.get("player.isAdPlaying",!1))&&a.player.pause(!0)}),this.player.on("pause",function(n){(0,zs.mgDebug)("Player Pause Event ".concat(n.pauseReason)),n.pauseReason==="interaction"&&(a.amby.dispatch(Ze.upsertPlayerState({isPlayingOnVisible:!1})),a.amby.dispatch(Ze.setTriggerToTrue("player.userPause"))),a.amby.dispatch(Ze.setPlayerStatus(ci.states.STATUS_PAUSED))}),this.player.on("error",function(n){a.amby.dispatch(Ze.setPlayerStatus(ci.states.STATUS_ERROR)),(0,zs.mgDebug)(n)}),this.player.on("idle",function(){a.amby.dispatch(Ze.setPlayerStatus(ci.states.STATUS_STOPPED))}),this.player.on("mute",function(n){a.amby.get("player.isControlsVisible",!1)&&!a.amby.get("player.isAdPlaying",!1)&&(n.mute?(a.amby.dispatch(Ze.upsertAdState({initMuted:!0})),a.amby.dispatch(Ze.setTriggerToTrue("player.userMute"))):(a.amby.dispatch(Ze.upsertAdState({initMuted:!1})),a.amby.dispatch(Ze.setTriggerToTrue("player.userUnmute")))),a.amby.dispatch(Ze.setPlayerMuted(n.mute))}),this.player.on("playlistItem",function(n){a.itemIndex=n.index,a.amby.dispatch(Ze.upsertPlayerState({itemIndex:n.index})),a.firstTimeNewItem?a.amby.dispatch(Ze.setTriggerToTrue("player.newItem")):a.firstTimeNewItem=!0}),this.player.on("time",function(n){n.position-a.currentPosition>1&&(a.currentPosition=Math.floor(n.position),a.amby.dispatch(Ze.upsertPlayerState({position:a.currentPosition})))}),this.player.on("firstFrame",function(){a.currentPosition=0,a.amby.dispatch(Ze.upsertPlayerState({duration:a.player.getDuration(),complete:!1})),a.amby.dispatch(Ze.setTriggerToTrue("player.firstFrame"))}),this.player.on("beforeComplete",function(){a.amby.dispatch(Ze.upsertPlayerState({complete:!0}))}),this.player.on("fullscreen",function(n){a.amby.dispatch(Ze.upsertPlayerState({fullscreen:n.fullscreen})),a.player.getState()===Fo&&setTimeout(function(){a.player.play(!0)},100),n.fullscreen||setTimeout(function(){a.fullscreenTimeout()},100)}),this.player.on("seek",function(n){a.amby.dispatch(Ze.setTriggerToTrue("player.seek")),a.amby.dispatch(Ze.upsertPlayerState({position:Math.floor(n.offset)})),a.currentPosition=Math.floor(n.offset)}),this.player.on("controls",function(){var n=a.player.getContainer().querySelector(".jw-controlbar-right-group .jw-icon-next");n&&n.addEventListener("click",function(o){a.amby.dispatch(Ze.setTriggerToTrue("player.nextClicked")),a.nextButtonClicked=!0,o.cancelBubble=!0})}),this.player.on("next",function(){a.amby.dispatch(Ze.setTriggerToTrue("player.next"))}),this.player.on("previous",function(){a.amby.dispatch(Ze.setTriggerToTrue("player.previous"))}),this.player.on("next_2",function(){a.amby.dispatch(Ze.setTriggerToTrue("player.next_2"))}),this.player.on("expand",function(){a.amby.dispatch(Ze.setTriggerToTrue("player.expandBtnClicked")),a.amby.dispatch(Ze.setTriggerToTrue("player.expand"))}),this.player.on("quality",function(n){a.player.getState()===Pr&&(a.changedQualityPaused=!0),a.amby.dispatch(Ze.upsertPlayerState({quality:n.quality}))})},p.prototype.fullscreenTimeout=function(){var a=this;if(!window.screenTop&&!window.screenY||typeof document.webkitCurrentFullScreenElement<"u"&&document.webkitCurrentFullScreenElement!==null)setTimeout(function(){a.fullscreenTimeout()},100);else{var n=Di.Helpers.getParentBlockByClass(this.player.getContainer(),"_mgw_".concat(this.amby.get("widgetId",0)))||this.player.getContainer();window.scrollTo(0,Di.Helpers.getRect(n,!0).top-1)}},p.prototype.onPlayerChangedLocation=function(){var a=this;!this.amby.get("player.isAdPlaying",!1)&&this.player&&this.amby.get("player.status")===ci.states.STATUS_PLAYING&&this.amby.get("formatConfig.inlinePlacement",1)&&setTimeout(function(){a.player.play(!0)},0)},p.prototype.fillPlaylist=function(a){var n=this;a.forEach(function(o){n.playlist.push({file:n.amby.get("formatConfig.quality")==="original"?o.link:o.link.replace(/^([^?]+?)(_360)?\.(mp4|webm)($|\?)/i,"$1_360.$3$4"),image:o.img,title:o.title,mediaid:o.id})})},p}();$s.ContentPlayerComponent=tf});var Xo=Ie(Ys=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty(Ys,"__esModule",{value:!0});Ys.PlaylistComponent=void 0;var af=ot(),Zo=Xe(),di=ze(),sf=st(),rf=function(){function p(a,n){(0,sf.mgDebug)("PlaylistComponent initiated."),this.amby=a,this.popup=n,this.playlist=this.amby.get("playlist",[]),this.checkPlaylist()}return p.prototype.checkPlaylist=function(){var a=this;this.playlist.length===0?setTimeout(function(){a.checkPlaylist()},50):this.onPlaylistFilled()},p.prototype.onPlaylistFilled=function(){this.popup&&this.handlePopupConstructor(),this.amby.get("formatConfig.playerType")!=="none"&&this.addListeners()},p.prototype.handlePopupConstructor=function(){var a=this;this.widgetId=this.amby.get("widgetId",0),this.popupFooter=this.popup.querySelector("div[class*=video-info__footer]"),this.blockMain=di.Helpers.getParentBlockByClass(this.popup,"_mgw_".concat(this.widgetId)),this.blockMain&&(this.videoTeasers=this.blockMain.querySelectorAll(".mgline.vrline"),this.videoTeasers&&(this.videoTeasers=Array.apply(null,this.videoTeasers))),this.linkElems=[],this.playlist.forEach(function(n,o){var l=null,c="javascript:void({'id':'".concat(n.id,"',")+"'link':'".concat(n.link,"','hash':'").concat(n.hash,"'");n.videoExt&&(l=JSON.parse(atob(n.videoExt)),c+=",'videoExt':'".concat(n.videoExt,"'")),c+="})";var d=document.createElement("a");d.className="mgline-pop",d.href=c,d.innerHTML='<div class="image-with-text-pop"><div class="mcimg-pop">'+'<div class="image-container-pop"><img src="'.concat(n.img)+'" class="mcimg-pop" alt="'.concat(n.title,'">')+'</div></div><div class="mgline-pop__playing">Now playing</div><div class="mgline-pop__format-hd">HD</div><div class="mgline-pop__duration"></div><div class="text-elements"><div class="text_on_hover">'+'<div class="mctitle-pop">'.concat(n.title,"</div></div></div></div>"),d.onclick=function(M){a.amby.get("player.isAdPlaying",!1)||a.amby.dispatch(Zo.setTriggerToTrue("playlist.".concat(o,".clicked"))),M.cancelBubble=!0},a.linkElems.push(d),a.popupFooter.appendChild(d);var g=null,y=null;if(l.duration&&(g=l.duration%60,y=Math.floor(l.duration/60)),a.videoTeasers&&a.videoTeasers[o]){var b=a.videoTeasers[o].querySelector(".mg-total-views");b&&l.impressions&&(b.innerText=b.innerText.replace(/^\d*/,l.impressions));var _=a.videoTeasers[o].querySelector(".mg-video-duration");_&&l.duration&&(_.innerText="".concat(y,":").concat(g>9?g:"0".concat(g)))}var k=d.querySelector(".mgline-pop__duration");k&&l.duration&&(k.innerText="".concat(y,":").concat(g>9?g:"0".concat(g))),n.videoExt=l}),this.getScrollDeltas(),window.addEventListener("resize",function(){a.getScrollDeltas()})},p.prototype.addListeners=function(){var a=this;this.amby.addSubListener("player.itemIndex",function(){var n=a.amby.get("player.itemIndex");if(a.itemIndex!==n){a.itemIndex=n;var o=parseInt(a.amby.get("formatConfig.inlinePlacement",1),10);if(o){var l=(0,di.getInObject)(a.playlist,[n,"title"],"");a.amby.dispatch(Zo.upsertTeaser({index:o-1,teaser:{title:l}}))}if(a.popup){if(a.popupFooter){var c=a.popupFooter.querySelectorAll(".current-playing");c&&(c=Array.apply(null,c),c.forEach(function(y){di.Helpers.removeClass(y,"current-playing")})),di.Helpers.addClass(a.linkElems[n],"current-playing"),a.getScrollDeltas(),a.deltaScrollWidth&&(a.popupFooter.scrollLeft=a.deltaScrollWidth*(n-1)),a.deltaScrollHeight&&(a.popupFooter.scrollTop=a.deltaScrollHeight*(n-1))}var d=a.popup.querySelector("div[class*=video-info__title-cell]");d&&(d.innerHTML=a.linkElems[n].querySelector("img").getAttribute("alt"));var g=a.popup.querySelector("div[class*=video-info__sub-title]");g&&((0,di.getInObject)(a.playlist,[n,"videoExt","description"])?g.innerHTML=di.Helpers.fromAscii(a.playlist[n].videoExt.description):g.innerHTML="")}}}),this.popup&&this.amby.addSubListener("player.status",function(){if(a.linkElems&&typeof a.itemIndex<"u"){var n=a.linkElems[a.itemIndex].querySelector(".mctitle-pop");!a.amby.get("player.adIsPlaying",!1)&&a.amby.get("player.status")===af.states.STATUS_PAUSED?di.Helpers.addClass(n,"paused"):di.Helpers.removeClass(n,"paused")}})},p.prototype.getScrollDeltas=function(){this.popupFooter&&this.linkElems.length>0&&(this.popupFooter.scrollWidth>this.popupFooter.scrollHeight?(this.deltaScrollWidth=di.Helpers.getElemWidth(this.linkElems[0]),this.deltaScrollHeight=!1):(this.deltaScrollHeight=di.Helpers.getElemHeight(this.linkElems[0]),this.deltaScrollWidth=!1))},p}();Ys.PlaylistComponent=rf});var Jo=Ie(Zs=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty(Zs,"__esModule",{value:!0});Zs.AnimatedArticleComponent=void 0;var nf=ze(),of=function(){function p(a,n){this.amby=a.amby,this.widget=a,this.rootElement=a.rootElement,this.playerContainerDiv=n,this.placementSelector=this.amby.get("formatConfig.animatedArticleSelector",!1),this.aspectRatio=(this.amby.get("player.aspectratio")||"16:9").match(/(\d+):(\d+)/).reduce(function(o,l,c){return o[["ratio","width","height"][c]]=l,o},{}),this.replaceWithVideo()}return p.prototype.replaceWithVideo=function(){var a=document.body.querySelector(this.placementSelector);a&&(a.parentNode.insertBefore(this.rootElement,a),a.parentNode.removeChild(a));var n=nf.Helpers.getElemWidth(this.rootElement),o=n/(this.aspectRatio.width/this.aspectRatio.height);this.playerContainerDiv.style.height="".concat(o,"px")},p}();Zs.AnimatedArticleComponent=of});var Qo=Ie(ra=>{"use strict";N();V();U();j();z();$();Z();var lf=ra&&ra.__extends||function(){var p=function(a,n){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(o[c]=l[c])},p(a,n)};return function(a,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");p(a,n);function o(){this.constructor=a}a.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(ra,"__esModule",{value:!0});ra.PerformanceBase=void 0;var hi=ot(),Pe=Xe(),lt=ze(),pf=jo(),cf=Yo(),df=Qa(),hf=Xo(),uf=Ba(),mf=ts(),Ii=st(),ff=Ia(),Ko=wa(),gf=us(),yf=fs(),vf=bs(),bf=kr(),xf=Jo(),Ar="visibleNotPause",Ma="visibleOnly",wf="onLoad",Tf=function(p){lf(a,p);function a(n,o){var l=this;return(0,Ii.mgDebug)("PerformanceBase constructor"),l=p.call(this,n)||this,l.addIndexes(l.widget.block.children),l.videoSensorComponent=o,l.getVideoTeaserIndex(function(){l.onTeasersLoaded()}),l}return a.prototype.onTeasersLoaded=function(){var n=this;this.addPlayerBlock(),(0,Ii.mgDebug)(this.playerContainerDiv),this.config.adSchedule&&(setTimeout(function(){n.adPlayerComponent=new pf.AdPlayerComponent(n.widget,n.playerContainerDiv)},0),setTimeout(function(){n.adPlayerComponent.schedule.pre&&n.amby.dispatch(Pe.setAdEnabled(!0))},0)),lt.Helpers.vitalCall(function(){n.styleComponent=new yf.StyleComponent(n.widget),n.styleComponent.styleChecking(function(){n.onStyleLoad()})},this.amby.get("isVital",!0))},a.prototype.onStyleLoad=function(){var n=this;this.amby.get("visibilityKpi")&&this.amby.dispatch(Pe.upsertState({widget:{renderTime:Date.now()}})),this.sticky=!!(0,lt.getInObject)(this.amby.get(),["sticky"],!0)&&!!this.amby.get("formatConfig.sticky",!1),this.stickyAd=!!(0,lt.getInObject)(this.amby.get(),["stickyAd"],!0)&&!!this.amby.get("formatConfig.stickyAd",!1),this.stickyMode=this.formatConfig.stickyMode||"visibleOnly",this.wasVisible=!1,this.showControlBar=!!this.formatConfig.controlbar||!0,this.moveToBody=this.formatConfig.moveToBody||!1,this.playerContentStart=this.amby.get("adSchedule").reduce(function(l,c){return c.offset==="pre"||l},!1),this.playerContentStart&&(lt.Helpers.addClass(this.widget.block,"ctplay"),this.amby.dispatch(Pe.upsertPlayerState({isPlayingOnVisible:!1})));var o=this.amby.get("formatConfig.mgsetup.theme");(!o||o==="mgred")&&lt.Helpers.addClass(this.widget.block,"mgred"),this.playlist=this.widget.mgRec.vr_playlist,this.inlinePlacement=parseInt(this.amby.get("formatConfig.inlinePlacement",1),10),this.autoStart=this.config.autoStart||Ar,this.widgetComponent=new df.WidgetComponent(this.widget,function(){n.onImagesLoaded()})},a.prototype.onImagesLoaded=function(){var n=this;if(this.videoSensorComponent.addTeasersListeners(),this.playerTeaserIndex||(this.playerTeaserIndex=this.amby.get("widget.playerTeaserIndex")),this.playerComponent=new cf.ContentPlayerComponent(this.widget,this.playerContainerDiv,this.formatConfig.mgsetup),this.playerContentStart&&lt.Helpers.addClass(this.playerContainerDiv,"ctplay"),this.muteBtnComponent=new uf.MuteButtonComponent(this.amby,this.playerContainerDiv),(0,lt.getInObject)(this.widgetComponent,["videoTeasers",0,"teaser"])){var o=this.widgetComponent.videoTeasers[0].teaser;this.teaserImgContainer=o.querySelector(".mcimg .image-container"),this.teaserDiv=o}if(this.playlistComponent=new hf.PlaylistComponent(this.amby),this.sticky||this.stickyAd){switch(this.amby.get("formatConfig.sliderSize","m").toLowerCase()){case"s":this.stickyClass="small ";break;case"m":this.stickyClass="medium ";break;case"l":this.stickyClass="large ";break}this.stickyClass+=this.amby.get("formatConfig.sliderAlign","right"),this.closeBtnComponent=new ff.CloseButtonComponent(this.amby,this.playerContainerDiv),this.playerContainerDiv.addEventListener("animationend",function(){n.applyPlayerSize()}),this.playerContainerDiv.addEventListener("transitionend",function(){n.applyPlayerSize()}),this.amby.get("formatConfig.logo",!1)&&(this.logoComponent=new vf.LogoComponent(this.amby,this.playerContainerDiv))}this.amby.get("formatConfig.inArticle",!1)&&(this.inArticleComponent=new bf.InArticleComponent(this.widget,this.teasers[this.playerTeaserIndex],!1),this.amby.addTriggerListener("player.positionChanged",function(){n.applyPlayerSize()})),setTimeout(function(){n.addListeners(),n.amby.get("formatConfig.playerType")==="none"?(n.playerContainerDiv.classList.add("overflow-allowed"),n.amby.get("adSchedule").find(function(l){return l.offset==="pre"})||n.adPlayerComponent.initAdPlayer()):n.amby.dispatch(Pe.setPlayerInit(hi.states.INIT_NEEDED))})},a.prototype.addListeners=function(){var n=this;this.amby.addSubListener("player.status",function(){n.onPlayerStatus(),n.onPlayerStatusBase()}),this.amby.addSubListener("player.visible",function(){n.onPlayerVisible()}),this.amby.addSubListener("player.muted",function(){var l=n.amby.get("player.muted",!0);n.amby.dispatch(Pe.upsertState({muteBtn:{muted:l}}))}),this.amby.addTriggerListener("muteBtn.clicked",function(){n.onMuteBtnClicked()}),this.amby.addTriggerListener("closeBtn.clicked",function(){(0,Ii.mgDebug)("Close Button clicked."),n.amby.get("player.isSticky",!1)?(n.sticky=!1,n.stickyAd=!1,n.amby.dispatch(Pe.upsertGlobalState({sticky:!1,stickyAd:!1})),n.amby.dispatch(Pe.setPlayerSticky(!1)),n.playerContainerDiv.removeAttribute("style"),n.applyPlayerSize(),lt.Helpers.vitalCall(function(){n.onTeaserInSight()},n.amby.get("isVital",!0))):n.amby.get("player.isAdPlaying",!1)&&(n.amby.dispatch(Pe.setTriggerToTrue("ad.closed")),n.amby.dispatch(Pe.setTriggerToTrue("ad.actionClose")))});var o=this.amby.get("teasers",[]);o&&Array.isArray(o)&&o.forEach(function(l,c){n.amby.addTriggerListener("teasers.".concat(c,".clicked"),function(){(0,Ii.mgDebug)("Teaser Clicked"),n.onClick(!0)})}),this.amby.addTriggerListener("player.displayClicked",function(){(0,Ii.mgDebug)("Player Clicked"),n.playerContentStart&&!n.amby.get("player.wasPlaying",!1)&&(n.amby.dispatch(Pe.upsertPlayerState({wasPlaying:!0})),n.showControlBar&&n.amby.dispatch(Pe.upsertPlayerState({isControlsVisible:!0})),n.amby.dispatch(Pe.setTriggerToTrue("player.actionPlay"))),n.amby.dispatch(Pe.setTriggerToTrue("player.playerInTeaserClicked")),n.amby.get("player.muted",!0)&&n.amby.get("formatConfig.unmuteOnClick",!0)&&(n.amby.dispatch(Pe.setTriggerToTrue("player.unmute")),n.amby.dispatch(Pe.upsertAdState({initMuted:!1}))),n.onClick()}),this.amby.addTriggerListener("player.userPlay",function(){n.amby.get("player.muted",!0)&&n.amby.get("formatConfig.unmuteOnClick",!0)&&(n.amby.dispatch(Pe.setTriggerToTrue("player.unmute")),n.amby.dispatch(Pe.upsertAdState({initMuted:!1})))}),this.amby.addSubListener("ad.status",function(){var l=n.amby.get("ad.status"),c=function(d){n.onAdStatus(d),n.onAdStatusBase()};l===hi.states.STATUS_PLAYING?c(l):setTimeout(function(){return c(l)},0)}),this.amby.addSubListener("player.isAdPlaying",function(){n.amby.get("player.isAdPlaying",!1)&&n.amby.get("ad.curAdPosition")==="pre"&&lt.Helpers.addClass(n.playerContainerDiv,"ad-loading")}),([Ma,Ar].indexOf(this.autoStart)!==-1||this.sticky||this.stickyAd)&&(this.amby.addSubListener("teasers.".concat(this.inlinePlacement-1,".inSight"),function(){n.onTeaserInSight()}),(this.sticky||this.stickyAd)&&(this.amby.addSubListener("player.isSticky",function(){n.onPlayerSticky()}),(0,Ko.addSubListener)("sticky",function(){n.sticky=n.amby.get().sticky}),(0,Ko.addSubListener)("stickyAd",function(){n.stickyAd=n.amby.get().stickyAd}))),this.amby.addSubListener("player.fullscreen",function(){n.amby.get("player.fullscreen",!1)?n.amby.dispatch(Pe.setAdEnabled(!1)):n.amby.get("player.expanded",!1)&&setTimeout(function(){n.amby.dispatch(Pe.setAdEnabled(!0))},lt.Helpers.isSafari()?300:0)}),window.addEventListener("resize",function(){n.applyPlayerSize()}),this.playerContainerDiv.addEventListener("mouseenter",function(){n.amby.dispatch(Pe.setPlayerMouseOver(!0))}),this.playerContainerDiv.addEventListener("mouseleave",function(){n.amby.dispatch(Pe.setPlayerMouseOver(!1))}),this.amby.get("widget.allImagesLoaded",!1)?this.applyPlayerSize():(this.amby.addTriggerListener("widget.imageLoaded",function(){n.applyPlayerSize()}),this.amby.addSubListener("widget.allImagesLoaded",function(){n.amby.get("widget.allImagesLoaded",!1)&&n.applyPlayerSize()})),this.amby.addSubListener(["widget","blurred"],function(){n.onWidgetBlurred()}),this.amby.addTriggerListener("ad.clicked",function(){n.onAdClickedTriggerBase()})},a.prototype.addPlayerBlock=function(){if((!this.teasers||this.teasers.length===0)&&(this.teasers=this.widget.block.querySelectorAll(".mgline")),this.playerTeaserIndex||(this.playerTeaserIndex=this.amby.get("widget.playerTeaserIndex")),this.playerTeaserIndex!==null&&this.teasers&&this.teasers[this.playerTeaserIndex]){this.teaserImgContainer=this.teasers[this.playerTeaserIndex].querySelector(".mcimg .image-container"),this.teaserImg=this.teasers[this.playerTeaserIndex].querySelector(".mcimg .image-container img"),this.teaserImgContainer&&(this.playerContainerDiv=document.createElement("div"),this.playerContainerDiv.className="video-info__player",this.playerContainerDiv.id="vrJwPlayerBlock_".concat(this.mgVideoIndex),this.playerDiv=document.createElement("div"),this.rootElement.querySelector("#mgJwPlayer_".concat(this.mgVideoIndex))?this.playerDiv.id="mgJwPlayer_".concat(this.mgVideoIndex,"_").concat(Math.round(Math.random()*1e3)):this.playerDiv.id="mgJwPlayer_".concat(this.mgVideoIndex),this.amby.dispatch(Pe.upsertState({player:{playerId:this.playerDiv.id}})),this.playerContainerDiv.appendChild(this.playerDiv),this.teaserImgContainer.appendChild(this.playerContainerDiv),this.amby.get("animatedArticle",!1)&&(this.animatedArticle=new xf.AnimatedArticleComponent(this.widget,this.playerContainerDiv),this.applyPlayerSize()),this.playerContainerDiv.addEventListener("click",function(o){o.target.className.indexOf("jw-overlays")<0&&(o.cancelBubble=!0)}),this.moveToBodyComponent=new gf.MoveToBodyComponent(this.widgetId,this.playerContainerDiv));var n=this.widget.block.querySelector(".mgbox");n&&n.className.indexOf("MG_Gallery")>-1&&(n.parentNode.insertBefore(this.teasers[this.playerTeaserIndex],n),lt.Helpers.addClass(this.teasers[this.playerTeaserIndex],"vrnofloat"))}else(0,Ii.mgDebug)("Container not found.")},a.prototype.addIndexes=function(n){if(n.length>0)for(var o=0;o<n.length;o++)n[o].getAttribute("id")&&n[o].setAttribute("id",n[o].getAttribute("id")+this.mgVideoIndex),this.addIndexes(n[o].children)},a.prototype.onPlayerStatus=function(){var n=this,o=this.amby.get("player.status");switch((0,Ii.mgDebug)("Player status: ".concat(o)),o){case hi.states.STATUS_READY:lt.Helpers.vitalCall(function(){n.applyPlayerSize()},this.amby.get("isVital",!0)),setTimeout(function(){return n.amby.dispatch(Pe.setAdEnabled(!0))},0),this.inlinePlacement!==null&&setTimeout(function(){return n.initNotInlinePlacementPlayer()},0);break;case hi.states.STATUS_PLAYING:lt.Helpers.removeClass(this.playerContainerDiv,"ad-loading"),this.amby.dispatch(Pe.setPlayerVisible(!0)),this.showControlBar&&this.amby.dispatch(Pe.upsertPlayerState({isControlsVisible:!0})),this.amby.get("videoElemPosition.pWidth")===0&&this.applyPlayerSize();break;case hi.states.STATUS_PAUSED:this.amby.get("videoElemPosition.pWidth")===0&&this.applyPlayerSize();break}},a.prototype.initNotInlinePlacementPlayer=function(){var n=this;this.showControlBar&&!this.playerContentStart&&this.amby.dispatch(Pe.upsertPlayerState({isControlsVisible:!0})),this.stickyAd&&this.amby.get("teasers.".concat(this.inlinePlacement-1,".inSight"),!1)&&!this.isOtherWidgetSticky()&&(this.wasVisible=!0),this.sticky?(this.startScroll&&!(0,lt.getInObject)(this.amby.get(),["initedStartScroll"],!1)?(this.amby.dispatch(Pe.upsertGlobalState({initedStartScroll:!0})),window.addEventListener("scroll",function(){!n.wasVisible&&n.sticky&&n.startOnScroll(function(){n.startInSticky()})}),this.amby.get("teasers.".concat(this.inlinePlacement-1,".inSight"),!1)||this.startOnScroll(function(){n.startInSticky()})):this.stickyMode==="onLoad"&&!this.amby.get("teasers.".concat(this.inlinePlacement-1,".inSight"),!1)&&!this.isOtherWidgetSticky()&&this.startInSticky(),this.amby.get("teasers.".concat(this.inlinePlacement-1,".inSight"),!1)&&(this.isOtherWidgetSticky()||(this.wasVisible=!0),this.playerContentStart||this.amby.dispatch(Pe.setTriggerToTrue("player.actionPlay")))):(this.autoStart===wf||this.amby.get("teasers.".concat(this.inlinePlacement-1,".inSight"),!1))&&!this.playerContentStart&&this.amby.dispatch(Pe.setTriggerToTrue("player.actionPlay")),this.playerContentStart&&this.amby.dispatch(Pe.setPlayerVisible(!0))},a.prototype.onTeaserInSight=function(){var n=this;this.sticky&&!this.isOtherWidgetSticky()?(this.amby.get("teasers.".concat(this.inlinePlacement-1,".inSight"),!1)?(this.wasVisible=!0,this.amby.dispatch(Pe.setPlayerSticky(!1)),[Ma,Ar].indexOf(this.autoStart)!==-1&&this.amby.get("player.status")!==hi.states.STATUS_PLAYING&&this.amby.get("player.isPlayingOnVisible",!0)&&!this.amby.get("player.isAdPlaying",!1)&&this.amby.dispatch(Pe.setTriggerToTrue("player.actionPlay"))):this.wasVisible&&this.amby.dispatch(Pe.setPlayerSticky(!0)),setTimeout(function(){return n.applyPlayerSize()},0)):this.stickyAd&&this.amby.get("player.isAdPlaying",!1)?this.amby.get("teasers.".concat(this.inlinePlacement-1,".inSight"),!1)?(this.isOtherWidgetSticky()||(this.wasVisible=!0),this.amby.dispatch(Pe.setPlayerSticky(!1))):this.wasVisible&&!this.isOtherWidgetSticky()&&this.amby.dispatch(Pe.setPlayerSticky(!0)):this.inlinePlacement&&!this.amby.get("player.expanded",!1)&&(this.amby.get("player.isAdPlaying",!1)?this.amby.get("teasers.".concat(this.inlinePlacement-1,".inSight"),!1)&&!this.focusPaused?this.amby.get("player.isPlayingOnVisible",!0)&&this.amby.dispatch(Pe.setTriggerToTrue("ad.actionPlay")):this.autoStart===Ma&&this.amby.dispatch(Pe.setTriggerToTrue("ad.actionPause")):this.amby.get("teasers.".concat(this.inlinePlacement-1,".inSight"),!1)&&!this.focusPaused?(this.stickyAd&&!this.wasVisible&&!this.isOtherWidgetSticky()&&(this.wasVisible=!0),this.amby.get("player.isPlayingOnVisible",!0)&&this.amby.dispatch(Pe.setTriggerToTrue("player.actionPlay"))):this.autoStart===Ma&&this.amby.dispatch(Pe.setTriggerToTrue("player.actionPause")))},a.prototype.onPlayerSticky=function(){var n=this;this.amby.get("player.isSticky",!1)?(lt.Helpers.addClass(this.playerContainerDiv,this.stickyClass),this.moveToBody&&this.moveToBodyComponent.attachBody()):(lt.Helpers.removeClass(this.playerContainerDiv,this.stickyClass),this.moveToBody&&this.moveToBodyComponent.detachBody(this.teaserImgContainer)),this.applyPlayerSize(),setTimeout(function(){n.applyPlayerSize()},100)},a.prototype.onAdStatus=function(n){switch(n){case hi.states.STATUS_READY:this.stickyAd=this.amby.get("formatConfig.stickyAd",!1),lt.Helpers.removeClass(this.playerContainerDiv,"ad-loading"),this.amby.get("teasers.".concat(this.inlinePlacement-1,".inSight"),!1)?this.isOtherWidgetSticky()||(this.wasVisible=!0):this.autoStart===Ma&&this.amby.dispatch(Pe.setTriggerToTrue("player.actionPause"));break;case hi.states.STATUS_PLAYING:lt.Helpers.removeClass(this.playerContainerDiv,"ad-loading"),this.amby.dispatch(Pe.setPlayerVisible(!1)),lt.Helpers.addClass(this.teaserDiv,"ad-show"),this.amby.dispatch(Pe.upsertState({ad:{visible:!0}}));break;case hi.states.STATUS_STOPPED:this.stickyAd&&this.amby.get("player.isSticky",!1)&&(this.amby.dispatch(Pe.setPlayerSticky(!1)),this.amby.dispatch(Pe.setTriggerToTrue("player.actionPause"))),this.amby.dispatch(Pe.setPlayerVisible(!0)),lt.Helpers.removeClass(this.teaserDiv,"ad-show");break}},a.prototype.onClick=function(n){if(n===void 0&&(n=!1),this.itemIndex=this.amby.get("player.itemIndex"),this.itemIndex!==null){var o=this.amby.get("playlist.".concat(this.itemIndex,".videoExt"));typeof o=="string"&&(o=JSON.parse(atob(o)));var l=o.clickUrl;if(l){l=lt.Helpers.fromAscii(l);var c=window.open(l,"_blank");c&&(this.amby.dispatch(Pe.setTriggerToTrue("player.openPage")),c.focus(),n&&this.amby.dispatch(Pe.setTriggerToTrue("player.actionPause")))}else!this.amby.get("player.isAdPlaying")&&n&&(this.amby.get("player.status")===hi.states.STATUS_PLAYING?this.amby.dispatch(Pe.setTriggerToTrue("player.actionPause")):this.amby.dispatch(Pe.setTriggerToTrue("player.actionPlay")))}},a.prototype.onMuteBtnClicked=function(){(0,Ii.mgDebug)("Mute Button clicked."),this.muted=this.amby.get("player.muted",!1),this.muted?(this.amby.dispatch(Pe.setTriggerToTrue("player.userUnmute")),this.amby.dispatch(Pe.setTriggerToTrue("player.unmute")),this.amby.dispatch(Pe.upsertAdState({initMuted:!1}))):(this.amby.dispatch(Pe.setTriggerToTrue("player.userMute")),this.amby.dispatch(Pe.setTriggerToTrue("player.mute")),this.amby.dispatch(Pe.upsertAdState({initMuted:!0})))},a.prototype.onPlayerVisible=function(){var n=this.amby.get("player.visible",!1);n?lt.Helpers.addClass(this.playerContainerDiv,"showed"):lt.Helpers.removeClass(this.playerContainerDiv,"showed")},a.prototype.applyPlayerSize=function(n){var o=this;n===void 0&&(n=!0),lt.Helpers.vitalCall(function(){o.videoElementPosition(),o.teaserImgPosition(n)},this.amby.get("isVital",!0))},a.prototype.videoElementPosition=function(){this.playerContainerDiv.removeAttribute("style");var n=lt.Helpers.getElemWidth(this.playerContainerDiv),o=n,l=o/(this.aspectRatio.width/this.aspectRatio.height),c=lt.Helpers.getElemHeight(this.playerContainerDiv);if(c===0){var d=lt.Helpers.getImgSizeByUrl(this.teaserImg.src);d?(c=d.height,c<=0&&(c=l),this.playerContainerDiv.style.height="".concat(c,"px")):c=l}c>l&&(l=c,o=l*(this.aspectRatio.width/this.aspectRatio.height)),(this.sticky||this.stickyAd)&&this.amby.get("player.isSticky",!1)&&(o=n,c=n/(this.aspectRatio.width/this.aspectRatio.height),l=c,this.playerDiv.style.width="".concat(o,"px"),this.playerContainerDiv.style.width="".concat(o,"px")),this.playerContainerDiv.style.height="".concat(c,"px"),this.playerDiv.style.height="".concat(l,"px");var g={width:n,height:c,pWidth:o,pHeight:l};lt.Helpers.isIE()&&(g.top=0,g.left=0),this.amby.dispatch(Pe.upsertState({videoElemPosition:g,player:{size:{width:o,height:l}}}))},a.prototype.teaserImgPosition=function(n){var o=this.teaserImgContainer.getBoundingClientRect();this.amby.dispatch(Pe.setPlayerTeaserPosition({top:o.top-this.widget.block.getBoundingClientRect().top,left:o.left-this.widget.block.getBoundingClientRect().left,width:o.width,height:o.height||0})),n&&(this.amby.dispatch(Pe.setTriggerToTrue("player.resize")),this.amby.dispatch(Pe.setTriggerToTrue("player.teaserPositionChanged")))},a.prototype.startInSticky=function(){this.amby.dispatch(Pe.setPlayerSticky(!0)),this.applyPlayerSize(),this.playerContentStart||this.amby.dispatch(Pe.setTriggerToTrue("player.actionPlay"))},a.prototype.getVideoTeaserIndex=function(n){var o=this;this.teasers=this.widget.block.querySelectorAll(".mgline"),(!this.teasers||this.teasers.length===0||Array.apply(null,this.teasers).filter(function(d){return d.className.indexOf("vrline")>=0}).length===0)&&setTimeout(function(){o.getVideoTeaserIndex(n)},50),this.inlinePlacement||(this.inlinePlacement=parseInt(this.amby.get("formatConfig.inlinePlacement",1),10));for(var l=0,c=0;c<this.teasers.length;c++)if(this.teasers[c].className.indexOf("vrline")>-1){if(this.inlinePlacement!==null&&this.inlinePlacement===l+1){this.playerTeaserIndex=c,this.amby.dispatch(Pe.upsertState({widget:{playerTeaserIndex:this.playerTeaserIndex}})),n&&n();break}l+=1}},a}(mf.FormatBase);ra.PerformanceBase=Tf});var el=Ie(Xs=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty(Xs,"__esModule",{value:!0});Xs.NativeBase=void 0;var Sf=ot(),Ei=ze(),_f=Qo(),Cf=Xe(),kf=ds(),Df=function(){function p(){}return p.init=function(a,n){var o=this,l=(0,Ei.getInObject)(a,["mgRec","config","formats"]),c=(0,Ei.getInObject)(a,["mgRec","cappingData","dt"],"desktop");if(c==="tablet"&&(c="mobile"),Array.isArray(l)){for(var d=0;d<l.length;d++)if(l[d].device===c&&l[d].name==="native"&&(!l[d].test||Ei.Helpers.getUrlParam(l[d].test)||Ei.Helpers.getCookie(l[d].test))){var g=(0,Ei.getInObject)(a,["mgRec","config","parentCid"],(0,Ei.getInObject)(a,["mgRec","cid"])),y=(0,Ei.getInObject)(a,["mgRec","config","isVital"],!0),b=(0,Sf.createAmby)("video_".concat(g,"_").concat(n));b.dispatch(Cf.setFormatConfig(l[d])),a.amby=b,a.formatConfig=l[d],(l[d].performance===!0||l[d].sticky===!0&&!l[d].embedded)&&(this.videoSensorComponent=new kf.VideoSensorComponent(a),Ei.Helpers.vitalCall(function(){a.performance=new _f.PerformanceBase(a,o.videoSensorComponent)},y));break}}},p}();Xs.NativeBase=Df});var tl=Ie(Ut=>{"use strict";N();V();U();j();z();$();Z();var If=Ut&&Ut.__createBinding||(Object.create?function(p,a,n,o){o===void 0&&(o=n);var l=Object.getOwnPropertyDescriptor(a,n);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[n]}}),Object.defineProperty(p,o,l)}:function(p,a,n,o){o===void 0&&(o=n),p[o]=a[n]}),Ni=Ut&&Ut.__exportStar||function(p,a){for(var n in p)n!=="default"&&!Object.prototype.hasOwnProperty.call(a,n)&&If(a,p,n)};Object.defineProperty(Ut,"__esModule",{value:!0});Ni(st(),Ut);Ni(Xn(),Ut);Ni(Gi(),Ut);Ni(ze(),Ut);Ni(Qn(),Ut);Ni(Go(),Ut);Ni(el(),Ut)});var il=Ie(Pi=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty(Pi,"__esModule",{value:!0});Pi.servLibrary=Pi.loadLibrary=Pi.loadStyles=void 0;var Wa=tl();window._mgLib1_11_184||(window._mgLib1_11_184=function(){function p(a,n){this.block=a,this.mgRec=n,this.modules=p.modules,this.libConfig=p.libConfig,this.rootElement=null,this.amby=null,this.served=!1,window._mgwhook&&window._mgwhook(this),this.initBlock()}return p.prototype.initBlock=function(){for(var a in p.modules)if(p.modules.hasOwnProperty(a)&&p.modules[a].init)try{p.modules[a].init(this,p.widgets.length)}catch(n){this.hasOwnProperty("debug")&&typeof this.debug=="function"&&this.debug("Error in ".concat(a,": ").concat(n.toString()))}},p.prototype.setConfig=function(a){this.mgRec.config=a},p._mgload=function(a){typeof this.log>"u"&&(this.log=new Wa.Debug(Wa));var n=a.config.parentCid||a.cid;this.log.debug(new Date().getTime()-window.performance.timing.navigationStart),this.log.debug("_mgload: "+n+" libVer: 1_11_184 DOMLoaded: "+p.DOMContentLoaded),a.rootElement=a.rootElement||document;var o=a.rootElement.getElementsByClassName("_mgw_"+n);if(o.length===0&&a.rootElement.classList&&a.rootElement.classList.contains("_mgw_"+n)&&(o=[],o.push(a.rootElement)),o.length===0){o=[];for(var l=a.rootElement.querySelectorAll("div[class*=vrPopup]"),c=0,d=l.length;c<d;c++)l[c].parentNode&&o.push(l[c].parentNode)}for(var c=0,d=o.length;c<d;c++)o[c].getAttribute("data-mgloaded")||(this.log.debug(o[c]),o[c].setAttribute("data-mgloaded","true"),p.widgets.push(new p(o[c],a)))},p._mgserv=function(a){typeof this.log>"u"&&(this.log=new Wa.Debug(Wa));var n=a.config.parentCid||a.cid;this.log.debug("_mgserv: "+n+" libVer: 1_11_184");var o=p.widgets;if(o&&o.length>0)for(var l=0;l<o.length;l++){var c=o[l].mgRec.config.parentCid||o[l].mgRec.cid;if(n===c&&!o[l].served){o[l].served=!0,o[l].mgRec.vr_playlist=a.vr_playlist,o[l].mgRec.cappingData=a.cappingData,a.config&&(o[l].mgRec.config.uuid=a.config.uuid,o[l].mgRec.config.templateId=a.config.templateId,o[l].mgRec.config.subid=a.config.subid),o[l].amby.dispatch({type:"UPSERT_STATE",state:{playlist:a.vr_playlist,cappingData:a.cappingData,servLib:a.servLib,cxurl:a.cxurl}}),a.config.vastContent&&o[l].amby.dispatch({type:"UPSERT_STATE",state:{ad:{vastContent:a.config.vastContent}}});break}}},p.prototype.getWidgets=function(){return p.widgets},p.prototype.isDOMContentLoaded=function(){return p.DOMContentLoaded},p}(),_mgLib1_11_184.modules=Wa,_mgLib1_11_184.widgets=[],_mgLib1_11_184.DOMContentLoaded=document.readyState!=="loading",_mgLib1_11_184.libConfig=JSON.parse('{"jwPlayerIdVrw":"//content.jwplatform.com/libraries/WLok6WPd.js","mgPlayerStylesUrlTemplate":"//{{DOMAIN}}/mgPlayer/css/mgPlayer_v2.css","teaserCappingSensorUrlTemplate":"//{{DOMAIN}}/c","videoSensorUrlTemplate":"//{{DOMAIN}}/vs/","adSrcNoUiUrlTemplate":"//video-native.{{DOMAIN}}/scripts/adSrcNoUi.js","baseStylesUrlTemplate":"//{{DOMAIN}}/mgPlayer/css/","lang":{"skipText":{"en":"Skip","uk":"\u041F\u0440\u043E\u043F\u0443\u0441\u0442\u0438\u0442\u0438","ru":"\u041F\u0440\u043E\u043F\u0443\u0441\u0442\u0438\u0442\u044C"},"skipOffsetText":{"en":"Skip ad in %s","uk":"\u041F\u0440\u043E\u043F\u0443\u0441\u0442\u0438\u0442\u0438 \u0440\u0435\u043A\u043B\u0430\u043C\u0443 \u0447\u0435\u0440\u0435\u0437 %s","ru":"\u041F\u0440\u043E\u043F\u0443\u0441\u0442\u0438\u0442\u044C \u0440\u0435\u043A\u043B\u0430\u043C\u0443 \u0447\u0435\u0440\u0435\u0437 %s"},"clickText":{"en":"Learn more","uk":"\u0414\u0456\u0437\u043D\u0430\u0442\u0438\u0441\u044F \u0431\u0456\u043B\u044C\u0448\u0435","ru":"\u0423\u0437\u043D\u0430\u0442\u044C \u0431\u043E\u043B\u044C\u0448\u0435"},"headerText":{"en":"Advertisement","uk":"\u0420\u0435\u043A\u043B\u0430\u043C\u0430","ru":"\u0420\u0435\u043A\u043B\u0430\u043C\u0430"}}}'),document.addEventListener("DOMContentLoaded",function(){document.location.href.indexOf("mgwdebug")>0&&console.info("DOMContentLoaded: ".concat(new Date().getTime()-window.performance.timing.navigationStart)),_mgLib1_11_184.DOMContentLoaded=!0}));function Ef(p,a){if(!p.querySelector("#mgPlayerStyles")){var n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href","".concat(a)),n.id="mgPlayerStyles",n.addEventListener("load",function(){n.setAttribute("data-loaded","true")}),document.getElementById("mgPlayerStyles")||document.head.appendChild(n),p.isEqualNode(document)||p.appendChild(n.cloneNode(!0))}}Pi.loadStyles=Ef;function Pf(p){return window._mgLib1_11_184._mgload(p)}Pi.loadLibrary=Pf;function Af(p){return window._mgLib1_11_184._mgserv(p)}Pi.servLibrary=Af});var na,oa,Lr=ke(()=>{N();V();U();j();z();$();Z();Zn();Nt();(function(p){p.beforeInjectScriptEvent="beforeinjectscriptevent"})(na||(na={}));oa=class{constructor(a,n,o,l,c,d){this.blankImage=`data:image/svg+xml,%3Csvg
            xmlns="http://www.w3.org/2000/svg"
            width="492" height="277"
            viewBox="0 0 492 277"
            %3E%3C/svg%3E`,this.hrefAttr="href",this.enabledCooperationTypes=JSON.parse('["wages"]'),this.BaseBlockClass=oa,this.app=this,this.context=n,this.root=this.context.document.getElementById(a),this.debugBlock=new Ga(this),this.lifeCycleLoadResolver=null,this.waitConsentResolver=null,this.rootId=a,this.containerId=l,this.uniqId=c,this.fallbackMode=o,this.page=1,this.adlink="",this.template="",this.templateContent=null,this.id=1401472,this.originalId=1401472,this.pvid="",this.muid="",this.beforeInitBlockHooks=[],this.afterPreRenderNewsHooks=[],this.beforeInjectScriptHooks=[],this.beforeInjectTemplateHooks=[],this.beforeLoadNewsHooks=[],this.afterLoadNewsHooks=[],this.afterInjectScriptHooks=[],this.beforePrepareCappingDataHooks=[],this.afterPrepareCappingDataHooks=[],this.afterSendCappingHooks=[],this.beforeInitHooks=[],this.afterInitHooks=[],this.beforeInjectScriptEvent=null;try{typeof CustomEvent=="function"?this.beforeInjectScriptEvent=new CustomEvent(na.beforeInjectScriptEvent):(this.beforeInjectScriptEvent=this.context.document.createEvent("CustomEvent"),this.beforeInjectScriptEvent.initCustomEvent(na.beforeInjectScriptEvent))}catch{this.beforeInjectScriptEvent=null}if(this.blocksAddress="",this.tickerPrefix="",this.countLoadBlocks=0,this.preTemplate="",this.postTemplate="",this.banners={},this.loadedDefault=!1,this.teaserData={},this.servicerData={},this.pagesServicerData=[],this.childWidgetsData=JSON.parse('{"1440407":{"childId":1440407,"newsWidgetIdPartner":0,"customFuncBlocks":[],"showMonetizationEnabled":0,"childCountNews":17,"isAdblockChild":false,"childSubtype":"smart-plus"},"1461248":{"childId":1461248,"newsWidgetIdPartner":0,"customFuncBlocks":[],"showMonetizationEnabled":1,"childCountNews":6,"isAdblockChild":true,"childSubtype":"under-article-widget-adblock"}}'),this.versionWidget=d,this.sspPerformance=10>=Math.ceil(Math.random()*100),this.doubleClickType="",this.doubleClickCheckId=0,this.doubleClickPercent=0,this.widgetConstructorData=JSON.parse('{"blur":"auto","cols":1,"font":"arial","kind":"wages","rows":15,"type":"smart","media":{"opacity":80,"duration":1,"minWidth":250,"position":"bottom","minHeight":150,"videoOverlay":1},"mgbox":{"styles":{"maxWidth":1220}},"price":false,"theme":"#2b397b","width":"100%","button":1,"mcdesc":{"styles":{"font":"verdana","color":"#666666","display":"none","fontSize":11,"fontStyle":"normal","textAlign":"center","fontWeight":"normal","textDecoration":"none"}},"mgline":{"styles":{"width":"150","height":"120","margin":"2","borderColor":"#ffffff","borderStyle":"solid","borderWidth":0,"borderRadius":"0"}},"imgType":"super","mcimage":{"size":200,"styles":{"padding":0,"borderColor":"#ffffff","borderStyle":"solid","borderWidth":0},"size-width":492,"size-height":277},"mcprice":{"show":"false","styles":{"font":"verdana","color":"#2a3a7b","fontSize":14,"fontStyle":"normal","textAlign":"left","fontWeight":"bold","textDecoration":"none"}},"mctable":{"styles":{"borderColor":"","borderWidth":0,"backgroundColor":""}},"mctitle":{"styles":{"color":"#515150","fontSize":"17","fontStyle":"normal","textAlign":"center","fontWeight":"bold","text-transform":"uppercase","textDecoration":"none"}},"subType":"smart-plus","mcdomain":{"styles":{"font":"arial","color":"#bbbbbb","display":"block","fontSize":10,"fontStyle":"normal","textAlign":"center","fontWeight":"normal","textDecoration":"none"}},"rerunAds":"0","isToaster":"","colsMobile":2,"isDragDown":"","previewImg":"https:\\/\\/cdn.mgid.com\\/images\\/draw-widget-preview.jpg","colorButton":"","imageFormat":46,"imageShadow":"","scrollEffect":"0","textPosition":"bottom","autoplacement":"off","formatChanged":true,"customGradient":"","isInterstitial":"","popupFrequency":15,"widgetFormatId":7,"is_int_exchange":"1","mobileWidgetImg":"https:\\/\\/cdn.mgid.com\\/images\\/mobile-widget-preview.png","passageFrequency":60,"showEffectButton":"false","showWidgetButton":"true","teaserCardShadow":"0","teaserFixedWidth":"0","imageScaleOnHover":"","interstitialAfter":3,"is_show_ad_marker":0,"frequencyOfDisplay":"1","widgetTitleSettings":{"styles":{"font":"arial","color":"#2b397b","fontSize":14,"text-transform":"uppercase"}},"frequencyCappingShow":3,"frequencyCappingTime":2,"notificationPosition":"top","toasterInactivityTime":8,"widgetTypeDescription":1}'),typeof this.widgetConstructorData.mctitle<"u"&&typeof this.widgetConstructorData.mctitle.styles<"u"&&typeof this.widgetConstructorData.mctitle.styles.fontSize<"u"?this.autoSizeTitle=this.widgetConstructorData.mctitle.styles.fontSize:this.autoSizeTitle=0,this.globalSettings=JSON.parse('{"capping_observer_threshold":"0.5","current_language":"en","widget_lazy_load_margin":"1000","accidental_clicks_delay":"10","ia_page_view_timeout":"180","ia_page_imp_timeout":"180","widget_intentiq_refresh_millis":"43200000","retention_tool_widget_utm":"utm_mgid_push","except_ads_limit":"150"}'),this.preRenderImageSizes={},this.preRenderTeaserSizes={},this.customBanners=JSON.parse('{"1401472":[],"1440407":[],"1461248":[]}'),this.initServicerRequest=!0,this.exceptAdsList=[],this.clickHandlers=[],this.observerWidgetHooks=[],this.observerTeasersHooks=[],this.sspDoubleClickHash=[],this.requestParams={},this.userAgentDataParams=null,this.consentDataParams=null,this.webProtocol="https:",this.clickHandlerList={onSiteNotificationClick:{handler:"onSiteNotificationHandler",priority:8},onSmartDoubleClick:{handler:"onSmartDoubleClickHandler",priority:10},onAntifraudStatisticsClick:{handler:"onAntifraudStatisticsClickHandler",priority:15},sspDoubleClick:{handler:"sspDoubleClickHandler",priority:20},activateDelayLink:{handler:"activateDelayLinkHandler",priority:30},accidentalClicks:{handler:"accidentalClicksHandler",priority:50},externalCountersLink:{handler:"externalCountersLinkHandler",priority:100},returnedRefreshClick:{handler:"returnedRefreshClickHandler",priority:120},internalExchangeLogger:{handler:"internalExchangeLoggerHandler",priority:150},showDesktopDoubleClick:{handler:"showDesktopDoubleClickButton",priority:150},showMobileDoubleClick:{handler:"showDoubleClickButton",priority:150},hangNiceLinkListener:{handler:"hangNiceLinkListener",priority:200},closeWidgetClick:{handler:"closeWidget",priority:600},refreshNews:{handler:"refreshNewsHandler",priority:700}},this.context.self!==this.context.top){let g=this.context.document.referrer.split("/");this.intExchangeProtocol=g[0].indexOf("http")==0?g[0]:"https:"}else{let g=this.context.document.location.protocol;this.intExchangeProtocol=g.indexOf("http")==0?g:"https:"}this.sourceName="",this.setTemplate(`<div class="mgbox">\r
	<!--advertPrefix-->\r
	{foreach}\r
    {if this.iteration == 1}<div class="row1">{/if}\r
    {if this.iteration == 2}</div><div class="row2">{/if}\r
    {if this.iteration == 4}</div><div class="row3">{/if}\r
    {if this.iteration == 5}</div><div class="row1">{/if}\r
    {if this.iteration == 6}</div><div class="row4">{/if}\r
    {if this.iteration == 8}</div><div class="row3">{/if}\r
    {if this.iteration == 9}</div><div class="row1">{/if}\r
    {if this.iteration == 10}</div><div class="row2">{/if}\r
    {if this.iteration == 12}</div><div class="row3">{/if}\r
    {if this.iteration == 13}</div><div class="row1">{/if}\r
    {if this.iteration == 14}</div><div class="row2">{/if}\r
    {if this.iteration == 16}</div><div class="row1">{/if}\r
    {if this.iteration == 18}</div><div class="row2">{/if}\r
    {if this.iteration == 20}</div><div class="row1">{/if}\r
    {if this.iteration == 22}</div><div class="row2">{/if}\r
    {if this.iteration == 24}</div><div class="row1">{/if}\r
    {if this.iteration == 26}</div><div class="row2">{/if}\r
    {if this.iteration == 28}</div><div class="row1">{/if}\r
    {if this.iteration == 29}</div><div class="row2">{/if}\r
    {if this.iteration == 31}</div><div class="row1">{/if}\r
    {if this.iteration == 32}</div><div class="row2">{/if}\r
    {if this.iteration == 34}</div><div class="row1">{/if}\r
    {if this.iteration == 35}</div><div class="row2">{/if}\r
    {if this.iteration == 37}</div><div class="row1">{/if}\r
    {if this.iteration == 38}</div><div class="row2">{/if}\r
    {if this.iteration == 40}</div><div class="row1">{/if}\r
    {if this.iteration == 41}</div><div class="row2">{/if}\r
    {if this.iteration == 43}</div><div class="row1">{/if}\r
    {if this.iteration == 44}</div><div class="row2">{/if}\r
    {if this.iteration == 46}</div><div class="row1">{/if}\r
    {if this.iteration == 47}</div><div class="row2">{/if}\r
    {if this.iteration == 49}</div><div class="row1">{/if}\r
    {if this.iteration == 51}</div><div class="row2">{/if}\r
    {if this.iteration == 53}</div><div class="row1">{/if}\r
    {if this.iteration == 54}</div><div class="row2">{/if}\r
    {if this.iteration == 56}</div><div class="row1">{/if}\r
    {if this.iteration == 57}</div><div class="row2">{/if}\r
    {if this.iteration == 59}</div><div class="row1">{/if}\r
    {if this.iteration == 60}</div><div class="row2">{/if}\r
    {if this.iteration == 62}</div><div class="row1">{/if}\r
    {if this.iteration == 63}</div><div class="row2">{/if}\r
    {if this.iteration == 65}</div><div class="row1">{/if}\r
    {if this.iteration == 66}</div><div class="row2">{/if}\r
	<div class="mgline">\r
		{if $banner}{$banner}{/if}\r
		{if $teaser}\r
		<a class="allink" {$target} {$href}></a>\r
		<div class="image-with-text">\r
			<div class="mcimg">\r
				<a {$target} {$href} >\r
					<div class="image-container">\r
						<div class="image-gradient">\r
							<img class="mcimg" {$src} />\r
							<!--intExchangeWagesImagePlace-->\r
						</div>\r
					</div>\r
				</a>\r
			</div>\r
			<div class="text-elements">\r
				<div class="text_on_hover">\r
					<div class="mctitle"><a {$target} {$href}>{$title}</a></div>\r
					<div class="mcdesc"><a {$target} {$href}>{$desc}</a></div>\r
					<div class="mcdomain"><a {$target} {$href}>{$source}</a></div>\r
				</div>\r
			</div>\r
		</div>\r
		{/if}\r
	</div>\r
	{/foreach}\r
</div>\r
</div>\r
`.replace(/[\r\n]/g,"")),this.setStyles(".mgbox * { -webkit-transition: all .25s; -moz-transition: all .25s; -ms-transition: all .25s; -o-transition: all .25s; transition: all .25s; } .mgbox { padding: 0 !important; position: relative !important; text-align: center; vertical-align: top !important; margin: 0 auto; border-style: none; display: -ms-flexbox; display: -webkit-flex; display: flex; -webkit-flex-direction: row; -ms-flex-direction: row; flex-direction: row; -webkit-flex-wrap: wrap; -ms-flex-wrap: wrap; flex-wrap: wrap; line-height: 100% !important; transition: none !important; box-sizing: border-box; width: 100%; max-width: 680px; font-family: Arial; } .mgheader { border-bottom: 1px solid #ccc !important; padding-bottom: 3px; margin-bottom: 10px; } .mgheader div a { position: relative; top: -5px; } .mgheader div img { position: relative; top: 5px; height: 27px; } .mghead { color: #333; font-size: 17px; line-height: 1.2; text-transform: uppercase !important; margin: 5px 0 0 0 !important; font-family: Arial; font-weight: 400; } .mgline { background: transparent; cursor: pointer; display: inline-block; _overflow: hidden; *zoom: 1; *display: inline; border: none; box-sizing: border-box; display: -ms-flexbox; display: -webkit-flex; display: flex; -webkit-flex-direction: column; -ms-flex-direction: column; flex-direction: column; word-wrap: break-word; vertical-align: top; position: relative; margin-bottom: 5px; } .mgline .allink { height: 100%; width: 100%; display: block; position: absolute; cursor: pointer; z-index: 999; } .mgline .image-with-text { width: 100% !important; height: auto; max-width: 100%; margin: 0 auto; position: relative; } .mgline .image-container { position: relative; } div.mcimg { padding: 0; text-align: center; display: block !important; } .mgline:hover:not(.vrline) div.mcimg { opacity: 0.8 !important; } img.mcimg { border-style: none; width: 100%; height: auto !important; max-width: 680px; max-height: 385px; box-sizing: border-box; display: block; margin: 0; } .mgline .text-elements { padding-top: 10px; } .text-elements a { text-decoration: none; } .mgline .text_on_hover a { top: 0; left: 0; } .mctitle { text-align: left; } .mctitle a { font-family: Arial; font-weight: bold; font-size: 20px; line-height: 22px; font-style: normal; text-decoration: none; color: #333; letter-spacing: -0.4px; } .mgline:hover .mctitle a { color: #0F4B81; text-decoration: none; } .mcdesc { display: none; text-align: left; } .mcdesc a { font-family: Arial; font-weight: normal; font-size: 16px; line-height: 20px; font-style: normal; text-decoration: none; color: #a9a9a9; } .mcdomain { display: block; text-align: left; margin-top: 10px; } .mcdomain a { font-family: Arial; font-weight: 400; font-size: 17px; line-height: 16px; font-style: normal; text-decoration: none; color: #A9A9A9; display: block; overflow: hidden; text-transform: uppercase; letter-spacing: 0.85px; } @supports not (flex-wrap: wrap) { .mgbox { display: block !important; } .mgline { display: inline-block !important; } } img.mcimgad { position: absolute; bottom: 0; right: 0; z-index: 10; opacity: 0.7; width: 20px; height: 20px; } .mgbox .row1, .mgbox .row2, .mgbox .row3, .mgbox .row4 { display: flex; flex-direction: row; flex-wrap: wrap; width: 100%; max-width: 100%; position: relative; margin: 0 0 5px !important; } .mgbox .row1 .mgline { width: 100%; max-width: 100%; } .row1 .mgline img.mcimgad { left: 0; } .row1 .mgline .text_on_hover { padding: 0 0 10px; z-index: 10; } .row1 .mgline .mcdesc { margin-top: 10px; } .row1 .mgline .image-container:before { content: \\'\\'; display: inline-block; position: absolute; left: 0 !important; width: 100%; height: 100%; z-index: 10; } .mgbox .row2 .mgline { width: 49.5%; max-width: 49.5%; } .row2 .mgline .text_on_hover { padding: 0 0 10px; z-index: 10; } .row2 .mgline .mcdesc { margin-top: 5px; max-height: 32px; overflow: hidden; } .row2 .mgline .image-container:before { content: \\'\\'; display: inline-block; position: absolute; left: 0 !important; width: 100%; height: 100%; z-index: 10; } .row2 .mgline:first-child { margin-right: 1%; } .mgbox .row3 .mgline { width: 100%; max-width: 100%; } .row3 .mgline .image-container:before { content: \\'\\'; display: inline-block; position: absolute; left: 0 !important; width: 100%; height: 100%; z-index: 10; } .row3 .mgline .text_on_hover { padding: 0 0 10px; z-index: 10; } .row3 .mgline .mcdesc { display: block; text-align: left; margin-top: 10px; } .mgbox .row4 .mgline { width: 49.5%; } .row4 .mgline:first-child { margin-right: 1%; } .row4 .mgline .image-container:before { content: \\'\\'; display: inline-block; position: absolute; left: 0 !important; width: 100%; height: 100%; z-index: 10; } .row4 .mgline .text_on_hover { padding: 0 0 10px; z-index: 10; } .row4 .mgline .mcdesc { margin-top: 5px; max-height: 32px; overflow: hidden; } .row4 .mgline:first-child .image-with-text { position: initial !important; } .row2 .mgline .mctitle, .row4 .mgline .mctitle { margin-bottom: 5px !important; } .row2 .mgline .mcdesc, .row4 .mgline .mcdesc { display: none !important; } @media (max-width: 480px) { .row1 .mgline:not(.vrline) div.mcimg, .row3 .mgline:not(.vrline) div.mcimg { float: none; width: 100%; } .row1 .mgline div.mcimg, .row3 .mgline div.mcimg { float: none; width: 100%; } .row1 .mgline img.mcimgad { left: inherit; } .row1 .mgline .text-elements { width: 100% !important; bottom: 0 !important; } .row1 .mgline .text_on_hover, .row3 .mgline .text_on_hover { width: auto; height: auto; } .row1 .mgline .mcdesc, .row3 .mgline .mcdesc { margin-top: 5px; max-height: 32px; overflow: hidden; } .row2 .mgline { width: 100% !important; max-width: 100% !important; } .row2 .mgline:first-child, .row4 .mgline:first-child { width: 100%; margin-right: 0; max-width: 100% !important; } .row3 .mgline .text-elements { width: 100% !important; } .row4 .mgline:last-child { width: 100% !important; max-width: 100% !important; } .mctitle, .mcdesc { width: 100% !important; } .mctitle, .mcdesc { text-align: left !important; } .mgline { overflow: hidden; } .mghead { font-size: 15px; } .mgheader div img { max-height: 24px; } .mctitle a { font-size: 18px; line-height: 19px; letter-spacing: -0.2px; } .mcdomain a { font-size: 12px; line-height: 12px; } .mcdomain { margin-top: 5px; } } .mgbox .row2 .mgline, .mgbox .row4 .mgline { display: block; } ".replace(/\\'/g,"'")),this.servicerDomain="servicer.mgid.com",this.adBlockStyles=`.mgresponsive { display: inherit; } .mgbox { padding: 0 !important; position: relative !important; text-align: center; vertical-align: top !important; margin: 0 auto; border-style: solid; border-width: 0; display: flex; -webkit-flex-direction: row; -ms-flex-direction: row; flex-direction: row; -webkit-flex-wrap: wrap; -ms-flex-wrap: wrap; flex-wrap: wrap; line-height: 100% !important; transition: none !important; box-sizing: border-box; -webkit-box-pack: justify; -ms-flex-pack: justify; justify-content: space-between; } .mgline { position: relative; } .mgline .image-with-text { position: relative; } .mgbox { width: 100%; max-width: 700px; } div.mcimg { padding: 0; text-align: center; } img.mcimg { border-style: solid; border-color: #ffffff; border-width: 0; width: 100% !important; height: auto !important; max-width: 492px; max-height: 277px; box-sizing: border-box; display: block; aspect-ratio: 1.77777778; } .mgline .text-elements { position: absolute; bottom: 0; left: 0; background: transparent linear-gradient(to bottom, transparent 0px, rgba(0, 0, 0, 0.7) 50%, rgba(0, 0, 0, 0.9) 100%) repeat scroll 0 0; width: 100%; } .mctitle { margin: 10px 1% 1px 1%; text-align: left; line-height: 1 !important; } .mctitle a { font-weight: bold; font-size: 13px; line-height: 1.1; font-style: normal; text-decoration: none; color: #fff; font-family: Arial,Helvetica,sans-serif; } .mgline:hover .mctitle a { color: #fff; text-decoration: underline !important; } .mcdesc { display: none; text-align: center; } .mcdesc a { font-weight: normal; font-size: 12px; line-height: 12px; font-style: normal; text-decoration: none; color: #666666; font-family: Verdana,Geneva,sans-serif; } .mcdomain { display: block; text-align: left; margin: 0 1%; overflow: hidden; } .mcdomain a { font-weight: normal; font-size: 11px; line-height: 16px; font-style: normal; text-decoration: none; color: #C7C7C7; font-family: Arial,Helvetica,sans-serif; display: block; overflow: hidden; padding-top: 1px; padding-bottom: 5px; } .mcdomain a img.mcimgsrc { vertical-align: bottom; margin-bottom: -3px; height: 20px; width: 20px; display: inline-block; } .mgline { background: none repeat scroll 0 0; cursor: pointer; overflow: hidden; zoom: 1; display: inline; padding: 0 !important; border-style: solid; border-color: #ffffff; border-width: 0; width: calc(33.333% - 10px); max-width: 33.333%; box-sizing: border-box; margin: 0 0 5px; display: -ms-flexbox; display: -webkit-flex; display: flex; -webkit-flex-direction: column; -ms-flex-direction: column; flex-direction: column; word-wrap: break-word; flex-wrap: wrap; -webkit-box-pack: justify; -ms-flex-pack: justify; justify-content: space-between; } .mgline .image-container { position: relative; } .mgline .image-container .mcimgad { position: absolute; right: 0; bottom: 0; width: 20px; height: 20px; } .mgline { vertical-align: top; } .mgline, .mgbox { min-width: 90px; } .mgline[max-width~="120px"] .mcdesc { display: none !important; } @supports not (flex-wrap: wrap) { .mgbox { display: block !important; } .mgline { display: inline-block !important; } } .text-elements a { text-decoration: none; } div.mcprice { text-align: left; } div.mcprice span { font-weight: bold; font-size: 14px; line-height: 14px; font-style: normal; text-decoration: none; color: #2a3a7b; font-family: Verdana,Geneva,sans-serif; } div.mgbuybox, div.mgarrowbox { display: none; } div.mgbuybox, div.mgarrowbox, div.mcprice { display: none; } span.mcpriceold { text-decoration: line-through !important; } @media (max-width: 480px) { .mgline { width: 48% !important; margin: 1% !important; max-width: 48% !important; } } @media (max-width: 480px) { .mgline { width: 98% !important; margin: 1% !important; max-width: 98% !important; } } img.mcimg { margin: 0; opacity: 1 !important; } .mgline { position: relative; } .mgline .fake { visibility: hidden; position: relative; padding-top: 4px; } .mgbuybox { text-align: right; font-weight: 700; font-size: 12px; color: #666666; } .mcdesc { margin-top: 0; margin-bottom: 2px; } .mcdesc a { line-height: 1.5 !important; } .mcprice-wrap { position: absolute; display: block; top: 0; left: 0; text-decoration: none; } .mcdiscount { color: #fff; border: none; font-size: 1.21em; } .mgarrowbox { position: relative; background: #fff; padding-right: 12px; } .mgarrowbox:before { content: \\'\\'; position: absolute; top: 0; right: -10px; border-top: 21px solid transparent; border-bottom: 21px solid transparent; border-left: 10px solid #fff; } div.mcprice-cover { display: -ms-flexbox; display: -webkit-flex; display: flex; -webkit-flex-wrap: nowrap; -ms-flex-wrap: nowrap; flex-wrap: nowrap; -webkit-align-items: stretch; -moz-box-align: stretch; -ms-flex-align: stretch; align-items: stretch; -webkit-justify-content: flex-start; justify-content: flex-start; -webkit-flex-direction: row; -ms-flex-direction: row; flex-direction: row; height: 42px; font-size: 14px; } div.mcprice-cover .mcprice { font-size: 1.29em; color: #fff; } div.mcprice-cover.mcprice-cover_old .mcprice-inner { padding-top: 4px; width: auto; } div.mcprice-cover.mcprice-cover_old .mcprice-val { padding-right: 0; } div.mcprice-cover.mcprice-cover_old .mcprice { margin-bottom: 4px; color: #2a3a7b; font-size: 1em; } div.mcprice-cover.mcprice-cover_old + .mcprice-cover { display: none !important; } .mcprice-val, .mcprice-inner { display: -ms-flexbox; display: -webkit-flex; display: flex; -webkit-flex-wrap: wrap; -ms-flex-wrap: wrap; flex-wrap: wrap; -webkit-align-items: center; -moz-box-align: center; -ms-flex-align: center; align-items: center; -webkit-justify-content: flex-start; justify-content: flex-start; white-space: nowrap; } .mcprice-inner { background: #ed181d; position: relative; padding: 0 2px 0 8px; text-align: center; color: #fff; width: 100%; } .mcprice-inner:before { content: \\'\\'; position: absolute; top: 0; right: -10px; border-top: 21px solid transparent; border-bottom: 21px solid transparent; border-left: 10px solid #ed181d; } .mcprice-val { padding: 2px 10px 0 14px; -webkit-flex-direction: column; -ms-flex-direction: column; flex-direction: column; -webkit-flex-wrap: wrap; -ms-flex-wrap: wrap; flex-wrap: wrap; -webkit-justify-content: center; justify-content: center; -webkit-align-items: flex-start; -moz-box-align: start; -ms-flex-align: start; align-items: flex-start; font-weight: bold; font-style: normal; text-align: left; } .mcpriceold { display: block !important; position: relative; width: 100%; font-size: 0.78em; font-weight: inherit; color: #ed181d; } .mcpriceold span { position: relative; } .mcpriceold span:before { content: \\'\\'; height: 1px; background: #ed181d; left: 0; right: 0; top: 50%; position: absolute; } div.mgbuybox, div.mgarrowbox { display: none; } .fake, .mgtobottom { display: table; bottom: 0; width: 100%; text-align: left; } .fake > *, .mgtobottom > * { display: table-cell; } .mgtobottom__buy { padding-right: 20px; } .mgtobottom { position: absolute; } .mgline .image-with-text, .mgline .mgtobottom { width: 100% !important; margin: 0 auto; } .mgline .image-with-text, .mgline .mgtobottom { max-width: 294px; } .mghead { font-family: Arial,Helvetica,sans-serif !important; color: #2b397b; font-size: 14px !important; text-transform: uppercase !important; } .mghead { margin: 10px 0 0 0 !important; font-weight: 600 !important; } div.mcprice, div.mcriceold { font-weight: bold; font-size: 14px; line-height: 14px; font-style: normal; text-decoration: none; color: #2a3a7b; font-family: Verdana,Geneva,sans-serif; } .mgline[max-width~="120px"] .mgarrowbox, .mgline[max-width~="120px"] .mgbuybox { display: none !important; } .mgline .image-with-text { min-height: 1px; } @media (max-width: 480px) { .mgline { width: 98% !important; margin: 1% !important; max-width: 98% !important; } } .mgheader { border-bottom: 1px solid #2b397b !important; padding-bottom: 3px; margin-bottom: 3px; } .mgheader div object, .mgheader div object a, .mgheader div img { max-width: 40px; max-height: 22px; } .mgheader div object:nth-child(2), .mgheader div object:nth-child(2) > a, .mgheader div object:nth-child(2) > a > img { max-width: 12px; max-height: 22px; } `.replace(/\((\'|\")?\/\//g,"($1https://"),this.clickTracking="",this.loadedType="",this.parentCustomFuncBlocks={},this.childFuncBlocks={},this.browserId=-1,this.deviceType=Ti.Desktop,this.hrefAttr="href",this.enabledCooperationTypes=JSON.parse('["wages"]'),this.consentData="",this.cmpEnabled=!1,this.uspString="",this.uspEnabled=!1,this.tcfv2Data=null,this.tcfv2Enabled=!1,this.cookieMatchingDomain="cm.mgid.com",this.context._mgIntExchangeNews=this.context._mgIntExchangeNews||{},this.iframePlacementType=0,this.networkInformationType="unknown",this.networkInformationEffectiveType="unknown",this.networkInformationSaveData=0,this.pageUrl="",this.refererUrl="",this.refererParam="",this.adblockDetectResult=null,this.gptOptions=JSON.parse("{}"),this.getActiveChilds().length||(this.videoWidgetsLib=il())}getQueryParameterByName(a){a=a.replace(/[\[\]]/g,"\\$&");let o=new RegExp("[?&]"+a+"(=([^&#]*)|&|#|$)").exec(this.app.context.location.href);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null}setStyles(a){this.app.styles=a.replace(/\((\'|\")?\/\//g,"($1"+this.app.webProtocol+"//")}setTemplate(a){a=a.replace(/^\s*[\r\n]|\s{2,}/gm,""),a=a.replace(/\((\'|\")?\/\//g,"($1"+this.app.webProtocol+"//"),a=a.replace('src="//','src="'+this.app.webProtocol+"//"),this.app.templateText=a.replace('href="//','href="'+this.app.webProtocol+"//")}cutString(a,n,o){if(a.length<=n)return a;let l=[];l=a.split(" ");let c=l[0]+" ",d;for(let g=1;g<l.length;g++){if(d=c+l[g],d.length>n)return c+(typeof o>"u"||o?"...":"");c+=l[g]+" "}return a}parseString(a,n){let o=[],l,c="";for(o=a.split(" "),l=0;l<o.length;l++)o[l].length>n&&o[l].search(/&\w+;/)<0?c+=o[l].substr(0,n)+" "+o[l].substr(n)+" ":c+=o[l]+" ";return c}prepareTitle(a){return a=this.app.cutString(a,75,1),a}prepareDesc(a){return a=this.app.cutString(a,75,1),a}hidePreloadDiv(){this.app.fallbackMode?this.app.fallbackMode&&this.app.countLoadBlocks===0&&(this.app.root.innerHTML="",this.app.context.document.getElementById("M"+796531+"PreloadC"+1401472)&&(this.app.context.document.getElementById("M"+796531+"PreloadC"+1401472).style.display="none")):["MarketGidPreloadC"+this.app.containerId,"M"+796531+"PreloadC"+this.app.containerId,"MarketGidPreloadN"+this.app.containerId,"M"+796531+"PreloadN"+this.app.containerId].every(n=>{let o=this.app.context.document.getElementById(n);return o?(o.style.display="none",!1):!0})}prerenderNews(a){if(this.app.root&&a){this.app.fallbackMode&&this.app.countLoadBlocks===0&&(this.app.root.innerHTML=""),this.advertLinkBlock.refreshAdvertLink(),a=this.app.advertLinkBlock.parseAdvertLink(a),this.app.addPreRenderTemplate(a);let n=this.app.root.getElementsByTagName("a");for(let o=0;o<n.length;o++)n[o].rel="sponsored nofollow noopener"}}loadNewsPrestart(a){if(this.app.hidePreloadDiv(),typeof a<"u"){this.app.servicerData=a;let n={page:this.app.pagesServicerData.length+1,servicerData:this.app.servicerData};if(this.app.pagesServicerData.push(n),typeof a.dt<"u"&&(this.app.deviceType=a.dt),typeof a.brid<"u"&&(this.app.browserId=a.brid),typeof this.app.servicerData.lib<"u"&&this.app.servicerData.config&&this.app.servicerData.config.formats&&this.preloadVideoWidgetResources(),typeof this.app.servicerData<"u"&&typeof this.app.servicerData.css<"u"&&(this.app.styles=this.app.servicerData.css,this.app.stylesheetsBlock.add("split_style",this.app.servicerData.css),this.app.stylesheetsBlock.remove("main")),typeof this.app.servicerData<"u"&&typeof this.app.servicerData.t<"u"&&this.app.servicerData.t!==""){let o=this.app.servicerData.t.replace(/\r?\n/g,"");this.app.setTemplate(o)}}}preloadVideoWidgetResources(){let a=this.app.servicerData.dt?this.app.servicerData.dt:"desktop",n=this.app.servicerData.config.formats.filter(o=>o.device===a)[0];if(n){let{protocol:o}=this.context.document.location,l=o.indexOf("http")!==-1?`${o}//`:"https://",c=this.app.currentSubnetDomain,d=`video-native.${c}/mgPlayer/css`,g=`mgStyles${this.id}`;if(n.styleUrl){let y=n.styleUrl.replace("{{DOMAIN}}",this.app.currentSubnetDomain).replace(/^(https?:\/\/|\/\/)/,`${l}`);this.appendWidgetPreloadDom(y,g,!0)}(typeof n.playerType>"u"||n.playerType==="mgplayer")&&this.appendWidgetPreloadDom(`${l}video-native.${c}/mgPlayer/img/mgPlayer_v2_sprite.svg`)}}appendWidgetPreloadDom(a,n="",o=!1){let l=this.context.document.createElement("link");l.setAttribute("href",a);let c=a.split(".").pop();c==="css"&&(l.setAttribute("type","text/css"),l.setAttribute("rel","stylesheet")),c==="svg"&&l.setAttribute("type","image/svg+xml"),n&&l.setAttribute("id",n),o&&(l.onload=()=>{l.setAttribute("data-loaded","true")}),this.app.isShadowRoot()?(this.app.root.getRootNode().appendChild(l),this.context.document.head.appendChild(l.cloneNode(!0))):this.context.document.head.appendChild(l)}addVideoLib(){if(typeof this.app.servicerData.lib<"u"){let a=this.app.servicerData.lib!=="1.11.184"?`1.11.184<${this.app.servicerData.lib}`:"",n=JSON.parse('{"vpaid":{"adsLimit":3,"totalTimeout":5,"singleTimeout":5,"maxSinglePlayers":3},"enabled":"1","formats":[{"loop":true,"name":"outstream","test":false,"device":"desktop","maximp":1,"sticky":false,"adsPlace":"over","autoStart":"visibleOnly","forceMute":false,"moveToBody":false,"teaserSize":1,"teaserIndex":0,"teaserHeight":1,"closeButtonEnable":1},{"loop":true,"name":"outstream","test":false,"device":"mobile","maximp":1,"sticky":false,"adsPlace":"over","autoStart":"visibleOnly","forceMute":false,"moveToBody":false,"teaserSize":1,"clickToPlay":false,"teaserIndex":0,"teaserHeight":1,"closeButtonEnable":1}],"adPlayers":[{"name":"vpaidPlayer","engine":"vpaid","adSource":"https:\\/\\/servicer.mgid.com\\/vpaid\\/1401472?pl=1&w={width}&h={height}&maxduration=30&dnt={dnt}&page={url}&uspString={ccpa}&consentData={gdpr_consent}&format={format}&schedule={schedule}&ref={referer_url}","skipoffset":5}],"autoStart":"visibleNotPause"}'),o={lib:this.getActiveChilds().length===0?"1.11.184":this.app.servicerData.lib,servLib:a,cid:this.app.id,sid:796531,config:typeof this.app.servicerData.config<"u"?this.app.servicerData.config:n,vr_playlist:typeof this.app.servicerData.vr_playlist<"u"?this.app.servicerData.vr_playlist:[],template:"",styles:"",paramsData:{isSmart:!0},cxurl:this.app.contextBlock.contextUriParse(),subnetDomain:this.app.currentSubnetDomain,countersDomain:"c.mgid.com",lang:this.app.servicerData.sl,cappingData:{dt:this.app.servicerData.dt,ts:this.app.servicerData.ts,tt:this.app.servicerData.tt,h2:this.app.servicerData.h2,iv:this.app.servicerData.iv,psid:this.app.servicerData.psid,isBot:this.app.servicerData.isBot,subnet:this.app.currentSubnet,lang:this.app.globalSettings.current_language},rootElement:this.app.root};this.app.root.className.indexOf("_mgw_"+1401472)===-1&&(this.app.root.className+=(this.app.root.className.length===0?"":" ")+"_mgw_"+1401472),this.app.root.className.indexOf("_mgVideoBlock_"+1401472)===-1&&(this.app.root.className+=(this.app.root.className.length===0?"":" ")+"_mgVideoBlock_"+1401472),setTimeout(()=>{if(this.getActiveChilds().length>0||this.app.servicerData.config&&this.app.servicerData.config.testWidgetLib){this.app.context._mgq=this.app.context._mgq||[];let l=!0,c=this.app.webProtocol+"//cdn.mgid.com/js/wglibs/mgWidget_"+this.app.servicerData.lib+(l?".es6":".es5")+".js";if(this.app.servicerData.config&&this.app.servicerData.config.testWidgetLib){let g=this.app.servicerData.config.testWidgetLib.match(/mgWidget_(debug_)?(VID\d+)/);g!==null&&(this.app.servicerData.lib=g[2]);let y=this.app.servicerData.config.testWidgetLib;y.indexOf(".es")===-1&&(y=y.replace(".js",l?".es6.js":".es5.js")),c=y+"?r="+encodeURIComponent(this.app.pageUrl)}let d=this.app.context.document.createElement("script");d.type="text/javascript",d.charset="utf-8",d.async=!0,d.src=c,this.app.context.document.head.appendChild(d),this.app.context._mgq.push(["_mgload",o]),this.startMgqwp()}else this.videoWidgetsLib.loadLibrary(o)},0)}}loadNews(a){if(a.length>0){let o=this.app.getRenderer(this.app.templateText).getHtml(a);if(this.app.addVideoLib(),this.app.root&&o){if(o=this.app.advertLinkBlock.parseAdvertLink(o),this.app.fallbackMode&&this.app.countLoadBlocks==0&&(this.app.root.innerHTML=""),this.app.templateContent=this.app.context.document.createElement("template"),this.app.templateContent.innerHTML="<div>"+this.app.preTemplate+o+this.app.postTemplate+"</div>",typeof this.app.templateContent.content>"u"){let g=this.app.templateContent,y=document.createDocumentFragment(),b=g.childNodes;for(let _=0;_<b.length;_++)y.appendChild(b[_].cloneNode(!0));this.app.templateContent.content=y}this.app.templateContent=this.app.templateContent.content.firstChild;for(let g=0;g<this.app.beforeInjectTemplateHooks.length;g++){let y=this.app.beforeInjectTemplateHooks[g];try{y()}catch(b){this.app.log(`BaseBlock - beforeInjectTemplateHooks hook ${y} failed`,"error",b)}}let l=this.app.templateContent.querySelectorAll(".mgline-gpt");if(l.length)for(let g=0;g<l.length;g++)l[g].innerHTML="";let c=this.app.templateContent.querySelectorAll("img.mcimg");if(c.length>0)for(let g=0;g<c.length;g++)c[g].src=c[g].getAttribute("data-src"),c[g].setAttribute("alt","");let d=this.app.templateContent.querySelectorAll("video.mcvideo");if(d.length>0)for(let g=0;g<d.length;g++){let y=d[g];y.onplay=function(){y.classList.add("played")},y.removeAttribute("nopin"),y.removeAttribute("crossorigin"),y.src=y.getAttribute("data-src"),typeof y.childNodes[0]<"u"&&y.parentElement.appendChild(y.childNodes[0])}this.app.addTemplate(this.app.templateContent),this.app.renderBanners(!0,null)}}else if(this.app.root&&this.app.countLoadBlocks==0){this.app.root.innerHTML="";return}if(this.app.servicerData&&this.app.servicerData.muidn&&this.app.servicerData.pvid&&this.app.pvid!=""&&this.app.servicerData.pvid==this.app.pvid)try{if(this.app.context.localStorage&&this.app.context.localStorage.setItem("mgMuidn",this.app.servicerData.muidn),this.app.isAmp()){let o=new Date(new Date().setFullYear(new Date().getFullYear()+1)).toUTCString(),l="mgMuidn="+this.app.servicerData.muidn+";domain=.ampproject.net;expires="+o+";SameSite=None;Secure";this.app.context.document.cookie=l}this.app.muid=this.app.servicerData.muidn}catch{}this.app.cookieBlock.cookieStorage.page=this.app.page,this.app.cookieBlock.cookieStorage.time=new Date().getTime().toString(),this.app.cookieBlock.setCookie();let n=this.app.root.getElementsByTagName("a");for(let o=0;o<n.length;o++)n[o].rel="sponsored nofollow noopener";this.app.countLoadBlocks++}addTemplate(a){this.app.root.appendChild(a)}addPreRenderTemplate(a){this.app.root.insertAdjacentHTML("beforeend",this.app.preTemplate+a+this.app.postTemplate)}getViewportHeight(){let a=this.app.context.document,n=this.app.context,o="documentElement",l="clientHeight",c="clientWidth",d="innerHeight",g="innerWidth",y="scrollHeight",b="scrollWidth",_="offsetHeight",k="offsetWidth",M="offsetLeft",E="offsetTop",K="scrollTop",W="scrollLeft";return this.app.isAmp()?typeof n["intersectionRect"+1401472+"_"+this.uniqId]<"u"?{c:n["intersectionRect"+1401472+"_"+this.app.uniqId].height,s:n["intersectionRect"+1401472+"_"+this.app.uniqId].y}:{c:n["intersectionRect"+1401472].height,s:n["intersectionRect"+1401472].y}:n[g]?{c:n[d],s:n.pageYOffset}:a[o]&&a[o][c]?{c:a[o][l],s:a[o][K]}:a.body[c]?{c:a.body[l],s:a.body[K]}:0}renderBanners(a,n){for(let o in this.app.banners)if(this.app.banners[o].rs!=a){if(!a){if(this.app.banners[o].iteration!=n)continue;this.app.banners[o].rs=!1}if(this.app.banners[o].isRendered===!0)continue;let l=this.app.root.querySelector("#"+o),c=this.app.banners[o].html,d=!1;if(this.app.banners[o].clickUrl&&c.indexOf("${CLICK_PIXEL}")!==-1){let y=this.app.allowReturnParams;this.app.allowReturnParams=!0,c=c.replace(/\${CLICK_PIXEL}/g,this.app.banners[o].clickUrl+this.app.getAntifraudQueryParameter(this.app.banners[o].clickUrl)),d=!0,this.app.allowReturnParams=y}c.indexOf("{page_url}")!==-1&&(c=c.replace(/{page_url}/g,this.app.pageUrl)),c.indexOf("{referrer_url}")!==-1&&(c=c.replace(/{referrer_url}/g,this.app.refererUrl));let g='<!DOCTYPE html><html><body style="margin: 0;">'+c+"</body></html>";this.app.banners[o].useSecureIframe?this.app.renderInSafeIframe(l,`banner_${o}`,g):(l.contentWindow.document.open(),l.contentWindow.document.write(g),l.contentWindow.document.close()),this.app.banners[o].isRendered=!0,d||(y=>{l.contentWindow.document.body.addEventListener("click",b=>{let _=b.target,k=!1;for(;_.parentElement;)if(_.tagName==="A"){k=!0;break}else _=_.parentElement;k&&this.app.request.pixel("bannerClickTracker",this.app.banners[y].clickUrl,{k:this.app.getAntifraudQueryParameter(this.app.banners[y].clickUrl)},{})},!0)})(o)}}renderInSafeIframe(a,n,o){a.sandbox="allow-scripts allow-popups";let l=this.app.context.location.href.indexOf("admin.")===-1&&this.app.context.location.href.indexOf("dashboard.")===-1&&this.app.context.location.href.indexOf("panel.")===-1;40>0&&l&&(a.sandbox="allow-same-origin allow-scripts allow-popups"),"srcdoc"in a?a.srcdoc=o:(a.src=this.app.webProtocol+`//cdn.mgid.com/widgets/framehost.html#${n}`,this.app.context.addEventListener("message",c=>{c.origin===this.app.webProtocol+"//cdn.mgid.com"&&c.data===`loaded #${n}`&&a.contentWindow.postMessage(o,"*")},!1))}getPageCount(){return 20}init(){if(this.app.countersBlock.widgetPerformancePixel("init"),typeof JSON!="object"&&(this.app.hidePreloadDiv(),this.app.log("Unsupported browser","error")),this.app.canUseShadowDom()){let a=this.app.root;try{a.parentNode.attachShadow({mode:"open"}).appendChild(a)}catch(n){this.app.log("Shadow DOM can't be attached: ","error",n)}}if(this.app.root){this.app.cookieBlock.getCookie();let a=parseInt(this.app.cookieBlock.cookieStorage.page),n=this.app.context["MarketGidPageOffset"]?parseInt(this.app.context["MarketGidPageOffset"]):0;this.app.addClickHandler(this.app.clickHandlerList.hangNiceLinkListener.handler,this.app.clickHandlerList.hangNiceLinkListener.priority),this.app.addEvent(this.app.root,"mouseup",this.app.eventsHangNiceLinkListener),this.app.addEvent(this.app.root,"contextmenu",this.app.eventsHangNiceLinkListener),this.app.addEvent(this.app.root,"touchstart",this.app.eventsHangNiceLinkListener);let o=this.app.getPageCount();if(a!=null&&a<o&&a>0?this.app.page=a+1:(a>o-1||a<1)&&(this.app.page=1+n),new Date().getTime()-(typeof this.app.cookieBlock.cookieStorage.time<"u"?this.app.cookieBlock.cookieStorage.time:0)>=6e5&&(this.app.page=1+n),this.app.page||(this.app.page=1),this.app.pageUnlim=this.app.page-1,this.app.cookieBlock.cookieStorage.page=this.app.page,this.app.cookieBlock.setCookie(),!this.app.context.document.cookie){let l=new Date;this.app.page=l.getSeconds()%o+1}this.app.blocksAddress=this.app.webProtocol+"//"+this.app.servicerDomain+"/",this.app.clickTracking=typeof this.app.context.MGClickTracking<"u"?this.app.context.MGClickTracking:"",this.app.adBlockStatement=!1,this.app.adBlockStatement=this.app.adBlockDetect(),this.app.adBlockStatement&&(this.app.getRoot().classList.add("eyeo"),this.app.rtbDisabled=1),this.app.adBlockStatement&&this.app.setTemplate(`<div class="mgbox">
    <!--advertPrefix-->
    {foreach}
    <div class="mgline">
        {if $banner}{$banner}{/if}
        {if $teaser}
        <div class="image-with-text">
            <div class="mcimg">
                <a {$target} {$href} >
                    <div class="image-container">
                        <img class="mcimg" {$src} />
                        <!--intExchangeWagesImagePlace-->
                    </div>
                </a>
            </div>
            <div class="text-elements">
                <div class="text_on_hover">
                    <div class="mcdomain-top mcdomain" style="display: none;"><a {$target} {$href}>{$source}</a></div>
                    <div class="mctitle"><a {$target} {$href}>{$title}</a></div>
                </div>
            </div>
        </div>
        {/if}
    </div>
    {/foreach}
</div>
`.replace(/[\r\n]/g,"")),this.app.context.onClickExcludes=this.app.context.onClickExcludes||[],this.app.context.onClickExcludes.push(this.app.root),typeof this.app.context["s1"]<"u"&&this.app.context["s1"]&&this.app.context["s1"]!=="${PUBLISHER_ID}"&&(this.app.sourceName=this.app.context["s1"]),this.app.adBlockStatement&&(this.app.sourceName="eyeo"),this.app.adBlockStatement?this.app.stylesheetsBlock.add("adBlockMain",this.app.adBlockStyles):this.app.stylesheetsBlock.add("main",this.app.styles),this.app.addEvent(this.app.root,"click",this.app.widgetClickHandler),this.app.addEvent(this.app.root,"auxclick",this.app.widgetClickHandler)}}resetPage(){this.app.page=1}getMostTopWindow(){let a=this.app.context;for(;a!=a.parent;)try{let n=a.parent.document.body;a=a.parent}catch{break}return a}getDevicePixelRatio(){let a=1;return typeof this.app.context.devicePixelRatio<"u"?a=this.app.context.devicePixelRatio:typeof this.app.context.screen.systemXDPI<"u"&&typeof this.app.context.screen.logicalXDPI<"u"&&this.app.context.screen.systemXDPI>this.app.context.screen.logicalXDPI&&(a=this.app.context.screen.systemXDPI/this.app.context.screen.logicalXDPI),a%1===0||(a=a.toFixed(3)),a}getCbusterParameter(){return this.app.context.MG_CacheBuster||new Date().getTime()+""+Math.floor(Math.random()*1e9+1)}injectScript(a,n){this.app.beforeInjectScriptEvent&&this.app.context.document.body.dispatchEvent(this.app.beforeInjectScriptEvent),this.app.injectionScriptMethod(a,n)}createServicerScriptElement(a,n){let o=this.app.context.document.createElement("script"),l=`MarketGidC${1401472}DisableStart`,c=`mgDisableStart${1401472}`,d=typeof this.app.context[l]<"u";d||(d=typeof this.app.context[c]<"u"),o.type=d?"text/plain":"text/javascript",o.charset="utf-8",o.referrerPolicy="strict-origin-when-cross-origin";let g=1401472;this.app.adBlockStatement&&Object.keys(this.app.childWidgetsData).some(_=>{let k=this.app.childWidgetsData[_];if(k.showMonetizationEnabled===1&&typeof k.childId<"u")return g=k.childId,this.app.requestParams.src_cid=this.app.originalId,!0});let y=a?"fs/":"",b=this.app.blocksAddress+y+g+"/"+n;if(Array.isArray(this.app.context.document.mgExceptIds)){let _=b.indexOf("?")>-1?"&":"?",k=this.app.context.document.mgExceptIds.join(",");if(b.indexOf("except_ads")>-1){let M=new RegExp("([?&])except_ads=(.*?)(&|$)","i");b=b.replace(M,"$1except_ads=$2,"+k+"$3"),b=b.replace("=,","=")}else b+=`${_}except_ads=${k}`}return o.src=b,o}getMuid(){if(!this.app.muid.length){let a="";if(this.app.isAmp())a=this.app.getCookieValue("mgMuidn");else try{this.app.context.localStorage&&(a=this.app.context.localStorage.getItem("mgMuidn"))}catch{}typeof a=="string"&&a.length&&(this.app.muid=a)}return this.app.muid}getCookieValue(a){let n="";try{let o=this.app.context.document.cookie.split("; ").filter(l=>l.indexOf(a)!==-1);o.length&&(n=o[0].split("=")[1])}catch(o){this.app.log("getCookieValue Failed","error",o)}return n}injectionScriptMethod(a,n){let o=this.app.createServicerScriptElement(a,this.app.page);if(this.app.requestParams={...this.app.requestParams,...this.app.pageViewPixelBlock.getPageDataParams()},this.app.userAgentDataParams&&(this.app.requestParams={...this.app.requestParams,...this.app.userAgentDataParams}),this.app.consentDataParams=this.app.consentsBlock.getConsentData(),this.app.consentDataParams&&(this.app.requestParams={...this.app.requestParams,...this.app.consentDataParams}),this.app.adBlockStatement&&(this.app.requestParams.adb=1,typeof this.app.rtbDisabled<"u"&&(this.app.requestParams.rtb_disabled=this.app.rtbDisabled)),typeof this.app.context.MGi<"u"&&(this.app.requestParams.iso=this.app.context.MGi,this.app.requestParams.token="f2e34b418910c226b549dd83a2994c13"),this.app.sourceName!==""&&(this.app.requestParams.src_id=this.app.sourceName),typeof this.app.context["ampOptions"+1401472+"_"+this.app.uniqId]<"u")try{let _=JSON.parse(this.app.context["ampOptions"+1401472+"_"+this.app.uniqId]),k=typeof _.src_id<"u"?_.src_id:this.app.sourceName;this.app.requestParams.src_id=k}catch{}if(this.app.adBlockStatement&&(this.app.requestParams.ad="pg,r"),JSON.parse('["wages"]').indexOf("int_exchange")>=0){let _=this.app.context.document.querySelector('meta[property="og:title"]');if(this.app.context!==this.app.context.top)try{_=this.app.context.parent.document.querySelector('meta[property="og:title"]')}catch{}_&&(this.app.requestParams.ogtitle=encodeURIComponent(_.getAttribute("content")))}this.app.uniqId!==""&&(this.app.requestParams.uniqId=this.app.uniqId),this.app.getActiveChilds().length&&(this.app.requestParams.childs=this.app.getActiveChilds().join(",")),n&&(this.app.requestParams.rsh=n,this.app.requestParams.initial_composite=this.app.id,n===2&&this.app.getExceptAds().length&&(this.app.requestParams.except_ads=this.app.getExceptAds().join(","))),Array.isArray(this.app.context._mgExceptAds)&&this.app.context._mgExceptAds.length&&(this.app.requestParams.except_ads=this.app.context._mgExceptAds.join(",")),this.app.gptOptions?.backfill&&!this.app.adBlockStatement&&(this.app.requestParams.gpt=1),typeof this.app.context.MG_setRequestNonPersonalizedAds<"u"&&this.app.context.MG_setRequestNonPersonalizedAds==1&&(this.app.requestParams.npa=1),this.app.getInternalIds().length&&(this.app.requestParams.exclude_int_exchange=this.app.getInternalIds().join(","));try{let _=navigator.connection||navigator.mozConnection||navigator.webkitConnection;typeof _.type<"u"&&(this.app.networkInformationType=_.type,this.app.requestParams.nit=this.app.networkInformationType),typeof _.effectiveType<"u"&&(this.app.networkInformationEffectiveType=_.effectiveType,this.app.requestParams.niet=this.app.networkInformationEffectiveType),typeof _.saveData<"u"&&(this.app.networkInformationSaveData=_.saveData?1:0,this.app.requestParams.nisd=_.saveData)}catch{}this.app.requestParams.pv=5,this.app.requestParams.lct=this.getLct(1694429831),this.app.requestParams.jsv="es6",this.app.requestParams.pageView=this.app.pageView,this.app.requestParams.dpr=this.app.getDevicePixelRatio(),this.app.requestParams.ref=encodeURIComponent(this.app.refererParam),this.app.iframePlacementType!==0&&(this.app.requestParams.iframe=this.app.iframePlacementType);let l=this.app.getMuid();l.length&&(this.app.requestParams.muid=l);let c=this.app.context?.performance.getEntriesByType?.("navigation")[0]?.responseEnd,d=this.app.context?.performance.now?.(),g=Math.round(d-c);typeof g=="number"&&!isNaN(g)&&(this.app.requestParams.tfre=g);let y=[];for(let _ in this.app.requestParams)y.push(`${_}=${this.app.requestParams[_]}`);if(typeof this.app.globalSettings.retention_tool_widget_utm=="string"&&this.app.globalSettings.retention_tool_widget_utm.length&&!this.app.isAmp()){let _=this.app.globalSettings.retention_tool_widget_utm,M=(this.app.pageUrl||this.app.context.location.href||"").split("&").filter(E=>E.indexOf(_)!==-1).slice(0,1).join("");M=M.substring(M.indexOf(_)),M&&y.push(M)}let b=o.src;b.indexOf("?")==-1?b+="?":b+="&",b+=y.join("&"),o.src=b,this.app.sspPerformance&&typeof this.app.context.performance.getEntries<"u"&&(o.onload=()=>{this.app.context.performance.getEntries().map(_=>{if(_.name===b){let k=Math.ceil(_.responseEnd-_.startTime);this.app.request.pixel("widgetSspPerformance",this.app.webProtocol+"//c.mgid.com/widget-ssp-performance",{time:`time=${k}`},{})}})}),this.app.context.document.head.appendChild(o),o.onerror=()=>{this.app.isAdblock=!0}}getActiveChilds(){return JSON.parse("[1440407,1461248]")}addClickHandler(a,n){this.app.clickHandlers.push({handler:a,priority:n}),this.app.clickHandlers.sort(function(o,l){return o.priority<l.priority?-1:1})}widgetClickHandler(a){a||(a=this.app.context.event),a.target||(a.target=a.srcElement);let n=a.target;if(n.tagName!=="A"){n=this.app.getParentLink(n);let o=!1;if("which"in a?o=a.which===3:"button"in a&&(o=a.button===2),!n&&!o){let l=this.app.getParentElWithClass(a.target,"text-elements");if(l){let c=a.target.getElementsByTagName("A");c[0]?n=c[0]:(c=l.getElementsByTagName("A"),c[0]&&(n=c[0]))}if(n){n.click();return}}}if(!!n&&!(!n.hasAttribute("data-hash")&&!n.classList.contains("mg-close-action")))for(let o=0;o<this.app.clickHandlers.length;o++)try{if(!this[this.app.clickHandlers[o].handler](n,a))return}catch(l){this.app.log("Click Handler name: "+this.app.clickHandlers[o].handler+", error: ","error",l)}}start(){this.app.root&&this.app.countLoadBlocks==0&&this.app.injectScript(!1)}defaultComposite(a){}addEvent(a,n,o){a.addEventListener?(n==="touchstart"||n==="touchmove")&&this.app.isPassiveSupported()?a.addEventListener(n,o.bind(this),{passive:!0}):a.addEventListener(n,o.bind(this),!1):a.attachEvent("on"+n,o.bind(this))}removeEvent(a,n,o){a.removeEventListener?a.removeEventListener(n,o,!1):a.detachEvent("on"+n,o)}getMainCssSelector(){return"#"+(this.app.realRoot?this.app.realRoot.id:this.app.root.id)}doubleClickHandler(a,n){n=parseInt(n|0);let o=a.getAttribute("data-hash"),l={checkId:"checkId="+this.app.doubleClickCheckId,cid:"cid="+this.app.getWidgetValue("id",1401472),gb_uid:"gb_uid="+this.app.getWidgetValue("goodsPartUid",57733605),h2:"h2="+this.app.servicerData.h2,hash:"hash="+o,percent:"percent="+this.app.doubleClickPercent,type:"type="+this.app.doubleClickType,url:"url="+encodeURIComponent(a),uuid:"uuid="+this.app.servicerData.rid};n&&(l.isOut="isOut="+n),this.app.request.pixel("doubleclick",this.app.webProtocol+"//c.mgid.com/doubleclick",l,{})}adBlockDetect(){if(this.adblockDetectResult===null){let a={ABP_NOT_DETECTED:0,ABP_DETECTED:1},n=["banner_ad","sponsored_ad"],o=g=>{let y=this.app.context.document.createElement("div");return y.className=g,y.style.setProperty("display","block","important"),y.style.setProperty("padding","1px","important"),y.style.visibility="hidden",y.style.position="absolute",y.innerHTML=".",this.app.context.document.body.appendChild(y),y},l=g=>!g.offsetHeight,c=g=>{let y,b=g.length,_;for(y=0;y<b;y++){_=o(g[y]);let k=l(_);if(this.app.context.document.body.removeChild(_),k)return!0}return!1},d=g=>c(g)?a.ABP_DETECTED:a.ABP_NOT_DETECTED;this.adblockDetectResult=d(n)}return this.adblockDetectResult}isShadowRoot(){try{return typeof this.app.root.getRootNode<"u"&&this.app.root.getRootNode().host}catch{return!1}}canUseShadowDom(){let a=this.app.root.parentNode;return Boolean(a&&a.id.indexOf("ScriptRoot")>0&&typeof a.attachShadow=="function")}getRoot(){return this.app.isShadowRoot()?this.app.root.getRootNode().host:this.app.root.parentElement}generatePvid(){return new Date().getTime().toString(16)+(Math.round(Math.random()*1e9)+2147483648).toString(16)}getLct(a){return a-a%86400}isAmp(){return typeof this.app.context.context<"u"&&typeof this.app.context.context.data<"u"&&typeof this.app.context.context.data.widget<"u"?!0:typeof this.app.context["boundingClientRect"+1401472]<"u"&&typeof this.app.context["intersectionRect"+1401472]<"u"}isIframe(){try{return this.app.context.self!==this.app.context.top}catch{return!0}}startMgqwp(){typeof this.context._mgwqp<"u"?setTimeout(()=>{this.context._mgwqp()},0):setTimeout(()=>{this.startMgqwp()},50)}htmlEntities(a){return String(typeof a<"u"?a:"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}getRenderer(a){return a.indexOf("data-template-schema")===-1?this.app.renderClassicBlock:this.app.renderSchematicBlock}}});var Or={};We(Or,{NavigatorAgentDataBlock:()=>Br});var la,Br,Rr=ke(()=>{N();V();U();j();z();$();Z();Me();(function(p){p.architecture="scua",p.bitness="scub",p.brands="scu",p.fullVersionList="scufvl",p.mobile="scum",p.model="scumd",p.platform="scup",p.platformVersion="scupv",p.uaFullVersion="scufv",p.wow64="scuw"})(la||(la={}));Br=class extends ge{constructor(a){super(a),this.name="NavigatorAgentDataBlock"}waitForUserAgentData(){return new Promise(a=>{this.app.context.navigator.userAgentData.getHighEntropyValues(Object.keys(la)).then(n=>{this.app.userAgentDataParams={},Object.keys(n).forEach(o=>{let l=n[o];if(typeof l=="boolean"&&(this.app.userAgentDataParams[la[o]]=`${encodeURIComponent(l?"?1":"?0")}`),typeof l=="string"&&l.length&&(this.app.userAgentDataParams[la[o]]=`${encodeURIComponent('"'+l+'"')}`),Array.isArray(l)&&l.length){let c=l.reduce((d,g,y,b)=>d+`"${g.brand}";v="${g.version}"${y!==b.length-1?", ":""}`,"");this.app.userAgentDataParams[la[o]]=`${encodeURIComponent(c)}`}}),a()}).catch(n=>{this.app.log(`${this.name}: waitForUserAgentData. Error: `,"error",n),a()})})}}});var al={};We(al,{AmpRenderBlock:()=>Mr});var Mr,sl=ke(()=>{N();V();U();j();z();$();Z();Me();Mr=class extends ge{constructor(a){super(a),this.name="AmpRenderBlock",this.ampResized=[],this.app.isAmp()&&(this.addHook("afterInitHooks",this._ampRenderStart),this.addHook("afterLoadNewsHooks",this._ampResizeHook),this.addHook("beforeInitBlockHooks",this._ampPageView,1e4),this.addHook("beforePrepareCappingDataHooks",this._ampPageImp,1e4))}_ampRenderStart(){this.app.context.context.renderStart({width:this.app.precalcRect.width,height:this.app.precalcRect.height})}_ampPageView(a){typeof this.app.context.context.computeInMasterFrame<"u"?this.app.context.context.computeInMasterFrame(this.app.context,"_mgPageViewAmp"+796531,n=>{let o=this.app.context.context.pageViewId,l=localStorage.getItem("_mgPageViewAmpId"+796531)?localStorage.getItem("_mgPageViewAmpId"+796531):"";if(o===l){let c=this.app.getMostTopWindow();c["_mgPageView"+796531]=c["_mgPageView"+796531]||[],c["_mgPageView"+796531].push(c.location.pathname),c["_mgPageViewEndPoint"+796531]=c["_mgPageViewEndPoint"+796531]||[],c["_mgPageViewEndPoint"+796531].push(c.location.pathname),this.app.initServicerRequest=!1}localStorage.setItem("_mgPageViewAmpId"+796531,o),n()},()=>{}):a()}_ampPageImp(a){typeof this.app.context.context.computeInMasterFrame<"u"?this.app.context.context.computeInMasterFrame(this.app.context,"_mgPageImpAmp"+796531,n=>{let o=this.app.context.context.pageViewId,l=localStorage.getItem("_mgPageImpAmpId"+796531)?localStorage.getItem("_mgPageImpAmpId"+796531):"";if(o===l){let c=this.app.getMostTopWindow();c["_mgPageImp"+796531]=c["_mgPageImp"+796531]||[],c["_mgPageImp"+796531].push(c.location.pathname)}localStorage.setItem("_mgPageImpAmpId"+796531,o),n()},()=>{}):a()}_askAmpForResize(){let a=this.app.root.getBoundingClientRect();this.app.context.context.requestResize(a.width,a.height).then(()=>{this.ampResizeDenied=!1,this._updateSizeStatement(a.width,a.height)},()=>{this.ampResizeDenied=!0})}_ampResizeHook(){setTimeout(()=>{this._askAmpForResize()},100),typeof this.ampResizeInterval>"u"&&(this.ampResizeInterval=setInterval(()=>{let a=this.app.root.getBoundingClientRect();typeof this.ampResizeDenied<"u"&&this.ampResizeDenied?this._askAmpForResize():(Math.floor(a.width)!==this.ampResized.width||Math.floor(a.height)!==this.ampResized.height)&&this._askAmpForResize()},100))}_updateSizeStatement(a,n){this.ampResized.width=a,this.ampResized.height=n}}});var rl={};We(rl,{MgqBlock:()=>Wr});var Wr,nl=ke(()=>{N();V();U();j();z();$();Z();Me();Wr=class extends ge{constructor(a){super(a),this.name="MgqBlock",this.isLongCheck=!1,this._worker=this._createWorker(),this._init()}_init(){this.app.context._mgq=this.app.context._mgq||[],typeof this.app.context._mgqp>"u"&&(this.app.context._mgqp=this._worker,this.app.context._mgqt=new Date().getTime(),this._worker())}_createWorker(){return()=>{let a=this.app.context._mgq.length,n=this.app.context._mgq.slice(0),o=0;for(let l=0;l<a;l++){let c=n[l];if(typeof this.app.context[c[0]]=="function"){try{this.app.context[c[0]].apply(this.app.context,c.slice(1))}catch(d){this.app.log("mgq error:","error",d)}this.app.context._mgq.splice(l-o,1),o++}}this.app.context._mgqi||(this.app.context._mgqi=this.app.context.setInterval(()=>{this._worker()},5)),this.isLongCheck||new Date().getTime()-this.app.context._mgqt>1e4&&(this.isLongCheck=!0,this.app.context.clearInterval(this.app.context._mgqi),this.app.context._mgqi=this.app.context.setInterval(()=>{this._worker()},100))}}}});var ol=Ie(Js=>{"use strict";N();V();U();j();z();$();Z();Object.defineProperty(Js,"__esModule",{value:!0});Js.ConsentsBlock=void 0;var Lf=function(){function p(a,n){n===void 0&&(n=30),this.app=a,this.consentTimeout=n}return p.prototype.initTCFv2Proxy=function(){if(typeof this.app.context.__tcfapi=="function")return;this.isSearchingLocator=!0;for(var a=this.app.context,n,o={};a;){try{if(a.frames.__tcfapiLocator){n=a;break}}catch(c){this.app.log(c,"warn",c)}if(a===this.app.context.top)break;a=a.parent}if(this.isSearchingLocator=!1,!n)return;this.app.context.__tcfapi=function(c,d,g,y){var b=Math.random()+"",_={__tcfapiCall:{command:c,parameter:y,version:d,callId:b}};o[b]=g,n.postMessage(_,"*")};function l(c){var d={};try{d=typeof c.data=="string"?JSON.parse(c.data):c.data}catch(y){this.app.log(y,"warn",y)}var g=d?d.__tcfapiReturn:null;g&&typeof o[g.callId]=="function"&&o[g.callId](g.returnValue,g.success)}this.app.context.addEventListener("message",l.bind(this),!1)},p.prototype.tcfv2Api=function(a){var n=this,o=new Date().getTime(),l;return new Promise(function(c,d){var g=function(){n.app.tcfv2Enabled=!0,n.app.requestParams=n.app.requestParams||{},n.app.requestParams.tcfV2=1;try{var y=function(b,_){_&&(b.eventStatus==="tcloaded"||b.eventStatus==="useractioncomplete")?(n.app.tcfv2Data=b,n.app.context.localStorage&&n.app.context.localStorage.setItem("MG_tcfv2Data",JSON.stringify(b)),n.app.log("Consents. TCFv2 API done."),n.app.waitConsentResolver&&n.app.waitConsentResolver(),a&&setTimeout(function(){a()},0),c()):(_&&!b.gdprApplies&&(a&&setTimeout(function(){a()},0),c()),n.app.log("Consents. TCFv2 API paused."))};n.app.context.__tcfapi("addEventListener",2,y)}catch(b){n.app.log("Consents. TCFv2 API fail."),a&&setTimeout(function(){a()},0),d(b)}};n.initTCFv2Proxy(),typeof n.app.context.__tcfapi=="function"?g():l=setInterval(function(){if(new Date().getTime()-o>=n.consentTimeout*1e3){clearInterval(l),n.app.log("Consents. TCFv2 API not found. Limit time end."),a&&setTimeout(function(){a()},0),c();return}n.isSearchingLocator||n.initTCFv2Proxy(),typeof n.app.context.__tcfapi=="function"&&(clearInterval(l),g())},500)})},p.prototype.gdprApi=function(a){var n=this;return new Promise(function(o,l){var c=n.app.getMostTopWindow();if(typeof c.__cmp=="function"){n.app.cmpEnabled=!0,n.app.requestParams=n.app.requestParams||{},n.app.requestParams.tcfV1=1;try{c.__cmp("getConsentData",null,function(d){n.app.consentData=d,n.app.context.localStorage&&n.app.context.localStorage.setItem("MG_ConsentData",JSON.stringify(d)),n.app.log("Consents. TCFv1 API done."),a&&setTimeout(function(){a()},0),o()})}catch(d){a&&setTimeout(function(){a()},0),l(d)}}else a&&setTimeout(function(){a()},0),o()})},p.prototype.ccpaApi=function(a){var n=this;return new Promise(function(o,l){var c=n.app.getMostTopWindow();if(typeof c.__uspapi=="function"){n.app.uspEnabled=!0;try{c.__uspapi("getUSPData",1,function(d,g){g?(n.app.uspString=d.uspString||"",n.app.context.localStorage&&n.app.uspString!==""&&n.app.context.localStorage.setItem("MG_uspString",n.app.uspString),n.app.log("Consents. CCPA API done.")):n.app.log("Consents. CCPA API fail."),a&&setTimeout(function(){a()},0),o()})}catch(d){a&&setTimeout(function(){a()},0),l(d)}}else a&&setTimeout(function(){a()},0),o()})},p.prototype.getGdprData=function(){var a,n,o,l,c,d,g=null;if(this.app.cmpEnabled||this.app.tcfv2Enabled||this.app.isAmp())this.app.isAmp()&&this.app.context.context.initialConsentValue?g={consentData:this.app.context.context.initialConsentValue,gdprApplies:1}:((a=this.app)===null||a===void 0?void 0:a.tcfv2Data)&&typeof((n=this.app.tcfv2Data)===null||n===void 0?void 0:n.gdprApplies)<"u"&&typeof((o=this.app.tcfv2Data)===null||o===void 0?void 0:o.tcString)<"u"?g={consentData:this.app.tcfv2Data.tcString,gdprApplies:+this.app.tcfv2Data.gdprApplies}:((l=this.app)===null||l===void 0?void 0:l.consentData)&&typeof((c=this.app.consentData)===null||c===void 0?void 0:c.gdprApplies)<"u"&&typeof((d=this.app.consentData)===null||d===void 0?void 0:d.consentData)<"u"&&(g={consentData:this.app.consentData.consentData,gdprApplies:+this.app.consentData.gdprApplies});else{var y=null;try{this.app.context.localStorage&&(y=JSON.parse(this.app.context.localStorage.getItem("MG_ConsentData")||"null"),y!=null&&typeof y.gdprApplies<"u"&&typeof y.consentData=="string"&&(g={consentData:y.consentData,gdprApplies:+y.gdprApplies}),y=JSON.parse(this.app.context.localStorage.getItem("MG_tcfv2Data")||"null"),y!=null&&typeof y.gdprApplies<"u"&&typeof y.tcString<"u"&&(g={consentData:y.tcString,gdprApplies:+y.gdprApplies}))}catch(b){this.app.log("getGdprData -> "+b.message)}}return g},p.prototype.getUspData=function(){var a=null;if(this.app.uspEnabled&&this.app.uspString!=""&&typeof this.app.uspString<"u")a={uspString:this.app.uspString};else try{if(this.app.context.localStorage){var n=this.app.context.localStorage.getItem("MG_uspString");n!=null&&n!=""&&typeof n<"u"&&(a={uspString:n})}}catch(o){this.app.log("getUspData -> "+o.message)}return a},p.prototype.getConsentData=function(){var a={},n=this.getGdprData(),o=this.getUspData();return n!=null&&Object.keys(n).forEach(function(l){return a[l]=n[l]}),o!=null&&Object.keys(o).forEach(function(l){return a[l]=o[l]}),Object.keys(a).length>0?a:null},p.prototype.fetchConsents=function(){var a=this;return Promise.allSettled([this.tcfv2Api(),this.gdprApi(),this.ccpaApi()]).then(function(){return a.getConsentData()})},p}();Js.ConsentsBlock=Lf});var Nr={};We(Nr,{ConsentsBlock:()=>Hr});var ll,Hr,Vr=ke(()=>{N();V();U();j();z();$();Z();Me();ll=da(ol()),Hr=class extends ge{constructor(a){super(a),this.consentTimeout=30,this.name="ConsentsBlock",this.consentsAdapter=new ll.ConsentsBlock(a,this.consentTimeout),this.addHook("beforeInitHooks",this.consentsAdapter.tcfv2Api.bind(this.consentsAdapter),50),this.addHook("beforeInitHooks",this.consentsAdapter.gdprApi.bind(this.consentsAdapter),50),this.addHook("beforeInitHooks",this.consentsAdapter.ccpaApi.bind(this.consentsAdapter),50)}getConsentData(){let a=this.consentsAdapter.getConsentData();return(!a||!a.gdprApplies)&&typeof this.app.context._mgGdprApplies<"u"&&(a=a||{},a.gdprApplies=this.app.context._mgGdprApplies),(!a||!a.consentData)&&typeof this.app.context._mgConsentData<"u"&&(a=a||{},a.consentData=this.app.context._mgConsentData),a}waitConsent(a){let n=!1,o=()=>{n||(n=!0,typeof this.app.requestParams.nocmp<"u"&&delete this.app.requestParams.nocmp,this.app.injectScript(!1))};this.waitConsentResolve().then(()=>{this.app.log(`${this.name}: Wait consent resolve.`),o()}),setTimeout(()=>{this.app.log(`${this.name}: Wait consent limit time end.`),o()},a*1e3)}hasStorageConsent(){let a=!1;try{this.app.context.localStorage&&(a=!!this.app.context.localStorage.getItem("MG_tcfv2Data"))}catch{this.app.log(`${this.name}: localStorage not found.`)}return a}async waitConsentResolve(){return new Promise(a=>{this.app.waitConsentResolver=a})}}});var pl={};We(pl,{RequestBlock:()=>Gr});var Gr,cl=ke(()=>{N();V();U();j();z();$();Z();Me();Gr=class extends ge{pixel(a,n,o,l){this._send(a,n,o,l,(c,d)=>{this._imgRequest(c,d)})}beacon(a,n,o,l){this._send(a,n,o,l,(c,d,g)=>{if(typeof navigator.sendBeacon=="function")try{navigator.sendBeacon(d),this.app.log(`Request beacon ${c} started`)}catch(y){this.app.log(`Request beacon ${c} error: `,"error",y),this._imgRequest(c,d)}else this._imgRequest(c,d)})}beaconBlob(a,n,o,l){this._send(a,n,{},l,(c,d,g)=>{if(typeof navigator.sendBeacon=="function")try{navigator.sendBeacon(d,o),this.app.log(`Request beaconBlob ${c} started`)}catch(y){this.app.log(`Request beaconBlob ${c} error: `,"error",y),this._xhrRequest(c,d,"POST",o)}else this._xhrRequest(c,d,"POST",o)})}script(a,n,o,l){this._send(a,n,o,l,(c,d)=>{let g=this.app.context.document.createElement("SCRIPT");g.src=d,g.type="text/javascript",g.async=!0,l.charset&&(g.charset=l.charset),l.onerror&&(g.onerror=l.onerror),l.dest?(l.dest.appendChild(g),this.app.log(`Request script ${c} started`)):this.app.log(`Request script ${c} failed - options.dest is undefined!`,"warn")})}_prepareUrl(a,n){this.app.consentDataParams=this.app.consentsBlock.getConsentData(),this.app.consentDataParams&&a.indexOf("/vz")==-1&&Object.keys(this.app.consentDataParams).forEach(l=>{let c=this.app.consentDataParams[l];a.indexOf(l)===-1&&(n[l]=`${l}=${c}`)});let o=[];for(let l of Object.keys(n))(n[l][0]==="?"||n[l][0]==="&")&&(n[l]=n[l].substring(1)),o.push(n[l]);return o.length&&(a.slice(-1)!=="?"&&a.slice(-1)!=="&"&&(a+=a.indexOf("?")===-1?"?":"&"),a+=o.join("&")),a}_send(a,n,o,l,c){if(l.unique){if(this.app.context._mgRequests=this.app.context._mgRequests||{},this.app.context._mgRequests[a]){this.app.log(`Request ${a} stopped - already defined on page`,"warn");return}this.app.context._mgRequests[a]=!0}n=this._prepareUrl(n,o),c(a,n,l)}_imgRequest(a,n){let o=this.app.context.document.createElement("IMG");o.referrerPolicy="strict-origin-when-cross-origin",o.src=n,o.onerror=()=>this.app.log(`Request image ${a} load error`,"error"),this.app.log(`Request image ${a} started`)}_xhrRequest(a,n,o,l){let c=new XMLHttpRequest;c.open(o,n,!0),c.onerror=()=>this.app.log(`Request XHR ${a} load error`),c.send(l),this.app.log(`Request image ${a} started`)}}});var dl={};We(dl,{ContextBlock:()=>qr});var qr,hl=ke(()=>{N();V();U();j();z();$();Z();Me();qr=class extends ge{constructor(a){super(a),this.topmostWindowAccessible=null,this.name="ContextBlock"}getTopmostWindowAccessible(){if(!this.topmostWindowAccessible)try{for(let a=this.app.context;a.document&&(this.topmostWindowAccessible=a,a!=a.top);a=a.parent);}catch{}return this.topmostWindowAccessible}parseUrl(a){let n=document.createElement("A");n.href=a;let o=n.search.replace(/^\?/,"").split("&"),l=[];for(let d of o)if(d!==""){let g=d.split("=");l.push({key:g[0],value:typeof g[1]<"u"?g[1]:""})}let c=n.pathname;return c===""&&(c="/"),c.charAt(0)!=="/"&&(c="/"+n.pathname),{protocol:n.protocol,host:n.host,pathname:c,search:n.search,hash:n.hash,parsedParams:l}}composeUrl(a){return a.protocol+"//"+a.host+a.pathname+a.search+a.hash}stripAmpParts(a){let n=a,o=this.parseUrl(a),l="cdn.ampproject.org";if(o.host.indexOf(l)>0&&o.host.indexOf(l)===o.host.length-l.length){let c=o.pathname.split("/");if(typeof c[1]<"u"&&(c[1]==="c"||c[1]==="v"||c[1]==="wp")){let d=!1;typeof c[2]<"u"&&c[2]==="s"&&(d=!0),n=(d?"https":"http")+"://";let g=0;for(let y of c)y!==""&&y!=="c"&&y!=="v"&&y!=="wp"&&y!=="s"&&(n+=(g++!==0?"/":"")+y);n+=o.search+o.hash}else(typeof c[1]>"u"||c[1]==="")&&(n=n.replace("."+l,"").replace("-","."))}return n}contextUriSanitize(a){if(a){a=this.stripAmpParts(a);let n=this.parseUrl(a);this.app.context._mgCanonicalUri=this.composeUrl(n)}return this.app.context._mgCanonicalUri}contextUriParse(){if(!this.app.context._mgCanonicalUri){this.app.context._mgCanonicalUri="";try{let a=this.getTopmostWindowAccessible(),n="",o=a.document.querySelector('meta[property="og:url"]');if(o&&o.getAttribute("content")&&o.getAttribute("content").indexOf("http")!==-1)n=o.getAttribute("content");else{let l=a.document.querySelector("link[rel='canonical']");l&&l.getAttribute("href")&&l.getAttribute("href").indexOf("http")!==-1&&(n=l.getAttribute("href"))}if(n===""){switch(this.app.iframePlacementType){case 0:n=this.app.pageUrl;break;case 1:n=this.app.pageUrl;break;case 2:n=this.app.refererUrl;break;case 3:try{n=this.app.context.context.canonicalUrl}catch{}n||(n=this.app.pageUrl!==""?this.app.pageUrl:this.app.refererUrl);break}this.contextUriSanitize(n)}else this.app.context._mgCanonicalUri=n}catch{}}return this.app.context._mgCanonicalUri}}});var ul={};We(ul,{PageViewPixelBlock:()=>Ur});var Ur,ml=ke(()=>{N();V();U();j();z();$();Z();Me();Ur=class extends ge{constructor(a){super(a),this.name="PageViewPixelBlock",this.sendPageViewPixel()}sendPageViewPixel(){this.w=this.app.getMostTopWindow();let a=this.w.location.pathname;this.w["_mgPageViewEndPoint"+796531]=this.w["_mgPageViewEndPoint"+796531]||[];let n=this.w["_mgPageViewEndPoint"+796531],o=this.app.globalSettings?.ia_page_view_timeout||180,l=0,c=0;try{this.app.context.localStorage&&(l=Number(this.app.context.localStorage.getItem("_mgPageViewEndPoint"+796531)),c=Number(this.app.context.localStorage.getItem("_mgPvidTime")),new Date().getTime()-c>o*1e3&&this.app.context.localStorage.setItem("_mgPvid",this.app.generatePvid()))}catch{}if(new Date().getTime()-l>o*1e3&&Array.isArray(n)&&n.indexOf(a)===-1){n.push(a);let d=this.getPageViewPixelParams(),g={};for(let y in d)g[y]=`${y}=${d[y]}`;this.app.initServicerRequest&&this.app.request.pixel("pageView",this.app.webProtocol+"//c.mgid.com/pv/",g,{})}this.app.initServicerRequest=!1}getPageDataParams(){let a={};this.setPageData(),this.setRefererData();try{if(!sessionStorage.MG_Session_lastUpdate||Number(sessionStorage.MG_Session_lastUpdate)+30*60*1e3<Date.now()){let n=this.app.refererUrl.match(/:\/\/([^\/:]+)/i);sessionStorage.MG_Session_pr=n&&n[1]?n[1]:"",sessionStorage.MG_Session_lu=this.app.pageUrl}sessionStorage.MG_Session_lastUpdate=Date.now(),sessionStorage&&sessionStorage.MG_Session_pr&&(a.pr=encodeURIComponent(sessionStorage.MG_Session_pr)),sessionStorage&&sessionStorage.MG_Session_lu&&(a.lu=encodeURIComponent(sessionStorage.MG_Session_lu))}catch{}return a.cbuster=this.app.getCbusterParameter(),a.pvid=this.app.pvid,this.app.context["isFBIA"+1401472]?a.implVersion=14:this.app.isAmp()?a.implVersion=12:this.app.versionWidget&&(a.implVersion=this.app.versionWidget),a.cxurl=encodeURIComponent(this.app.contextBlock.contextUriParse()),a}setPageData(){this.app.pageView=0;let a=!1;try{a=!!this.app.context["isFBIA"+1401472]&&!!this.app.context.localStorage}catch{}if(this.app.pvid||(this.app.pvid=this.app.generatePvid()),a){let n=this.app.context.localStorage.getItem("_mgPageView"+796531),o=this.app.globalSettings.ia_page_view_timeout||180;(!n||new Date().getTime()-parseInt(n)>o*1e3)&&!this.app.initServicerRequest&&(this.app.context.localStorage.setItem("_mgPageView"+796531,new Date().getTime().toString()),this.app.pageView=1),this.app.initServicerRequest&&(this.app.context.localStorage.setItem("_mgPageViewEndPoint"+796531,new Date().getTime().toString()),this.app.context.localStorage.setItem("_mgPvidTime",new Date().getTime().toString()),this.app.pageView=1);let l=this.app.context.localStorage.getItem("_mgPvid");l&&(this.app.pvid=l)}else{let n=this.w.location.pathname;this.w["_mgPageView"+796531]=this.w["_mgPageView"+796531]||[];let o=this.w["_mgPageView"+796531];this.w["_mgPageViewEndPoint"+796531]=this.w["_mgPageViewEndPoint"+796531]||[];let l=this.w["_mgPageViewEndPoint"+796531];this.w._mgPvidList=this.w._mgPvidList||[];let c=this.w._mgPvidList;Array.isArray(o)&&o.indexOf(n)===-1&&!this.app.initServicerRequest&&(o.push(n),this.app.pageView=1),Array.isArray(l)&&l.indexOf(n)===-1&&this.app.initServicerRequest&&(l.push(n),this.app.pageView=1),typeof this.w._mgPvid<"u"&&(this.app.pvid=this.w._mgPvid),Array.isArray(c)&&c.indexOf(n)===-1&&(c.push(n),this.app.pvid=this.app.generatePvid(),this.w._mgPvid=this.app.pvid)}}setRefererData(){let a=this.app.isIframe(),n=!0,o=!1,l=this.app.context,c=this.app.context;if(a)for(;;){try{l.frameElement&&l.frameElement.src!=""&&(n=!1),l.document.body}catch{l=c,o=!0,n=!1;break}if(l==l.parent)break;c=l,l=l.parent}try{this.app.isAmp()?(this.app.iframePlacementType=3,this.app.pageUrl=typeof this.app.context.context.sourceUrl<"u"?this.app.context.context.sourceUrl:"",this.app.refererUrl=typeof this.app.context.context.referrer<"u"?this.app.context.context.referrer:"",this.app.pageUrl!=""?this.app.refererParam=this.app.pageUrl:this.app.refererParam=this.app.refererUrl):(this.app.pageUrl=l.document.location.href,this.app.refererUrl=l.document.referrer||"",this.app.refererParam=this.app.refererUrl,a&&!n&&(o?this.app.iframePlacementType=2:(this.app.refererParam=this.app.pageUrl,this.app.iframePlacementType=1)))}catch{this.app.iframePlacementType=2}}getPageViewPixelParams(){let a={...this.getPageDataParams(),site:796531,i:1};return this.app.userAgentDataParams&&(a={...a,...this.app.userAgentDataParams}),a}}});var fl={};We(fl,{UtilsBlock:()=>jr});var jr,gl=ke(()=>{N();V();U();j();z();$();Z();Me();jr=class extends ge{constructor(a){super(a),this.isMobileResult=null,this.name="UtilsBlock"}getScroll(){let a=this.getWindow();return{top:a.document.body.scrollTop||a.document.documentElement.scrollTop||0,left:a.document.body.scrollLeft||a.document.documentElement.scrollLeft||0}}getViewportSize(){let a=this.getWindow();return{width:a.innerWidth||a.document.documentElement.clientWidth,height:a.innerHeight||a.document.documentElement.clientHeight}}getRect(a,n){let o=a.getBoundingClientRect(),l={top:o.top,bottom:o.bottom,left:o.left,right:o.right,height:o.height?o.height:o.bottom-o.top,width:o.width?o.width:o.right-o.left};if(this.app.context.self!==this.app.context.top){let c=this.getFrame();if(c){let d=c.getBoundingClientRect();l.top+=d.top,l.bottom+=d.top,l.left+=d.left,l.right+=d.left}}if(n){let c=this.getScroll();l.top+=c.top,l.bottom+=c.top,l.left+=c.left,l.right+=c.left}return l}getWindow(){let a;if(typeof a>"u"){let n=this.app.context;if(this.app.context.parent!=this.app.context.self)try{typeof this.app.context.top.document<"u"&&(n=this.app.context.top)}catch{}a=n}return a}getFrame(){let a;try{let n;for(let o=this.app.context;o.frameElement;o=o.parent)n=o.frameElement;a=n}catch{a=null}return a}isMobile(){if(this.isMobileResult===null){let a=!1;(function(n){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(n.substr(0,4)))&&(a=!0)})(navigator.userAgent||navigator.vendor||window.opera),this.isMobileResult=a}return this.isMobileResult}isTablet(){let a=(navigator.userAgent||navigator.vendor||window.opera).toLowerCase();return/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(a)}generateHash(){return Date.now().toString(36)+Math.random().toString(36).substring(2)}isChromeWebView(){let a=["WebView","Android.*(;\\s+wv|Version/\\d.\\d\\s+Chrome/\\d+(\\.0){3})","Linux; U; Android"],n=new RegExp("("+a.join("|")+")","ig");return!!navigator.userAgent.match(n)}isSupportES6(){try{return new Function("async (x = 0) => x; try {const x=window?.x;} catch {};"),!0}catch{return!1}}}});var Ks,yl=ke(()=>{N();V();U();j();z();$();Z();Ks=class{constructor(a,n){if(this.additionalWidgets=n,this.mainWidgetJstSrc=a,this.additionalWidgets.length)for(let o=0;o<this.additionalWidgets.length;o++)setTimeout(()=>{this._init(this.additionalWidgets[o])},0)}_init(a){let n=this._createWidgetDiv(a.id),o=this._createWidgetScript(a.id);this._waitForElement(a.selector).then(l=>{this._insertWidgetBlock(l,n),this._insertWidgetScript(o)})}_createWidgetDiv(a){let n=document.createElement("div"),o=document.createElement("div"),l=`M${796531}ScriptRootC${a}`;return n.classList.add(`${l}-additional`),o.id=l,n.appendChild(o),n}_createWidgetScript(a){let n=document.createElement("script");return n.src=this.mainWidgetJstSrc.replace(1401472,a.toString()),n.async="async",n}_insertWidgetBlock(a,n){window._mgAdditionalPage?a.appendChild(n):a.parentElement.insertBefore(n,a)}_insertWidgetScript(a){document.head?document.head.appendChild(a):document.body.appendChild(a)}_waitForElement(a){return new Promise(n=>{if(document.querySelector(a))return n(document.querySelector(a));let o=new MutationObserver(()=>{document.querySelector(a)&&(n(document.querySelector(a)),o.disconnect())});o.observe(document.body,{childList:!0,subtree:!0})})}}});var vl={};We(vl,{BackButtonBlock:()=>Fr});var He,Fr,bl=ke(()=>{N();V();U();j();z();$();Z();Me();yl();(function(p){p.startedPage="mg-started-page",p.additionalPage="mg-additional-page",p.container="mg-additional-container",p.header="mg-additional-header",p.headerAdded="mg-header-added",p.popup="mg-additional-popup",p.popupInner="mg-additional-popup-inner",p.popupText="mg-additional-popup-text",p.popupTriangle="mg-additional-popup-triangle",p.popupCloseBtn="mg-additional-popup-close-btn",p.popupAdded="mg-popup-added",p.popupShowed="mg-popup-showed",p.popupClosed="mg-popup-closed"})(He||(He={}));Fr=class extends ge{constructor(a){super(a),this.startedPage="_mgStartedPage",this.additionalPage="_mgAdditionalPage",this.storageStartUrl="_mgStartUrl",this.storagePopupCloseTime="_mgPopupCloseTime",this.name="BackButtonBlock",this.options=JSON.parse('{"display":[{"type":"banner","options":{"text":"Leia mais ","bg_color":"#000000","text_color":"#ffffff"}}],"filters":[{"type":"device","value":["desktop","tablet","mobile","smarttv"]}],"widget_id":1436080}'),this.widgetId=Number(this.options?.widget_id),this.widgetId&&(this.siteBody=this.app.context.document.body,this.widgetContainerSelector=`M${796531}ScriptRootC${this.widgetId}-additional`,this.pointerHandler=this.pointerHandler.bind(this),this.hasFilters=!!this.options?.filters?.length,this.hasFilters?this.addHook("beforeLoadNewsHooks",this.init):this.init())}init(){if(this.hasFilters&&!this.isFiltersChecked()){this.app.log(`${this.name}: the block didn't pass the filtering conditions.`);return}let a,n=300*1e3,o=new Date().getTime(),l=null;this.app.context?.performance?.getEntriesByType("navigation")?.length?l=this.app.context.performance.getEntriesByType("navigation")[0]:this.app.context?.performance?.timing&&(l=this.app.context.performance.timing),a=setInterval(()=>{if(new Date().getTime()-o>=n){clearInterval(a),this.app.log(`${this.name}: didn't load, too long page loading process.`);return}l?.loadEventEnd&&l.loadEventEnd>0&&(clearInterval(a),this.startEvents())},100)}startEvents(){let a=this.app.context.history.state,n=this.getStartedUrl(),o=this.app.context.document.location.href;n===o&&this.isObject(a)&&a.hasOwnProperty(this.additionalPage)&&typeof this.app.context[this.additionalPage]>"u"&&(this.app.context[this.additionalPage]=!0,this.buildAdditionalPage(),this.showAdditionalPage()),typeof this.app.context.onpointerdown>"u"?this.initialEvent="click":this.initialEvent="pointerdown",this.siteBody.addEventListener(this.initialEvent,this.pointerHandler),this.app.context.addEventListener("popstate",this.popstateHandler.bind(this))}isFiltersChecked(){let a=!0,n=this.options.filters.filter(c=>c.type==="traffic_type")[0]?.value;if(a&&n?.length&&typeof this.app.servicerData.tt<"u"){let c=this.app.servicerData.tt.toLowerCase();c.length?a=n.some(d=>d.toLowerCase()===c):a=!1}let o=this.options.filters.filter(c=>c.type==="traffic_source")[0]?.value;if(a&&o?.length&&typeof this.app.servicerData.ts<"u"){let c=this.app.servicerData.ts.toLowerCase();c.length?a=o.some(d=>d.toLowerCase().indexOf(c)!==-1):a=!1}let l=this.options.filters.filter(c=>c.type==="device")[0]?.value;if(a&&l?.length&&typeof this.app.servicerData.dt<"u"){let c=this.app.servicerData.dt.toLowerCase();c.length?a=l.some(d=>d.toLowerCase()===c):a=!1}return a}pointerHandler(){if(this.siteBody.removeEventListener(this.initialEvent,this.pointerHandler),!this.getStartedUrl()){let n=this.app.context.document.location.href;this.app.context?.sessionStorage.setItem(this.storageStartUrl,n),this.pushHistoryState()}}popstateHandler(a){let n=a.target?.history?.state||a.state,o=this.getStartedUrl(),l=this.app.context.document.location.href,c=n===null||n===""||this.isObject(n)&&!n.hasOwnProperty(this.startedPage);o===l&&c&&typeof this.app.context[this.additionalPage]>"u"&&(this.app.context[this.additionalPage]=!0,this.replaceHistoryState(),this.buildAdditionalPage(),this.showAdditionalPage()),this.isObject(n)&&(o!==l&&!n.hasOwnProperty(this.additionalPage)&&!n.hasOwnProperty(this.startedPage)&&this.showRegularPage(),n.hasOwnProperty(this.startedPage)&&this.showStartedPage(),n.hasOwnProperty(this.additionalPage)&&this.showAdditionalPage())}pushHistoryState(){let a=this.app.context.history.state,n={[this.startedPage]:!0},o=this.app.context.document.location;if(a===null||a==="")(this.isIosFBWebview()||this.isFBAndroid())&&!o.hash?this.app.context.history.pushState(n,"",o.href+"#"+this.app.utils.generateHash()):this.app.context.history.pushState(n,"","");else if(this.isObject(a)){let l={...a,...n};(this.isIosFBWebview()||this.isFBAndroid())&&!o.hash?this.app.context.history.pushState(l,"",o.href+"#"+this.app.utils.generateHash()):this.app.context.history.pushState(l,"","")}else this.app.log(`${this.name}: client also uses history.state and its not an object, so module will not work.`)}replaceHistoryState(){let a=this.app.context.history.state,n={[this.additionalPage]:!0};a===null?this.app.context.history.replaceState(n,"",""):this.isObject(a)?this.app.context.history.replaceState({...a,...n},"",""):this.app.log(`${this.name}: client also uses history.state and its not an object, so module will not work.`)}buildAdditionalPage(){let a=this.options?.display?.some(c=>c.type==="header"),n=this.options?.display?.some(c=>c.type==="banner"),o=document.createElement("div");o.classList.add(He.container),o.style.display="none",this.siteBody.appendChild(o),this.styles=`
      body.${He.additionalPage} > *:not(.${He.container}) {
        display: none !important;
      }
      body.${He.additionalPage} .${He.container} {
        display: block !important;
      }
      body.${He.startedPage} .${He.container} {
        display: none !important;
      }
      body.${He.additionalPage} {
        padding-top: 0 !important;
        margin-top: 0 !important;
        transform: none !important;
      }
      .${He.container} {
        display: none;
        margin: 0 auto;
        box-sizing: border-box;
        padding: 15px 10px;
        width: 100%;
        max-width: 1100px;
        background: #fff;
      }
    `,a&&this.insertHeader(o),n&&this.insertPopup(o),this.addingStyles(o);let l=this.app.utils.isSupportES6()?"https://jsc.mgid.com/d/i/diariodorio.com.1401472.es6.js":"https://jsc.mgid.com/d/i/diariodorio.com.1401472.es5.js";new Ks(l,[{selector:`.${He.container}`,id:this.widgetId}])}insertHeader(a){let n=this.options.display.filter(l=>l.type==="header")[0]?.options?.selector||"header",o=this.app.context.document.querySelector(n);if(o){let l=getComputedStyle(o),c=o.cloneNode(!0);c.classList.add(He.header),a.classList.add(He.headerAdded),a.appendChild(c),this.styles=this.styles+`
        .${He.container}.${He.headerAdded} {
          padding: 0 !important;
        }
        .${He.header} {
          margin-bottom: 10px !important;
          z-index: 9999999 !important;
        }
        .${He.container}.${He.headerAdded} div[class=${this.widgetContainerSelector}] {
          padding: 0 10px;
          box-sizing: border-box;
        }
      `,!this.app.utils.isMobile()&&!this.app.utils.isTablet()&&(a.style.maxWidth=l.width),l.position==="fixed"&&(c.style.maxWidth="100%",c.style.top="0px",c.style.zIndex="9999999",a.style.setProperty("padding-top",l.height,"important"))}}insertPopup(a){let n=this.app.context?.localStorage.getItem(this.storagePopupCloseTime),o=24*60*60*1e3,l=n&&new Date().getTime()-Number(n)>=o;if(!n||l){let c=this.options.display.filter(k=>k.type==="banner")[0]?.options,d=c?.bg_color||"#0279f5",g=c?.text_color||"#ffffff",y=c?.text||this.app.getTranslation("[INFORMER_BACK_BUTTON_BANNER_TEXT]"),b=document.createElement("div");b.classList.add(He.popup),a.classList.add(He.popupAdded),b.innerHTML=`
        <div class="${He.popupInner}">
          <div class="${He.popupText}">${y}</div>
          <div class="${He.popupTriangle}"></div>
          <div class="${He.popupCloseBtn}">
            <svg width="11" height="11" viewBox="0 0 11 11">
              <path fill="${g}" fill-rule="evenodd" d="M10.34.038L5.5 4.878.66.038.038.66l4.84 
              4.84-4.84 4.84.622.622 4.84-4.84 4.84 4.84.622-.622-4.84-4.84 4.84-4.84z"></path>
            </svg>
          </div>
        </div>
      `,a.appendChild(b),this.styles=this.styles+`
        .${He.popup} {
          display: block;
          margin: 0 auto;
          width: 100%;
          height: 50px;
          overflow: hidden;
          position: relative;
          z-index: 999999;
        }
        .${He.popupInner} {
          position: relative;
          display: flex;
          align-items: center;
          justify-content: space-between;
          margin: 0 auto;
          width: 100%;
          height: 40px;
          text-align: center;
          transition: all 0.7s ease;
          opacity: 0;
          transform: translateY(-150px);
          background: ${d};
        }
        .${He.popup}.${He.popupShowed} .${He.popupInner} {
          transform: translateY(0px);
          opacity: 1;
        }
        .${He.popup}.${He.popupClosed} .${He.popupInner} {
          display: none;
        }
        .${He.popup}.${He.popupClosed} {
          z-index: -1;
        }
        .${He.popupText} {
          box-sizing: border-box;
          padding: 10px;
          width: 100%;
          height: 100%;
          display: flex;
          align-items: center;
          justify-content: center;
          font-family: Helvetica, Arial, sans-serif;
          font-size: 16px;
          line-height: 1;
          font-weight: 400;
          color: ${g};
        }
        .${He.popupTriangle} {
          display: block;
          position: absolute;
          bottom: -10px;
          left: 50%;
          transform: translateX(-50%);
          width: 0;
          height: 0;
          border-left: 12px solid transparent;
          border-right: 12px solid transparent;
          border-top: 12px solid;
          color: ${d};
        }
        .${He.popupCloseBtn} {
          display: flex;
          align-items: center;
          justify-content: center;
          width: 15px;
          height: 15px;
          margin-right: 10px;
          color: ${g};
          cursor: pointer;
        }
        .${He.container}.${He.popupAdded} div[class=${this.widgetContainerSelector}] {
          margin-top: -40px;
        }
        @media (max-width: 480px) {
          .${He.popupText} {
            font-size: 13px;
          }
        }
      `;let _=this.app.context.document.querySelector(`.${He.popupCloseBtn}`);_&&this.app.addEvent(_,"click",()=>{b.classList.add(He.popupClosed),this.app.context?.localStorage.setItem(this.storagePopupCloseTime,String(new Date().getTime()))}),this.showPopup(a,b)}}showPopup(a,n){let o,c=new Date().getTime();o=setInterval(()=>{if(new Date().getTime()-c>=6e4){clearInterval(o),this.app.log(`${this.name}: additional widget didn't load, don't show Popup too.`);return}let d=a.querySelector(`div[class=${this.widgetContainerSelector}]`);if(d&&d.children.length){let g=d.children[0],y,b;g.shadowRoot&&g.shadowRoot.children.length?y=g.shadowRoot.children:g.children.length&&(y=g.children),y?.length&&[].slice.call(y).forEach(_=>{_.getElementsByClassName("mgbox")[0]&&(b=_.getElementsByClassName("mgbox")[0])}),b&&(clearInterval(o),n.style.maxWidth=getComputedStyle(b).width,n.classList.add(He.popupShowed),this.app.context.addEventListener("resize",()=>{n.style.maxWidth=getComputedStyle(b).width}))}},100)}addingStyles(a){let n=document.createElement("style");n.setAttribute("id","mgAdditionalStyles"),n.appendChild(document.createTextNode(this.styles)),a.appendChild(n)}showAdditionalPage(){this.siteBody.classList.remove(He.startedPage),this.siteBody.classList.add(He.additionalPage)}showStartedPage(){this.siteBody.classList.remove(He.additionalPage),this.siteBody.classList.add(He.startedPage)}showRegularPage(){this.siteBody.classList.remove(He.startedPage),this.siteBody.classList.remove(He.additionalPage)}getStartedUrl(){return this.app.context?.sessionStorage.getItem(this.storageStartUrl)}isObject(a){return a!==null&&a.constructor===Object}isIosFBWebview(){let a=this.app.context.navigator.userAgent.toLowerCase();return a.indexOf("apple")>-1&&a.indexOf("iphone")>-1&&a.indexOf("webkit")>-1&&(a.indexOf("fban")>-1||a.indexOf("fbav")>-1)&&a.indexOf("safari")===-1&&a.indexOf("firefox")===-1&&a.indexOf("chrome")===-1}isFBAndroid(){let a=this.app.context.navigator.userAgent||this.app.context.navigator.vendor||this.app.context.opera;return(a.indexOf("FBAN")>-1||a.indexOf("FBAV")>-1)&&a.indexOf("Android")>-1}}});var xl={};We(xl,{MainBlock:()=>zr});var zr,wl=ke(()=>{N();V();U();j();z();$();Z();Me();Nt();zr=class extends ge{constructor(a){super(a),this.cappingRealShowTime=0,this.widgetRealShowTime=0,this.name="MainBlock",this.addHook("beforeInitHooks",()=>{this.app.addEvent(this.app.root,"mousemove",n=>{this.app.root.mouseX=n.pageX-this.app.root.offsetLeft,this.app.root.mouseY=n.pageY-this.app.root.offsetTop})}),this.setAppFunctions(),this.addHook("afterPrepareCappingDataHooks",()=>{this.cappingRealShowTime=this.app.getCurrentTimestamp()}),this.addHook("observerWidgetHooks",(n,o)=>{n&&o>=.01&&(this.widgetRealShowTime=this.app.getCurrentTimestamp())}),this.addHook("afterLoadNewsHooks",()=>{this.fixWrongExternalImages()}),this.addHook("afterPrepareCappingDataHooks",this.renderLazyBanners),this.addHook("afterLoadNewsHooks",this.setAltToImages)}setAppFunctions(){this.app.extractClass=a=>{if(a&&typeof a.className<"u"){let n=a.className.replace(/\s/g,".").split(".")[0];if(n)return n.replace(`${1401472}`,"")}return""},this.app.getCurrentTimestamp=()=>Math.floor(Date.now()/1e3),this.app.prepareNiceHref=(a,n,o)=>{let l,c=this.app.teaserData[a];if(c?.type!=Be.Teaser)return;let d=c;if(c.coopType!=je.InternalExchange&&d.sdl==1){if(l=this.app.clickTracking,d.dl!="")l+=d.dl;else{let g=decodeURIComponent(d.source.replace(/[`|',:\/?;$%&\(\)^*!@\s]/g,"")).toLowerCase(),y=decodeURIComponent(d.title.replace(/[`|',:\/?;$%&\(\)^*!@]/g,"")).replace(/\s/g,"_");l+=this.app.webProtocol+"//"+(g?g+"/":"")+y}this.app.clickTracking&&l.indexOf(this.app.clickTracking)!==-1&&(l=this.app.clickTracking+encodeURIComponent(l.replace(this.app.clickTracking,"")))}else l=this.app.prepareHref(a,n,o);return l},this.app.prepareHref=(a,n,o)=>{let l=this.app.teaserData[a],c=this.app.getQueryParameterByName("dc"),d=this.getClickZone(),g="",y="";if(o&&this.app.context._mgExternalLinkChanger===1){let b=o.search;if(g=o.protocol+"//"+o.hostname+o.pathname,b!=""){b=b.replace("?","");let _=b.split("&");for(let k=0;k<_.length;k++){let M=_[k].split("=");M[0]!="k"&&M[0]!="dc"&&(g+=(k==0?"?":"&")+_[k])}}}else g=this.app.clickTracking+this.app.webProtocol,l?l.link&&(/^http[s]?:/.test(l.link)?g=this.app.clickTracking+l.link:l.coopType==je.InternalExchange?g=this.app.clickTracking+this.app.intExchangeProtocol+l.link:g=this.app.clickTracking+this.app.webProtocol+l.link):g="#";if(this.app.clickableDelay&&this.app.activateDelayBlock&&this.app.activateDelayBlock.isWagesLink(o)&&(y="dc=1"),y=c?"dc="+parseInt(c):y,y=d!==""&&y===""?"dc="+d:y,y!==""&&(g+=(g.indexOf("?")>=0?"&":"?")+y),this.app.transitParamsInit){let b=this.app.getQueryParameterByName("extclckid");b&&/[\&\?]extclckid\=/.test(g)===!1&&(g+=(g.indexOf("?")>=0?"&":"?")+"extclckid="+b)}if(this.app.antifraudBlock?.getAntifraudParams&&l&&l.coopType!=je.InternalExchange&&(g+=this.app.getAntifraudQueryParameter(g,n,o)),this.cappingRealShowTime&&/[\&\?]crst\=/.test(g)===!1&&(g+=(g.indexOf("?")>=0?"&":"?")+"crst="+this.cappingRealShowTime),this.widgetRealShowTime&&/[\&\?]wrst\=/.test(g)===!1&&(g+=(g.indexOf("?")>=0?"&":"?")+"wrst="+this.widgetRealShowTime),this.app.context.transitType&&/[\&\?]trt\=/.test(g)===!1&&(g+=(g.indexOf("?")>=0?"&":"?")+"trt="+this.app.context.transitType),this.app.clickTracking&&g.indexOf(this.app.clickTracking)!==-1&&(g=this.app.clickTracking+encodeURIComponent(g.replace(this.app.clickTracking,""))),o&&/[\&\?]wct\=/.test(g)===!1&&this.getParameterFromLink(o,"wct")&&(g+=(g.indexOf("?")===-1?"?":"&")+this.getParameterFromLink(o,"wct")),n?.type==="click"){let b=n.target,_="."+this.app.extractClass(b),k=b.tagName;if(k==="A"){let M=b.parentNode;k=M.tagName,_="."+this.app.extractClass(M)}(!l||l.coopType!==je.InternalExchange&&l.coopType!==je.DirectPublisherDemand)&&(g+=(g.indexOf("?")>=0?"&":"?")+"ce="+k+_)}if(l&&l.coopType!==je.InternalExchange&&l.coopType!==je.DirectPublisherDemand){let b=this.app.getMuid();b.length&&g.indexOf("muid")<0&&(g+=(g.indexOf("?")>=0?"&":"?")+"muid="+b)}return this.app.context.transitThrownParams&&this.app.context.transitThrownParams.forEach(b=>{let _=this.app.getQueryParameterByName(b);_&&_.length>0&&(g=this.replaceUrlParam(g,b,_))}),g},this.app.getAntifraudQueryParameter=(a,n,o)=>{let l=this.app.antifraudBlock.getAntifraudParams(n,o);if(l){let c=this.app.id;return(a.indexOf("?")>=0?"&":"?")+"k="+c+"f"+l}return""},this.app.getTranslation=a=>{let n=ce;return a.search(/^\[\S*\]$/g)===0?n[a]?n[a]:"":a},this.app.getParentLink=a=>{for(;a&&a.tagName!=="BODY";){if(a.tagName=="A")return a;a=a.parentNode}return null},this.app.getParentElWithClass=(a,n)=>{try{for(;a&&a.tagName!=="BODY";){if(a.classList.contains(n))return a;a=a.parentNode}}catch{return null}return null},this.app.findClosest=(a,n)=>{let o;for(;a.parentNode;){o=a.parentNode.querySelectorAll(n);for(let l=0;l<o.length;l++)if(a.isEqualNode(o[l]))return o[l];a=a.parentNode}return null},this.app.htmlToElement=a=>{let n=document.createElement("div");return n.innerHTML=a,n.firstChild},this.app.htmlToElements=a=>{let n=this.app.context.document.createElement("div");return n.innerHTML=a,Array.prototype.slice.call(n.childNodes)},this.app.getInternalIds=()=>Object.keys(this.app.context._mgIntExchangeNews),this.app.getExceptAds=()=>{let a=Number(this.app.globalSettings?.except_ads_limit)||150;return this.app.exceptAdsList.length>a&&(this.app.exceptAdsList=this.app.exceptAdsList.slice(this.app.exceptAdsList.length-a)),this.app.exceptAdsList},this.app.tox64String=(a,n)=>{n=n||!1;let o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",c,d,g,y,b,_,k,M=0;for(;M<a.length;)c=a.charCodeAt(M++),d=a.charCodeAt(M++),g=a.charCodeAt(M++),y=c>>2,b=(c&3)<<4|d>>4,_=isNaN(d)?64:(d&15)<<2|g>>6,k=isNaN(g)?64:g&63,l+=o.charAt(y)+o.charAt(b)+o.charAt(_)+o.charAt(k);return n===!0&&(l=l.replace("+","-").replace("/","_").replace("=","*")),l},this.app.hangNiceLinkListener=(a,n)=>{if(this.app.loadedDefault)return;let o=a.getAttribute("data-hash");return this.app.teaserData[o].type==Be.Teaser&&this.app.teaserData[o].sdl&&(this.app.teaserData[o].sdl=0),a[this.app.hrefAttr]=this.app.prepareHref(o,n,a),!0},this.app.eventsHangNiceLinkListener=a=>{a||(a=this.app.context.event);let n=a.target||a.srcElement;n.tagName!="A"&&(n=this.app.getParentLink(n),n===null)||!n.hasAttribute("data-hash")||this.app.hangNiceLinkListener(n,a)},this.app.isHiddenElement=a=>{for(;a.tagName!=="BODY";){if(a.style.position!=="fixed"&&a.offsetParent||a.style.visibility==="hidden"||a.style.display==="none")return!0;a=a.parentNode}return!1},this.app.random=(a,n)=>Math.floor(a+Math.random()*(n-a+1)),this.app.isTouchDevice=()=>"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.maxTouchPoints>0,this.app.getExpectedCountNews=()=>{let a=40,n=JSON.parse("[]");if(this.app.utils.isMobile()&&typeof n.mobile<"u"&&(a=n.mobile),this.app.adBlockDetect()){for(let o in this.app.childWidgetsData)if(this.app.childWidgetsData.hasOwnProperty(o)&&this.app.childWidgetsData[o].isAdblockChild){a=this.app.childWidgetsData[o].childCountNews;break}}return a},this.app.isPassiveSupported=()=>{if(typeof this.app.passiveIsSupported<"u")return this.app.passiveIsSupported;this.app.passiveIsSupported=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){this.app.passiveIsSupported=!0}}))}catch{}return this.app.passiveIsSupported},this.app.getWidgetValue=(a,n)=>{let o=JSON.parse('{"1440407":{"id":1440407,"desktopDoubleclickDelay":0,"doubleclickParameters":null,"mobileDoubleclickDelay":0,"goodsPartUid":57772380,"newsPartUid":0,"widgetReturnedRefresh":0,"useRefreshNews":0,"elastic":0,"afCheckForensiq":0,"refreshAdsTime":45,"refreshAdsBy":0,"gptOptions":"{}"},"1461248":{"id":1461248,"desktopDoubleclickDelay":0,"doubleclickParameters":null,"mobileDoubleclickDelay":0,"goodsPartUid":57793168,"newsPartUid":0,"widgetReturnedRefresh":0,"useRefreshNews":0,"elastic":0,"afCheckForensiq":0,"refreshAdsTime":45,"refreshAdsBy":0,"gptOptions":"{}"}}');return this.app.originalId!==this.app.id&&typeof o[this.app.id]?.[a]<"u"?o[this.app.id][a]:n},this.app.isEnabledDoubleClick=()=>typeof this.app.servicerData.dcb<"u"}fixWrongExternalImages(){let a=this.app.root.getElementsByClassName("mg-wrong-image");if(a.length)for(let n=0;n<a.length;n++){let o=a[n],l=o.src;o.src=this.app.blankImage,setTimeout(()=>{let c=o.getBoundingClientRect();o.classList.add("mg-wrongImage"+n),o.src=l,this.app.stylesheetsBlock.add("wrongImage"+n,".mg-wrongImage"+n+" { width: "+c.width+`px !important;
height: `+c.height+`px !important;
object-fit: cover;
-o-object-fit: cover;
object-position: top;
-o-object-position: top;
 }`)},50)}}fixHeaderWidgetHeight(){let a="M"+796531+"ScriptRootC"+1401472,n=this.app.context.document.getElementById(a);n&&n.setAttribute("style","min-height:auto !important;")}getClickZone(){let a=JSON.parse("[]");if(a.length===0||!a.top||!a.left||!a.right||!a.bottom)return"";let n=this.app.root.offsetHeight,o=this.app.root.offsetWidth,l=this.app.root.mouseX,c=this.app.root.mouseY,d={top:n/100*a.top,left:o/100*a.left,right:o-o/100*a.right,bottom:n/100*a.bottom},g=c<=d.top?0:c>=d.bottom?2:1,y=l<=d.left?0:l>=d.right?2:1;return[[2,3,4],[5,"",6],[7,8,9]][g][y]}getParameterFromLink(a,n){let o=a?.search;if(o==="")return null;let l=o.replace("?","").split("&");for(let c=0;c<l.length;c++)if(l[c].split("=")[0]===n)return l[c];return null}replaceUrlParam(a,n,o){let l=new RegExp("\\b("+n+"=).*?(&|#|$)");return o===null?a:a.search(l)>=0?a.replace(l,"$1"+o+"$2"):(a=a.replace(/[?#]$/,""),a+(a.indexOf("?")>0?"&":"?")+n+"="+o)}renderLazyBanners(a){this.app.root&&this.app.teaserData[a].type==="banner"&&this.app.renderBanners(!1,this.app.teaserData[a].iteration)}setAltToImages(){if(this.app.root){let a=this.app.root.getElementsByTagName("img");for(let n=0;n<a.length;n++)a[n].getAttribute("alt")===null&&a[n].setAttribute("alt","")}}}});var Tl={};We(Tl,{ResponseParserBlock:()=>$r});var $r,Sl=ke(()=>{N();V();U();j();z();$();Z();Me();Nt();$r=class extends ge{getParsedTeaserData(a,n){let o={source:this.app.htmlEntities(a[0]),id:this.app.htmlEntities(a[1]),title:a[3]?this.app.prepareTitle(a[3]):"",desc:a[4]?this.app.prepareDesc(a[4]):"",mirror:"marketgid",key:a[6],price:a[7]?this.app.htmlEntities(a[7]).replace(".00","").replace(new RegExp("[^0-9.]"),""):"",priceold:a[8]?this.app.htmlEntities(a[8]).replace(".00","").replace(new RegExp("[^0-9.]"),""):"",discount:"",other:a[10]?a[10]:{},hash:a[9]},l=(1-parseFloat(o.price)/parseFloat(o.priceold))*100;return l<=1||l>100?(o.priceold="",o.discount=""):o.discount=l?`${Math.floor(l)}%`:"",o.other.i=o.other.i?this.app.htmlEntities(o.other.i):this.app.blankImage,this.app.deviceType!=Ti.Desktop&&(o.other.sdl=0),{type:Be.Teaser,hash:o.hash,id:o.id,source:o.source,title:o.title,desc:o.desc,price:o.price,priceold:o.priceold,discount:o.discount,category:o.other.category,cta:o.other.cta??"",cdt:o.other.cdt??"",img:o.other.i,link:o.other.l??"",mirror:o.mirror,extd:o.other.extd,coopType:o.other.type??null,mediaType:o.other["media-type"],mirroredImage:o.other.mirror,sdl:o.other.sdl,dl:o.other.dl,criteo_pi:o.other.criteo_pi??"",criteo_piu:o.other.criteo_piu??"",clicktrackers:o.other.clicktrackers??[],imp:o.other.imp??[],impt:o.other.impt??[],jst:o.other.jst??[],iteration:n,page:this.app.pagesServicerData.length,cdomain:o.other.cdomain||null,ccid:o.other.ccid||null,ch:o.other.ch||null}}getParsedBannerData(a,n){let l="mgBanner_"+1401472+"_"+this.app.pagesServicerData.length+"_"+n;return{type:Be.Banner,id:l,hash:a.h,coopType:je.Wages,imp:a.imp??[],page:this.app.pagesServicerData.length,iteration:n,impt:a.impt??[],jst:a.jst??[],html:a.html,width:a.width??0,height:a.height??0,rs:a.rs??!1,useSecureIframe:!1,clickUrl:a.clickUrl}}getCustomBannerData(a,n){this.app.consentDataParams&&(typeof this.app.consentDataParams.gdprApplies<"u"&&typeof this.app.consentDataParams.consentData<"u"&&(a=a.replace(/\${GDPR}/g,String(this.app.consentDataParams.gdprApplies)).replace(/\${GDPR_CONSENT}/g,this.app.consentDataParams.consentData)),typeof this.app.consentDataParams.uspString<"u"&&(a=a.replace(/\${CCPA}/g,this.app.consentDataParams.uspString)));let o="mgBanner_"+1401472+"_"+this.app.pagesServicerData.length+"_"+n;return{type:Be.Banner,hash:"",coopType:je.Wages,imp:[],page:this.app.pagesServicerData.length,iteration:n,impt:[],jst:[],html:a,id:o,width:0,height:0,rs:!1,useSecureIframe:!0,clickUrl:""}}getParsedGptData(a){let n="mgGpt_"+1401472+"_"+this.app.pagesServicerData.length+"_"+a,o=Object.keys(this.app.preRenderTeaserSizes).filter(l=>this.app.preRenderTeaserSizes[l].position===a).map(l=>this.app.preRenderTeaserSizes[l])[0];return{id:n,type:Be.Gpt,hash:"",coopType:je.Wages,page:this.app.pagesServicerData.length,iteration:a,imp:[],impt:[],jst:[],width:o?.width||0,height:o?.height||0,afrd:this.app.servicerData.afrd||0,divId:this.app.gptOptions.divId,slot:this.app.gptOptions.slot,lazy:this.app.gptOptions?.lazy||null,backfill:this.app.gptOptions?.backfill||null,isRendered:!1}}getAdUnitsFromJson(a){let n=[];return Array.isArray(a)&&a.forEach((o,l)=>{let c=l+1;if("gpt"in o){let d=this.getParsedGptData(c);n.push(d)}else if("html"in o){let d=this.getParsedBannerData(o,c);n.push(d)}else if(this.app.customBanners[this.app.id]?.[c]?.length>0){let d=this.getCustomBannerData(this.app.customBanners[this.app.id][c],c);n.push(d)}else{let d=this.getParsedTeaserData(o,c);n.push(d)}}),n}fillAdUnitsData(a){a.forEach(n=>{switch(n.type){case Be.Teaser:this.fillTeaserData(n);break;case Be.Banner:this.fillBannerData(n);break;case Be.Gpt:this.fillGptData(n);break}})}fillTeaserData(a){this.app.teaserData[a.hash]=a,a.coopType==je.InternalExchange&&(this.app.context._mgIntExchangeNews[a.id]=1),a.coopType==je.Wages&&a.extd!==1&&this.app.exceptAdsList.indexOf(a.id)===-1&&this.app.exceptAdsList.push(a.id)}fillBannerData(a){this.app.teaserData[a.hash||a.id]=a,this.app.banners[a.id]=a}fillGptData(a){this.app.teaserData[a.id]=a}}});var _l={};We(_l,{CookieBlock:()=>Yr});var Yr,Cl=ke(()=>{N();V();U();j();z();$();Z();Me();Yr=class extends ge{constructor(a){super(a),this.app=a,this.cookieStorage={},this.sharedCookieStorage={},this.storageName="MgidStorage"+(this.app.context["MarketGidPageOffset"]?this.app.context["MarketGidPageOffset"]:"")}getCookieValue(){{let a=this.app.context.document.cookie.match(new RegExp("(?:^|; )"+this.storageName+"=([^;]*)")),n={};if(a)try{n=JSON.parse(decodeURIComponent(a[1]))}catch{}return n}}getCookie(){let a=this.getCookieValue();typeof a["C"+1401472]<"u"?this.cookieStorage=a["C"+1401472]:this.cookieStorage={},typeof a[0]<"u"?this.sharedCookieStorage=a[0]:this.sharedCookieStorage={}}setCookie(){{let a=this.getCookieValue();a["C"+1401472]=this.cookieStorage,a[0]=this.sharedCookieStorage;let n=encodeURIComponent(JSON.stringify(a));this.app.context.document.cookie=this.storageName+"="+n+";path=/"}}}});var kl={};We(kl,{StylesheetsBlock:()=>Zr});var Zr,Dl=ke(()=>{N();V();U();j();z();$();Z();Me();Zr=class extends ge{constructor(a){super(a),this.name="StylesheetsBlock",this._isIE=typeof Proxy>"u",this._stylesDom={},this._isIE||(this._stylesDom=new Proxy(this._stylesDom,{set:(n,o,l)=>{let c=l.container,d=l.style;return n[o]&&delete this._stylesDom[o],this._inject(d,o,c),n[o]=l,!0},has:(n,o)=>this.app.root.querySelector("style#"+o)===null&&typeof n[o]<"u"?!1:typeof n[o]<"u",deleteProperty:(n,o)=>(this._removeFromDom(o),delete n[o],!0)}))}add(a,n,o=null){a+="_"+this.app.uniqId,!(!this._isIE&&typeof o>"u"&&a in this._stylesDom)&&(n=n.replace(/((@media|@supports not) \([^(]*\) {)/g,"$1}"),n=n.replace(/((?:^|}|,|;)\W*)((?:\w+)?\.(?:mc|mg|row)[\-\w]+)/g,"$1"+this.app.getMainCssSelector()+" $2"),n=n.replace(/(((@media|@supports not) \([^(]*\) \{)\})/g,"$2"),n=n.replace(/video-cdn\.(.+)\/mgPlayer/g,this.app.currentSubnetDomain),n!==""&&(this._isIE?(this._removeFromDom(a),this._inject(n,a,o)):this._stylesDom[a]={style:n,container:o}))}remove(a){a+="_"+this.app.uniqId,!this._isIE&&a in this._stylesDom?delete this._stylesDom[a]:this._removeFromDom(a)}_removeFromDom(a){let n=this.app.root.querySelector("#"+a);n&&n.parentNode.removeChild(n)}_inject(a,n,o){if(o){let l=o;if(l.className="MarketGidC"+1401472,l.styleSheet)l.styleSheet.cssText=a;else{for(;l.firstChild;)l.removeChild(l.firstChild);l.appendChild(this.app.context.document.createTextNode(a))}}else{let l=this.app.context.document.createElement("style");l.setAttribute("id",n),l.className="MarketGidC"+1401472,l.type="text/css",(typeof this.app.realRoot<"u"?this.app.realRoot:this.app.root).appendChild(l),l.styleSheet?l.styleSheet.cssText=a:l.appendChild(this.app.context.document.createTextNode(a))}}}});var Il={};We(Il,{SendDimensionsBlock:()=>Xr});var Xr,El=ke(()=>{N();V();U();j();z();$();Z();Me();Nt();Xr=class extends ge{constructor(a){super(a),this.childMarginFixPixels=1,this.loremData={title:"Lorem ipsum dolor sit amet Lorem ipsum dolor sit amet Lorem ipsum",domain:"Lorem ipsum dolor",description:"Lorem ipsum dolor sit amet Lorem ipsum"},this.name="SendDimensionsBlock",this.app.precalcRect={},this.isAdblock=!!this.app.adBlockDetect(),this.setAppFunctions()}setAppFunctions(){this.app.calcPreRenderingBlock=()=>{let a=this.app.root.getElementsByClassName("mgline");if(this.isAdblock)if(this.app.utils.isMobile()){for(let E=a.length;E>1;E--){let K=a[E-1];if(this.app.root.getBoundingClientRect().height>this.app.context.screen.height&&K&&K.parentNode)K.parentNode.removeChild(K);else break}a=this.app.root.getElementsByClassName("mgline"),this.app.requestParams.limitads=a.length}else{let E="",K=0;for(let W in this.app.childWidgetsData)if(this.app.childWidgetsData.hasOwnProperty(W)&&this.app.childWidgetsData[W].isAdblockChild){E=this.app.childWidgetsData[W].childSubtype;break}E==="under-article-widget-adblock"||E==="in-article-adblock"?K=25:E==="header-widget-adblock"&&(K=15),E&&K&&E.indexOf("adblock")!==-1&&this.addHook("afterLoadNewsHooks",()=>{this.changeWidgetWidth(this.app.root.querySelector(".mgbox"),K)})}typeof this.app.iframeSizeChangerBlock?.initIframeSizeChange=="function"&&this.app.iframeSizeChangerBlock.initIframeSizeChange();let n=this.app.root.getBoundingClientRect();this.app.precalcRect.width=Math.ceil(n.width?n.width:n.right-n.left),this.app.precalcRect.height=Math.ceil(n.height?n.height:n.bottom-n.top)-this.childMarginFixPixels,this.app.precalcRect.top=n.top,this.app.precalcRect.bottom=n.bottom,this.app.requestParams.w=this.app.precalcRect.width,this.app.requestParams.h=this.app.precalcRect.height;let o=0,l="7".split(",").map(Number)||[],d=(this.app.templateText.indexOf("$banner")!==-1||this.app.templateText.indexOf('data-template-schema="banner"')!==-1)&&!this.isAdblock,g=300,y=250,b=220,_=this.app.utils.isMobile()?280:y;for(let E=0;E<a.length;E++){let K=E+1,W=a[E].getBoundingClientRect(),Q=Math.ceil(a[E]?.clientHeight||(W.height?W.height:W.bottom-W.top)),ie=Math.ceil(a[E]?.clientWidth||(W.width?W.width:W.right-W.left)),J=a[E].querySelector("img.mcimg"),ae=l.indexOf(K)!==-1;if(typeof J<"u"){let ee=J.getBoundingClientRect();if(ee.height===0||ee.width===0){let Se="#preRenderingBlock"+1401472+"_"+this.app.uniqId;if(this.app.realRoot.querySelector(Se)!==null){let me=this.app.realRoot.querySelector(Se);me.style.clear="both",ee=J.getBoundingClientRect()}}(ee.height===0||ee.width===0)&&(this.app.requestParams.wrongImageSize=1),this.app.preRenderImageSizes[K-1]={height:ee.height,width:ee.width}}if((d||ae)&&ie>=g&&Q>=b&&Q<_){let ee=!1;a[K-1].innerHTML=`<div style="min-width: ${g}px; min-height: ${_}px;"></div>`;let Se=a[K-1].getBoundingClientRect(),me=this.app.root.getBoundingClientRect();if(Se.width>=g&&Se.height>=_){ee=!0;let ye=this.app.root.parentNode;for(;ye&&typeof ye.tagName<"u"&&ye.tagName!=="BODY";){let xe=ye.getBoundingClientRect();if(xe.width<me.width||xe.height<me.height){ee=!1;break}else ye=ye.parentNode}}ee&&(Q=_)}this.app.preRenderTeaserSizes[K-1]={height:Q,width:ie,position:K,top:Math.floor(W.top)},typeof this.app.prepTop<"u"&&this.app.prepTop<W.top&&o===0&&(o=E),this.app.prepTop=W.top}if(d){let E=Object.keys(this.app.preRenderTeaserSizes).map(ie=>this.app.preRenderTeaserSizes[ie]);E.every(ie=>ie.height>=y&&ie.width>=g)&&(this.app.requestParams.ident_p=!0);let K=E.reduce((ie,J)=>{let ae=`${J.width}x${J.height}`,ee=ie[ae]||[];return{...ie,[ae]:[...ee,J.position]}},{});this.app.requestParams.sz=Object.keys(K).join(";"),this.app.requestParams.szp=Object.keys(K).map(ie=>K[ie]).join(";");let W=E[0].top,Q=E.reduce((ie,J)=>{let ae=J.top+(W<0?-W:0),ee=ie[ae]||[];return{...ie,[ae]:[...ee,J.position]}},{});this.app.requestParams.szl=Object.keys(Q).map(ie=>Q[ie]).join(";")}o===0&&(o=a.length),this.app.requestParams.cols=o,this.app.root=this.app.realRoot;let k="preRenderingBlock"+1401472+"_"+this.app.uniqId,M=this.app.root;this.app.root.parentNode.id===k&&this.app.root.parentNode.parentNode!=null&&(M=this.app.root.parentNode.parentNode),M.querySelector("#"+k)!==null&&M.removeChild(M.querySelector("#"+k)),this.app.root.style.overflow="visible",this.app.root.style.visibility="visible",this.app.root.style.width=this.app.precalcRect.width+"px",this.app.root.style.height=this.app.precalcRect.height+"px",this.addHook("afterLoadNewsHooks",()=>{this.app.root.style.width="auto",this.app.root.style.height="auto"}),this.app.loadedType="",this.app.currentSubnet=null,this.app.countLoadBlocks=this.app.countLoadBlocksContainer,this.app.template=""},this.app.preparePrerenderData=a=>{let n=this.app.context.document.createElement("div"),o=this.app.context.document.createElement("div"),l=a||this.app.getExpectedCountNews(),c=[];n.id="preRenderingBlock"+1401472+"_"+this.app.uniqId,n.style.visibility="hidden",o.id=this.app.root.id,o.style.padding=`${this.childMarginFixPixels}px 0 0 0`,o.style.margin=`-${this.childMarginFixPixels}px auto 0 auto`,n.appendChild(o),this.app.loadedType="goods",this.app.currentSubnet=0,this.app.realRoot=this.app.root,this.app.countLoadBlocksContainer=this.app.countLoadBlocks,this.app.root.appendChild(n),this.app.root=o;for(let d=1;d<=l;d++)c.push({type:Be.Teaser,coopType:je.Wages,hash:"",id:d.toString(),source:this.loremData.domain,title:this.loremData.title,desc:this.loremData.description,img:this.app.blankImage,price:"",priceold:"",discount:"",iteration:d,imp:[],impt:[],clicktrackers:[],jst:[],category:"",cdt:"",criteo_pi:"",criteo_piu:"",cta:"",dl:"",extd:0,link:"",mediaType:"",mirror:"",mirroredImage:0,page:1,sdl:0});return this.app.teaserData[""]=c[0],c}}changeWidgetWidth(a,n){let l=a.offsetWidth,c=a.offsetHeight,d=l*c,g=this.app.context.innerWidth*this.app.context.innerHeight;if(d/g*100>n&&l>500){let b=g*n/100,_=d-b,k=l-l*(_/d/2),M=k>=500?Math.floor(k):500;a.style.maxWidth=M+"px"}}}});var Pl={};We(Pl,{VersionControlBlock:()=>Jr});var Jr,Al=ke(()=>{N();V();U();j();z();$();Z();Me();Jr=class extends ge{constructor(a){super(a),this.initConsoleInfo()}initConsoleInfo(){}}});var Ll={};We(Ll,{InternalExchangeBlock:()=>Kr});var Kr,Bl=ke(()=>{N();V();U();j();z();$();Z();Me();Kr=class extends ge{constructor(a){super(a),this.name="InternalExchangeBlock",this.addHook("afterLoadNewsHooks",this.initIntExchangeLabels)}initIntExchangeLabels(){if(this.app.enabledCooperationTypes.indexOf("int_exchange")===-1&&[3,2].indexOf(this.app.currentSubnet)===-1)return;let o=this.getComments(this.app.root),l=this.app.root.getElementsByClassName("type-w");if(!(this.app.currentSubnet===3&&this.app.enabledCooperationTypes.indexOf("wages")!==-1&&this.app.enabledCooperationTypes.length===1&&l.length===o.length))for(let c=0;c<o.length;c++){let d=o[c],g=this.app.findClosest(d,".mgline");if(!g||g.className.indexOf("type-w")===-1)continue;let y=this.app.context.document.createElement("IMG");if(y.setAttribute("height","20"),y.setAttribute("width","20"),y.setAttribute("alt",""),d.data==="intExchangeWagesImagePlace"){y.className="mcimgad",y.src=this.app.webProtocol+"//cdn.mgid.com/images/mgid/int_exchange_wages_ad.svg";let k=g.getElementsByClassName("criteo-informer");k.length===1&&(k[0].style.top="2px",k[0].style.right="70px")}let b=g.querySelector("a"),_=b["data-hash"]||b.getAttribute("data-hash");_&&this.app.teaserData[_]&&!!this.app.teaserData[_].source&&d.data==="intExhangeWagesSourcePlace"&&(y.className="mcimgsrc",y.src=this.app.webProtocol+"//cdn.mgid.com/images/mgid/int_exchange_wages_src.svg"),y.src&&d.parentNode.replaceChild(y,d)}}getComments(a){let n=[],o=[a];for(;o.length>0;){let l=o.pop();for(let c=0;c<l.childNodes.length;c++){let d=l.childNodes[c];d.nodeType===Node.COMMENT_NODE?n.push(d):o.push(d)}}return n}}});var Ol={};We(Ol,{RetentionToolBlock:()=>Qr});var Qr,Rl=ke(()=>{N();V();U();j();z();$();Z();Me();Qr=class extends ge{constructor(a){super(a),this.name="RetentionToolBlock",this.app.isAmp()||(this.topWindow=this.app.getMostTopWindow(),this.scriptLink="https://js.content-rec.com/diariodorio.com.41.js",this.windowErrorHandler=this.windowErrorHandler.bind(this),this.topWindow.addEventListener("error",this.windowErrorHandler,!0),this.addHook("afterInjectScriptHooks",this.loadRetentionToolScript))}loadRetentionToolScript(){this.topWindow.document.querySelector(`script[src*="${this.scriptLink}"]`)||this.insertScript()}windowErrorHandler(a){a.target?.nodeName==="SCRIPT"&&a.target?.src.indexOf(this.scriptLink)!==-1&&(a.target.removeEventListener(a.type,this.windowErrorHandler),this.topWindow.removeEventListener("error",this.windowErrorHandler,!0),this.insertScript())}insertScript(){let a=this.app.context.document.createElement("script");a.type="text/javascript",a.charset="utf-8",a.defer=!0,a.src=this.scriptLink,this.topWindow.document.head.appendChild(a)}}});var Ml={};We(Ml,{InternalExchangeLoggerBlock:()=>en});var en,Wl=ke(()=>{N();V();U();j();z();$();Z();Me();Nt();en=class extends ge{constructor(a){super(a),this.name="InternalExchangeLoggerBlock",this.app.internalExchangeLoggerHandler=this.clickHandler.bind(this),this.addHook("afterLoadNewsHooks",this.init)}init(){this.app.addClickHandler(this.app.clickHandlerList.internalExchangeLogger.handler,this.app.clickHandlerList.internalExchangeLogger.priority)}clickHandler(a){let n=a.getAttribute("data-hash");if(this.app.teaserData[n]&&this.app.teaserData[n].coopType==je.InternalExchange){let o={};o.cid=`cid=${this.app.id}`,o.tid=`tid=${this.app.teaserData[n].id}`,o.h=`h=${n}`,typeof this.app.servicerData.isBot<"u"&&(o.bot=`bot=${this.app.servicerData.isBot}`),typeof this.app.servicerData.tt<"u"&&(o.tt=`tt=${this.app.servicerData.tt}`),typeof this.app.servicerData.ts<"u"&&(o.ts=`ts=${this.app.servicerData.ts}`),typeof this.app.servicerData.psid<"u"&&(o.psid=`psid=${this.app.servicerData.psid}`),typeof this.app.servicerData.dt<"u"&&(o.dt=`dt=${this.app.servicerData.dt}`);let l=a.parentNode.tagName,c="."+this.app.extractClass(a.parentNode);o.ce=`ce=${l}${c}`,this.app.request.pixel("internalExchangeLogger",this.app.webProtocol+"//c.mgid.com/clie",o,{})}return!0}}});var Hl={};We(Hl,{AdvertLinkBlock:()=>tn});var tn,Nl=ke(()=>{N();V();U();j();z();$();Z();Me();tn=class extends ge{constructor(a){super(a),this.name="AdvertLinkBlock",this.addHook("beforeLoadNewsHooks",this.refreshAdvertLink),this.addHook("afterLoadNewsHooks",this.initAdvertPopup)}parseAdvertLink(a){let n="<!--advertPrefix-->",o=a.indexOf(n)>a.length/2;return o&&this.removeElements(this.app.root.getElementsByClassName("mg_addad"+this.app.id)),(o||this.app.countLoadBlocks===0)&&(a.indexOf(n)>=0?a=a.replace(n,this.app.tickerPrefix):a=this.app.tickerPrefix+a),a}initAdvertPopup(){if(this.app.context.top!==this.app.context.self||this.app.widgetConstructorData.type==="banner"||this.app.widgetConstructorData.type==="exit-pop-up"||["tablet","desktop"].indexOf(this.app.deviceType)===-1||typeof this.app.context._mgDisableAdvertPopup<"u"||"stringConstructorBlock"+1401472=="function")return;let a=this.app.root.querySelector(".mg_addad"+this.app.id);a&&a.addEventListener("click",n=>{this.showAdvertPopup(n)})}showAdvertPopup(a){let n=this.app.findClosest(a.target,"[data-advert-url]");if(!n)return null;a.preventDefault();let o=(typeof this.app.realRoot<"u"?this.app.realRoot:this.app.root).parentNode,l=o.querySelector("._mgAdvertPopupC"+1401472),c=o.querySelector("._mgPopupInner");var d=function(g,y,b){if(b<=0)return;let k=(y-g.scrollTop)/b*10;setTimeout(function(){g.scrollTop=g.scrollTop+k,g.scrollTop!==y&&d(g,y,b-10)},10)};if(!l){let g=`
<style>
    ._mgAdvertPopupC1401472 {
        position: fixed;
        width: 100%;
        height: 100%;
        top: 0px;
        left: 0px;
        font-family: "PTSans", Arial, sans-serif;
        font-size: 16px;
        color: #696969;
        line-height: 1.3;
        z-index: 999;

        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
    }
    ._mgAdvertPopupC1401472 iframe {
        width: 100%;
        height: 377px;
    }
    ._mgAdvertPopupC1401472 ._mgPopupShadow {
        position: absolute;
        top: 0px;
        left: 0px;
        width: 100%;
        height: 100%;
        background-color: #000;
        opacity: 0.4;
        -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=40)";
        z-index: 1;
    }
    ._mgAdvertPopupC1401472 ._mgPopupInner {
        position: relative;
        top: 50%;
        margin-left: -375px;
        left: 50%;
        padding: 36px;
        width: 750px;
        background-color: #f8f8f8;
        z-index: 2;

        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
    }
    ._mgAdvertPopupC1401472 ._mgPopupInner.fixPop {
        position: absolute!important;
        top: 30px!important;
        margin-top: 0!important;
    }
    ._mgAdvertPopupC1401472 ._mgClosePopup {
        position: absolute;
        overflow: hidden;
        top: 5px;
        right: 5px;
        height: 21px;
        width: 21px;
        text-indent: -9999px;
        background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALAgMAAADUwp+1AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEVmZmZmZmb///+E1CFqAAAAAXRSTlMAQObYZgAAAAFiS0dEAmYLfGQAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAlSURBVAjXY3BgYGEQAEIWBgcGRkYGBgYXIBaA0CA+SBwkD1QHACp2Ae2BHO8IAAAAAElFTkSuQmCC') no-repeat center center;
        background-color: transparent;
    }
    ._mgAdvertPopupC1401472 ._mgClosePopup:hover {
        background-color: #dfdfdf;
    }
</style>

<div class="_mgAdvertPopupC1401472">
    <div class="_mgPopupShadow"></div>
    <div class="_mgPopupInner">
        <a href="#" class="_mgClosePopup" title="Close"></a>
        <iframe frameborder="0"></iframe>
    </div>
</div>
`,y=this.app.htmlToElements(g);for(let M=0;M<y.length;M++)o.appendChild(y[M]);if(l=o.querySelector("._mgAdvertPopupC"+1401472),!l)return!1;c=l.querySelector("._mgPopupInner");let b=l.querySelector("._mgPopupShadow");c.style.marginTop=-(c.clientHeight/2)+"px",b.addEventListener("click",M=>{this.app.findClosest(M.target,"._mgPopupInner")==null&&l.setAttribute("style","display: none")});let _=l.querySelector("._mgClosePopup");_&&_.addEventListener("click",function(M){M.preventDefault(),l.setAttribute("style","display: none")});let k=l.querySelector("iframe");k.setAttribute("src",n.getAttribute("data-advert-url")),this.app.addEvent(this.app.context,"message",M=>{let E=M.message?"message":"data",K=JSON.parse(M[E]);if(typeof K.target>"u"||K.target!=="correct-popup-height")return!0;k.style.height=K.height+"px",K.safariIPad&&(K.keyboard?(d(this.app.context.document.body,0,500),c.classList.add("fixPop")):c.classList.remove("fixPop")),c.style.marginTop=-(c.clientHeight/2)+"px"},!1)}l.setAttribute("style","display: block"),c.className.indexOf("fixPop")>=0&&d(this.app.context.document.body,0,500)}refreshAdvertLink(){let a=this.getAdvertLinkValue(),n=!1,o=!0;if(n=this.app.adBlockDetect(),a||n&&o)try{let l=this.getAdLinkBlock().replace(/%id/g,this.app.id),c="";n?c=this.app.getTranslation("[WIDGET_TITLE_PROMOTED_CONTENT]"):c=this.app.getTranslation("[WIDGET_TITLE_YOU_MAY_LIKE]");let d=navigator.language.substr(0,2),g=de.indexOf(d)!==-1?d:"";l=l.replace("%WIDGET_TITLE%",c),l=l.replace("%lang/",g===""?"":g+"/"),l=l.replace(/\((\'|\")?\/\//g,"($1"+this.app.webProtocol+"//"),l=l.replace('src="//','src="'+this.app.webProtocol+"//"),l=l.replace('href="//','href="'+this.app.webProtocol+"//");let y="";if(y===""){y=this.app.subnetMirrorsUtm;let _=this.app.context.document.location.hostname;if(this.app.context!==this.app.context.top){let k=this.app.context.document.referrer.match(/:\/\/(.[^/]+)/);k!==null&&(_=k[1])}y=y.replace("{domain}",_)}this.app.tickerPrefix=l.replace(/%utm/,y);let b=document.createElement("div");if(n&&o)b.innerHTML=this.app.tickerPrefix;else{if(a===1)return;b.innerHTML=this.app.tickerPrefix,a===2&&this.removeElements(b.getElementsByClassName("mg_addad"+this.app.id)),a===3&&(this.removeElements(b.getElementsByClassName("mghead")),this.removeElements(b.getElementsByClassName("mghead"+this.app.id)))}this.app.tickerPrefix=b.innerHTML}catch{}else this.app.tickerPrefix=""}getAdvertLinkValue(){return parseInt(1)}removeElements(a){for(let n=0;n<a.length;n++)a[n].parentNode.removeChild(a[n])}getAdLinkBlock(){let a="smart",n="smart-plus",o="marketgid",l=pe;typeof l<"u"&&typeof l[a]<"u"&&(typeof l[a]["*"]<"u"&&(o=l[a]["*"]),typeof l[a][n]<"u"&&(o=l[a][n]));let c=le;return typeof c[o]>"u"&&(o="marketgid"),c[o]}}});var Vl={};We(Vl,{ColorBlock:()=>an});var an,Gl=ke(()=>{N();V();U();j();z();$();Z();Me();an=class extends ge{constructor(a){super(a),this.name="ColorBlock"}colorAverage(a){return new Promise(n=>{a.complete?n(this._getColor(a)):a.onload=()=>{n(this._getColor(a))}})}_getColor(a){let n={r:0,g:0,b:0},o=4,l=document.createElement("canvas");l.width=o,l.height=o;let c=l.getContext("2d");c.drawImage(a,0,0,o,o);try{let d=c.getImageData(0,0,o,o),g=-4,y=0;for(;(g+=1*4)<d.data.length;)++y,n.r+=d.data[g],n.g+=d.data[g+1],n.b+=d.data[g+2];n.r=Math.floor(n.r/y),n.g=Math.floor(n.g/y),n.b=Math.floor(n.b/y);let b=Math.max(n.r,n.g,n.b),_=Math.min(n.r,n.g,n.b);if((b/255+_/255)/2>.8){let k=this._rgbToHsl(n.r,n.g,n.b);n=this._hslToRgb(k.h,k.s,.8)}}catch(d){this.app.log(`${this.name} error: `,"error",d)}return n}_rgbToHsl(a,n,o){a/=255,n/=255,o/=255;let l=Math.max(a,n,o),c=Math.min(a,n,o),d,g,y=(l+c)/2;if(l==c)d=g=0;else{let b=l-c;switch(g=y>.5?b/(2-l-c):b/(l+c),l){case a:d=(n-o)/b+(n<o?6:0);break;case n:d=(o-a)/b+2;break;case o:d=(a-n)/b+4;break}d/=6}return{h:d,s:g,l:y}}_hslToRgb(a,n,o){let l,c,d;if(n==0)l=c=d=o;else{let g=function(_,k,M){return M<0&&(M+=1),M>1&&(M-=1),M<.16666666666666666?_+(k-_)*6*M:M<.5?k:M<.6666666666666666?_+(k-_)*(.6666666666666666-M)*6:_},y=o<.5?o*(1+n):o+n-o*n,b=2*o-y;l=g(b,y,a+1/3),c=g(b,y,a),d=g(b,y,a-1/3)}return{r:Math.floor(l*255),g:Math.floor(c*255),b:Math.floor(d*255)}}}});var ql={};We(ql,{GradientBlock:()=>sn});var sn,Ul=ke(()=>{N();V();U();j();z();$();Z();Me();sn=class extends ge{constructor(a){super(a),this.name="GradientBlock",this.addHook("afterLoadNewsHooks",this._gradientRendering)}_createGradient(a,n,o,l,c,d,g){(this.app.context.matchMedia("(max-width: 480px)").matches||this.app.deviceType==="mobile")&&(c=d);let y=.299*g.r+.587*g.g+.114*g.b>186?"#000":"#fff",b="linear-gradient("+c+"transparent, rgba("+g.r+","+g.g+","+g.b+", 0.25) 15%,rgba("+g.r+","+g.g+","+g.b+", 0.85) 30%,rgb("+g.r+","+g.g+","+g.b+") 45%)";a.style.background="rgb("+g.r+","+g.g+","+g.b+")",n.style.background=b,o.style.color=y,Object.keys(l).forEach(function(_){let k=l[_];k.firstElementChild.style.color=y}),this._setFontSize(o)}_defaultGradient(a,n,o,l,c,d){(this.app.context.matchMedia("(max-width: 480px)").matches||this.app.deviceType==="mobile")&&(l=c);let g="";d===""?g="linear-gradient("+l+"transparent,rgba(0,0,0, 0.25) 15%,rgba(0,0,0, 0.85) 30%,rgb(0,0,0) 45%)":g="linear-gradient("+l+"transparent,rgba("+d+", 0.25) 15%,rgba("+d+", 0.85) 30%,rgb("+d+") 45%)",a.style.background=g,n.style.color="#fff",Object.keys(o).forEach(function(y){let b=o[y];b.firstElementChild.style.color="#fff"}),this._setFontSize(n)}_setFontSize(a){let n=this.app.autoSizeTitle-Math.round(a.clientHeight/this.app.autoSizeTitle);a.style.fontSize=n+"px",a.style.lineHeight=n+"px"}_gradientRendering(){if(!this.app.templateContent)return;let a=this.app.templateContent.querySelectorAll("[class*=mgline-blur]");if(!a.length)return;let n=l=>{let c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(l);return c?parseInt(c[1],16)+","+parseInt(c[2],16)+","+parseInt(c[3],16):""},o={r:159,g:138,b:126};for(let l=0;l<a.length;l++){let c="",d="",g="",y=/\bmgline-[^\s]*\b/.exec(a[l].classList.value),b=/\bmgline-[^\s]*\b-mob/.exec(a[l].classList.value);y&&(g=y[0].split("-").pop(),g=g==="blur"?"bottom":g,c="to "+g+","),b&&(g=b[0].split("-")[2],d="to "+g+",");let _=a[l],k=a[l].getElementsByClassName("text-elements")[0];if(!a[l].getElementsByClassName("mctitle")[0])continue;let M=a[l].getElementsByClassName("mctitle")[0].getElementsByTagName("a")[0],E=a[l].getElementsByClassName("mcdomain"),K=a[l].querySelector("img.mcimg"),W=a[l].querySelector("video.mcvideo"),Q="";Q!==""&&(Q=n(Q)),Q===""?K?this.app.colorBlock.colorAverage(K).then(ie=>{this._createGradient(_,k,M,E,c,d,ie)}):W&&this._createGradient(_,k,M,E,c,d,o):this._defaultGradient(k,M,E,c,d,Q)}}}});var jl={};We(jl,{AdChoiceBlock:()=>rn});var rn,Fl=ke(()=>{N();V();U();j();z();$();Z();Me();Nt();rn=class extends ge{constructor(a){super(a),this.name="AdChoiceBlock",this.addHook("beforeLoadNewsHooks",this._initAdChoiceStyles),this.addHook("afterLoadNewsHooks",()=>{this._addAdChoiceIcons()})}_addAdChoiceIcons(){let a=this.app.root.getElementsByClassName("mgline");for(let n=0;n<a.length;n++)(o=>{let l=o.getAttribute("data-i");if(!l||this.app.teaserData[l]&&this.app.teaserData[l].type!==Be.Teaser&&(this.app.teaserData[l].criteo_pi==""||this.app.teaserData[l].criteo_piu==""))return;let c=o.getElementsByClassName("mcimg"),d=[].slice.call(c).filter(M=>M.tagName==="DIV")[0];if(!d)return;let g=o.querySelector(".image-container"),y=o.querySelector("img.mcimgad"),b=o.querySelector(".mgline-inner"),_=o.querySelector(".image-with-text");if(this.app.deviceType===Ti.Mobile){let M=o.querySelector(".mctitle");M.style.marginTop="7px"}if(d.getElementsByClassName("criteo-informer").length===0){let M=this.app.teaserData[l],E=this.app.context.document.createElement("a");E.className="criteo-informer",E.href=M.criteo_piu,E.target="_blank",E.rel="sponsored nofollow",E.style.top="2px",E.style.right="2px",E.style.backgroundImage="url("+M.criteo_pi+")",E.style.backgroundColor="transparent",y&&this._isAdvIconOnTop(y)&&(E.style.right=y.offsetWidth+"px"),_.appendChild(E)}})(a[n])}_isAdvIconOnTop(a){if(a){let n=+this.app.context.getComputedStyle(a).top.replace("px","");return n>=0&&n<=5}}_initAdChoiceStyles(){let a=`
div.mgline a.criteo-informer {
width: 19px !important;
height: 15px !important;
display: block;
opacity: 1;
background: #ffffff;
position: absolute;
right: 3px;
top: 3px;
z-index: 150000;
cursor: pointer;
-moz-transition: all 0.3s ease-out;
-o-transition: all 0.3s ease-out;
-webkit-transition: all 0.3s ease-out;
-ms-transition: all 0.3s ease-out;
transition: all 0.3s ease-out;
}
div.mgline:hover a.criteo-informer {
opacity: 1;
}
div.mcimg {
position: relative;
}
div.image-with-price {
position: relative;
}
.mgline .image-container {
width: auto;
margin: 0 auto;
position: relative;
}`;this.app.stylesheetsBlock.add("adChoice",a)}}});var zl={};We(zl,{RejectBlock:()=>nn});var nn,$l=ke(()=>{N();V();U();j();z();$();Z();Me();nn=class extends ge{constructor(a){super(a),this.isRejectNeeded=!1,this.name="RejectBlock",this.app.isInsertedRejectStyles=!1,this.app["MarketGidReject"]=()=>{this.isRejectNeeded=!0},this.addHook("afterLoadNewsHooks",this.initReject)}initReject(){this.isRejectNeeded&&this.reject()}reject(){let a=this.app.root.querySelectorAll(".mgline");for(let n=0;n<a.length;n++){let o=a[n],l=o.querySelector(".close-informer"),c=o.querySelector("div.mcimg"),d=o.className.match(/teaser-([0-9]+)/),g=o.className.match(/type-(w|e|i)/);if(!l&&c&&o.className.indexOf("dsp")<=0&&d&&g&&g[1]!=="i"){let b=this.buildCloseBtn(d,g);o.querySelector(".image-with-text")?.appendChild(b)}}this.initRejectStyles()}buildCloseBtn(a,n){let o=this.app.subnetDashboardDomain+"/publisher/blocked",l=this.app.context.document.createElement("a");return l.className="close-informer",l.href=o+"/teaser/"+a[1]+"/widget/"+(n[1]==="w"?57733605+"/type/goods":0+"/type/news"),l.target="_blank",l.style.top="2px",l.style.right="3px",l.rel="sponsored nofollow",l}initRejectStyles(){if(this.app.isInsertedRejectStyles)return;let a=`
div.mgline a.close-informer {
width: 14px !important;
height: 14px !important;
background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5NzI0ODBDMzY3ODcxMUU1OEM4RUU2RUJCOUREODIyQiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5NzI0ODBDNDY3ODcxMUU1OEM4RUU2RUJCOUREODIyQiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk3MjQ4MEMxNjc4NzExRTU4QzhFRTZFQkI5REQ4MjJCIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk3MjQ4MEMyNjc4NzExRTU4QzhFRTZFQkI5REQ4MjJCIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+uNcpEQAAAHxJREFUeNqckgEKwCAIRe3fYjfKc2zX6hydaLRbbDnGkLDIPggl/5lKIcbIRJRqbDSnUmOHE6LPm+CEfhj6lnN+o5WVh1VOm6xColCXc/cgLWYev9gaejnQojCab5RDzyDt6RantqoBaz5zq54ZywJ3CXjIwQGd8skfAQYALdQqftYulocAAAAASUVORK5CYIJ0ZW50Ij4NCiA8ZGl2IGNsYXNzPSJjb250ZW50LWNvbnRhaW5lciI+PGZpZWxkc2V0Pg0KICA8aDI+NTAyIC0gV2ViIHNlcnZlciByZWNlaXZlZCBhbiBpbnZhbGlkIHJlc3BvbnNlIHdoaWxlIGFjdGluZyBhcyBhIGdhdGV3YXkgb3IgcHJveHkgc2VydmVyLjwvaDI+DQogIDxoMz5UaGVyZSBpcyBhIHByb2JsZW0gd2l0aCB0aGUgcGFnZSB5b3UgYXJlIGxvb2tpbmcgZm9yLCBhbmQgaXQgY2Fubm90IGJlIGRpc3BsYXllZC4gV2hlbiB0aGUgV2ViIHNlcnZlciAod2hpbGUgYWN0aW5nIGFzIGEgZ2F0ZXdheSBvciBwcm94eSkgY29udGFjdGVkIHRoZSB1cHN0cmVhbSBjb250ZW50IHNlcnZlciwgaXQgcmVjZWl2ZWQgYW4gaW52YWxpZCByZXNwb25zZSBmcm9tIHRoZSBjb250ZW50IHNlcnZlci48L2gzPg0KIDwvZmllbGRzZXQ+PC9kaXY+DQo8L2Rpdj4NCjwvYm9keT4NCjwvaHRtbD4NCg==");
display: block;
opacity: 0;
position: absolute;
right: 2px;
top: 2px;
z-index: 149999;
cursor: pointer;
-moz-transition: all 0.3s ease-out;
-o-transition: all 0.3s ease-out;
-webkit-transition: all 0.3s ease-out;
-ms-transition: all 0.3s ease-out;
transition: all 0.3s ease-out;
}
.mgline a.close-informer:hover {
opacity: 1;
}
.mgline .image-with-text img.mcimgad {
-moz-transition: all 0.3s ease-out;
-o-transition: all 0.3s ease-out;
-webkit-transition: all 0.3s ease-out;
-ms-transition: all 0.3s ease-out;
transition: all 0.3s ease-out;
}
div.mcimg {
position: relative;
}
div.image-with-price {
position: relative;
}
.mgline .image-container {
width: auto;
margin: 0 auto;
position: relative;
}`;this.app.stylesheetsBlock.add("reject",a),this.app.isInsertedRejectStyles=!0}}});var Yl={};We(Yl,{TeaserHoverBlock:()=>on});var on,Zl=ke(()=>{N();V();U();j();z();$();Z();Me();on=class extends ge{constructor(a){super(a),this.name="TeaserHoverBlock",this.addHook("afterLoadNewsHooks",()=>{this._init()})}_init(){let a=this.app.root.querySelectorAll(".mgline");for(let n=0;n<a.length;n++){let o={mgline:a[n],advIcon:a[n].querySelector("img.mcimgad"),criteoIcon:a[n].querySelector(".criteo-informer"),rejectIcon:a[n].querySelector(".close-informer")};this._teaserHover(o)}}_teaserHover(a){let n=a.mgline,o={criteo:{el:a.criteoIcon,positionLimits:this._iconPositionLimits(a.criteoIcon,a.rejectIcon)},advIcon:{el:a.advIcon,positionLimits:this._iconPositionLimits(a.advIcon,a.rejectIcon)},rejectIcon:{el:a.rejectIcon}};this.app.isTouchDevice()?n.addEventListener("click",()=>{a.rejectIcon&&this._moveIconsForward(o)}):n.addEventListener("mouseenter",()=>{a.rejectIcon&&this._moveIconsForward(o)}),n.addEventListener("mouseleave",()=>{a.rejectIcon&&this._moveIconsBack(o)})}_iconPositionLimits(a,n){let o=this._getIconCurrentPosition(a),l=this._getIconCurrentPosition(n);return!a||!n?{initial:null,ending:null}:{initial:o.right,ending:o.right+n.offsetWidth+l.right}}_moveIconsForward(a){this._changeIconPosition(a.criteo,"mouseenter"),this._isAdvIconOnTop(a.advIcon.el)&&this._changeIconPosition(a.advIcon,"mouseenter"),a.rejectIcon.el.style.opacity="0.7"}_moveIconsBack(a){this._changeIconPosition(a.criteo,"mouseleave"),this._isAdvIconOnTop(a.advIcon.el)&&this._changeIconPosition(a.advIcon,"mouseleave"),a.rejectIcon.el.style.opacity="0"}_changeIconPosition(a,n){let o=a.positionLimits.initial,l=a.positionLimits.ending;a.el&&(n==="mouseenter"&&l!==null&&(a.el.style.right=l+"px"),n==="mouseleave"&&o!==null&&(a.el.style.right=o+"px"))}_getIconCurrentPosition(a){let n=a?this.app.context.getComputedStyle(a):null;return{right:n?parseInt(n.right.replace("px","")):null,top:n?parseInt(n.top.replace("px","")):null}}_isAdvIconOnTop(a){if(a){let n=this.app.context.getComputedStyle(a).top.replace("px","");return n>=0&&n<=5}}}});var Jl={};We(Jl,{InAppParamsBlock:()=>ln});var Xl,ln,Kl=ke(()=>{N();V();U();j();z();$();Z();Me();Xl=["mgBundle","mgStoreurl","mgIfa","gdprApplies","consentData","uspString"],ln=class extends ge{constructor(a){super(a),this.name="InAppParamsBlock",this.rootContainer=this.app.getRoot();for(let n in this.rootContainer.dataset)if(Xl.indexOf(n)!==-1){this.addHook("afterInitHooks",this.setMgDataAttributes);break}}setMgDataAttributes(){for(let a in this.rootContainer.dataset)Xl.indexOf(a)!==-1&&(this.app.requestParams[a]=this.rootContainer.dataset[a])}}});var Ql={};We(Ql,{CountersBlock:()=>pn});var pn,ep=ke(()=>{N();V();U();j();z();$();Z();Me();pn=class extends ge{constructor(a){super(a),this.impTrackCapping={},this.name="CountersBlock",this.addHook("afterLoadNewsHooks",this.countersLoad),this.addHook("afterLoadNewsHooks",this.widgetPerformancePixel),this.addHook("afterLoadNewsHooks",this.parseImpTracker),this.addHook("afterPrepareCappingDataHooks",this.sendImpTrackCapping),this.addHook("afterPrepareCappingDataHooks",this.sendJsTrackers)}countersLoad(){let a=0;if(Number(this.app.id)!==Number(1401472)){let n=this.app.childWidgetsData[this.app.id];a=n?n.newsWidgetIdPartner:null}}widgetPerformancePixel(a){}parseImpTracker(){let a=Object.keys(this.app.teaserData);for(let n in a)if(Array.isArray(this.app.teaserData[a[n]].impt)){for(let o=0;o<this.app.teaserData[a[n]].impt.length;o++)if(!(typeof this.app.teaserData[a[n]].impt[o].completed<"u")){if(this.app.teaserData[a[n]].impt[o].only_viewable===1)typeof this.impTrackCapping[a[n]]>"u"&&(this.impTrackCapping[a[n]]=[]),this.impTrackCapping[a[n]].push(this.app.teaserData[a[n]].impt[o]);else{let l=this.app.teaserData[a[n]].impt[o].code;this.app.teaserData[a[n]].impt[o].type==="i"&&this.sendCustomCounter(l),this.app.teaserData[a[n]].impt[o].type==="j"&&(this.app.teaserData[a[n]].impt[o].iframe===1?this.sendIframeTracker(a[n],l,o):this.sendInlineTracker(a[n],l))}this.app.teaserData[a[n]].impt[o].completed=1}}}sendImpTrackCapping(a){if(!(typeof this.impTrackCapping[a]>"u"))for(let n=0;n<this.impTrackCapping[a].length;n++)this.impTrackCapping[a][n].type==="i"&&this.sendCustomCounter(this.impTrackCapping[a][n].code),this.impTrackCapping[a][n].type==="j"&&(this.impTrackCapping[a][n].iframe===1?this.sendIframeTracker(a,this.impTrackCapping[a][n].code,n):this.sendInlineTracker(a,this.impTrackCapping[a][n].code))}sendCustomCounter(a){this.app.request.pixel("widgetCustomCounter",a,{mgbuster:"mgbuster="+("00000"+Math.round(Math.random()*1e5).toString(16)).slice(-5)},{})}sendIframeTracker(a,n,o){let l="<script>window.onerror = function() { return true; };<\/script>";l+=n;let c=this.app.context.document.createElement("iframe");c.style.display="none",this.app.renderInSafeIframe(c,`${a}_${o}`,l),this.app.root.appendChild(c)}sendInlineTracker(a,n){let o=this.getMglineByHash(a);if(!o)return;o.insertAdjacentHTML("beforeend",n);let l=o.childNodes;for(let c=0;c<l.length;c++)if(l[c]instanceof HTMLScriptElement){let d=l[c],g=this.app.context.document.createElement("script");g.src=d.src,o.removeChild(d),o.appendChild(g)}}getMglineByHash(a){let n=this.app.root.getElementsByClassName("mgline");for(let o=0;o<n.length;o++)if(n[o].getAttribute("data-i")===a)return n[o];return null}sendJsTrackers(a){if(Array.isArray(this.app.teaserData[a].jst))for(let n=0;n<this.app.teaserData[a].jst.length;n++){let o="<script>window.onerror = function() { return true; };<\/script>";o+=this.app.teaserData[a].jst[n];let l=this.app.context.document.createElement("iframe");l.style.display="none",this.app.renderInSafeIframe(l,`${a}_${n}`,o),this.app.root.appendChild(l)}}}});var tp={};We(tp,{BlurBlock:()=>cn});var cn,ip=ke(()=>{N();V();U();j();z();$();Z();Me();cn=class extends ge{constructor(a){super(a),this.name="BlurBlock",this.isIE11=!!window.MSInputMethodContext&&!!document.documentMode,this.addHook("afterLoadNewsHooks",this.rendering)}rendering(){let a=this.app.templateContent;if(!a)return;let n=a.querySelectorAll("[class*=mgline-small-blur]");if(!n.length)return;let o={r:159,g:138,b:126};for(let l=0;l<n.length;l++){let c=n[l],d=n[l].getElementsByClassName("text-elements")[0],g=n[l].getElementsByClassName("mctitle")[0],y=n[l].getElementsByClassName("mcdomain")[0],b=n[l].getElementsByClassName("mcdesc")[0],_=n[l].querySelector("img.mcimg"),k=n[l].querySelector("video.mcvideo");_===null&&k===null||(this.isIE11?(d.style.background="rgba(0,0,0,0.3)",c.style.background="#081010"):_?this.app.colorBlock.colorAverage(_).then(M=>{this._createGradient(c,a,M,d),c.style.background="rgb("+M.r+","+M.g+","+M.b+")",this._changeColor(M,g,y,b)}):(this._createGradient(c,a,o,d),c.style.background="rgb("+o.r+","+o.g+","+o.b+")",this._changeColor(o,g,y,b)))}}_createGradient(a,n,o,l){let c=this._blurDirection(a,n);if(l.style.background=`linear-gradient(${c}, transparent,
                        rgba(${o.r}, ${o.g}, ${o.b}, 0) 4%,
                        rgba(${o.r}, ${o.g}, ${o.b}, 0.5) 8%,
                        rgb(${o.r}, ${o.g}, ${o.b}) 12%`,typeof ResizeObserver<"u")new ResizeObserver(()=>{let g=this._blurDirection(a,n);l.style.background=`linear-gradient(${g}, transparent,
                          rgba(${o.r}, ${o.g}, ${o.b}, 0) 4%,
                          rgba(${o.r}, ${o.g}, ${o.b}, 0.5) 8%,
                          rgb(${o.r}, ${o.g}, ${o.b}) 12%`}).observe(n);else{let d=c;window.addEventListener("resize",()=>{let g=this._blurDirection(a,n);g!==d&&(l.style.background=`linear-gradient(${g}, transparent,
                        rgba(${o.r}, ${o.g}, ${o.b}, 0) 4%,
                        rgba(${o.r}, ${o.g}, ${o.b}, 0.5) 8%,
                        rgb(${o.r}, ${o.g}, ${o.b}) 12%`),d=this._blurDirection(a,n)})}}_blurDirection(a,n){let o=/\bmgline-small-blur-[^\s]*\b/.exec(a.classList.value),l=480,c=this.app.context.matchMedia(`(max-width: ${l}px)`).matches,d="to bottom";return!c&&n.offsetWidth>l&&o&&(d=`to ${o[0].split("-").pop()}`),d}_changeColor(...a){let n=a[0],o=a.slice(1),l=.299*n.r+.587*n.g+.114*n.b>186?"#000":"#fff";o.length!==0&&o.forEach(c=>{c&&(c.getElementsByTagName("a")[0].style.color=l)})}_changeFontSize(...a){let n=a[0];a.slice(1).forEach(l=>{if(l){let d;n==="to bottom"||n==="to top"?d=this.app.autoSizeTitle-Math.round(l.offsetHeight/this.app.autoSizeTitle):d=22-Math.round(l.offsetHeight/22),l.getElementsByTagName("a")[0].style.cssText=`font-size: ${d}px`}})}}});var ap={};We(ap,{SubnetsBlock:()=>dn});var dn,sp=ke(()=>{N();V();U();j();z();$();Z();Me();dn=class extends ge{constructor(a){super(a),this.name="SubnetsBlock",this.addHook("afterInitHooks",this._init),this.app.currentSubnet=0,this.app.subnetMirrorsImage="",this.app.subnetMirrorsUtm="",this.app.subnetDashboardDomain=""}_init(){let a=[1401472];this._childWidgets=JSON.parse('{"1440407":{"childId":1440407,"newsWidgetIdPartner":0,"customFuncBlocks":[],"showMonetizationEnabled":0,"childCountNews":17,"isAdblockChild":false,"childSubtype":"smart-plus"},"1461248":{"childId":1461248,"newsWidgetIdPartner":0,"customFuncBlocks":[],"showMonetizationEnabled":1,"childCountNews":6,"isAdblockChild":true,"childSubtype":"under-article-widget-adblock"}}');let n=JSON.parse('{"1440407":[],"1461248":[]}');this._childFuncBlockList=[];for(let c in this._childWidgets)this._childWidgets.hasOwnProperty(c)&&a.push(this._childWidgets[c].childId);for(let c in n)if(n.hasOwnProperty(c)){this._childFuncBlockList[c]=this._childFuncBlockList[c]||[];for(let d in n[c])n[c].hasOwnProperty(d)&&this._childFuncBlockList[c].push(n[c][d].split("/").pop())}let o=this._loadSubnets(),l=this.app.uniqId!==""?"_"+this.app.uniqId:"";a.forEach(c=>{this.app.context["mgReject"+c]=this.app["MarketGidReject"],this.app.context["mgLoadAds"+c+l]=(d,g)=>{let y=o[0];this._loadAds(d,g,c,0,y.mirror)},this.app.context["_mgConsentWait"+c+l]=d=>{this.app.consentsBlock.waitConsent(d)};for(let d in o)if(o.hasOwnProperty(d)){let g=o[d];g.id!==1&&(this.app.context[g.informer_prefix+"CReject"+c]=this.app["MarketGidReject"],this.app.context[g.informer_prefix+"LoadGoods"+c+l]=(y,b)=>{this._loadAds(y,b,c,g.id,g.mirror)})}})}_loadSubnets(){let a=JSON.parse('[{"id":0,"informer_prefix":"MarketGid","mirror":"mgid.com","mirrorName":"marketgid","imageDomain":"mgid.com","dashboardDomain":"dashboard.mgid.com","utm":"?utm_source={domain}&utm_medium=referral&utm_campaign=widgets&utm_content="}]'),n=a[0];return this.app.subnetMirrorsImage=n.imageDomain,this.app.subnetMirrorsUtm=n.utm,this.app.subnetDashboardDomain=this.app.webProtocol+"//"+n.dashboardDomain,a}_loadAds(a,n,o,l,c){if(this.app.id=o,this.app.loadedType="goods",this.app.currentSubnet=l,this.app.currentSubnetDomain=c,this.app.originalId!==this.app.id){if(typeof this._childFuncBlockList[this.app.id]<"u"){let d=this._childFuncBlockList[this.app.id];this._executeFuncBlock(d)}if(typeof this._childWidgets[this.app.id]<"u"&&typeof this._childWidgets[this.app.id].customFuncBlocks<"u"){let d=this._childWidgets[this.app.id].customFuncBlocks;this._executeFuncBlock(d)}}typeof this.app.updatePrecalcRect<"u"&&Array.isArray(a)&&a.length!==this.app.getExpectedCountNews()?this.app.updatePrecalcRect(()=>{this.app.loadedType="goods",this.app.currentSubnet=l,this.app.lifeCycleBlock.render(a,n)},a.length):this.app.lifeCycleBlock.render(a,n)}_executeFuncBlock(a){for(let n in a)if(a.hasOwnProperty(n)){let o=a[n],l=o.replace(/[-_]/g,"").replace(/./,c=>c.toUpperCase())+"Block";try{this.app[l]=new window["MarketGidInfC1401472"].childFuncBlocks[o](this.app)}catch(c){this.app.log(`SubnetsBlock - ${o} error:`,"error",c)}}}}});var np={};We(np,{SmartDoubleClickBlock:()=>hn});var rp,Bf,Of,hn,op=ke(()=>{N();V();U();j();z();$();Z();Me();rp=1,Bf=100,Of={undefined:-1,desktop:1,mobile:2,tablet:3,smarttv:4},hn=class extends ge{constructor(a){super(a),this.name="SmartDoubleClickBlock",this.app.isDisabledBySmartDoubleClick=!1,this.addHook("afterInitHooks",this._init)}_init(){this.groups=this.app.getWidgetValue("doubleclickParameters",JSON.parse("null")),!(!this.groups||!this.app.isEnabledDoubleClick())&&(this.doubleClickCheckId=0,this.loadedTime=this.app.getCurrentTimestamp(),this.handlers=this._getHandlers(),this.app.onSmartDoubleClickHandler=this._onClick.bind(this),this.app.addClickHandler(this.app.clickHandlerList.onSmartDoubleClick.handler,this.app.clickHandlerList.onSmartDoubleClick.priority))}_getGroupPercent(a,n,o){let l=0,c=n.getBoundingClientRect();for(let d in this.handlers){if(!this.handlers[d])continue;let g=this.handlers[d](a,o,c);if(g===!1)return!1;l+=g}return l/Object.keys(a).length}_getGroupElementPercent(a,n,o){return a.hasOwnProperty(n)?a[n].hasOwnProperty("value")&&o===a[n].value||a[n].hasOwnProperty("min")&&o>=a[n].min&&o<=a[n].max?a[n].percent:!1:0}_getDoubleClickPercent(a,n){for(let o in this.groups){if(!this.groups[o])continue;let l=this._getGroupPercent(this.groups[o],a,n);if(l!==!1)return this.doubleClickCheckId=o,l}return this.doubleClickCheckId=0,rp-1}_onClick(a,n){let o=this.app.random(rp,Bf);return this.app.doubleClickPercent=this._getDoubleClickPercent(a,n),this.app.isDisabledBySmartDoubleClick=this.app.doubleClickPercent<o,this.app.doubleClickCheckId=this.app.isDisabledBySmartDoubleClick?0:this.doubleClickCheckId,!0}_getHandlers(){return[a=>this._getGroupElementPercent(a,"device",Of[this.app.deviceType]||""),a=>this._getGroupElementPercent(a,"browser",this.app.browserId),a=>this._getGroupElementPercent(a,"click_time",this.app.getCurrentTimestamp()-this.loadedTime),a=>this._getGroupElementPercent(a,"width",this.app.root.offsetWidth),a=>this._getGroupElementPercent(a,"height",this.app.root.offsetHeight),a=>this._getGroupElementPercent(a,"click_y",this.app.root.mouseY),a=>this._getGroupElementPercent(a,"click_x",this.app.root.mouseX),a=>this._getGroupElementPercent(a,"hw_ratio",this.app.root.offsetHeight/this.app.root.offsetWidth),(a,n)=>this._getGroupElementPercent(a,"borderTop",n.offsetY),(a,n)=>this._getGroupElementPercent(a,"borderLeft",n.offsetX),(a,n,o)=>this._getGroupElementPercent(a,"borderRight",o.width-n.offsetX),(a,n,o)=>this._getGroupElementPercent(a,"borderBottom",o.height-n.offsetY),a=>this._getGroupElementPercent(a,"research",1)]}}});var lp={};We(lp,{MobileDoubleClickBlock:()=>un});var un,pp=ke(()=>{N();V();U();j();z();$();Z();Me();un=class extends ge{constructor(a){super(a),this.name="MobileDoubleClickBlock",("ontouchstart"in window||navigator.msMaxTouchPoints>0)&&(this.addHook("afterSendCappingHooks",this._init),this.addHook("beforeInitHooks",()=>{this.informerId=this.app.root.getAttribute("id")}))}_init(){!this.app.isEnabledDoubleClick()||(this.app.doubleClickTimeLoaded||(this.app.doubleClickTimeLoaded=new Date().getTime()/1e3),this.app.stylesheetsBlock.add("doubleclickMobile",this._getStyles()),this.app.showDoubleClickButton=this._onClick.bind(this),this.app.addClickHandler(this.app.clickHandlerList.showMobileDoubleClick.handler,this.app.clickHandlerList.showMobileDoubleClick.priority))}_onClick(a,n){if(this.app.isDisabledBySmartDoubleClick)return!0;this.app.doubleClickType="mobile",this.app.linksBlocked=!1;let o=a;if(!1===1){if(this.app.doubleClickHandler(o),o.className.indexOf("mgbuybox")===-1){for(;o.tagName!=="A"&&o.id!==this.informerId;)if(o=o.parentNode,o.id===this.informerId)return!1;try{for(;o.className.indexOf("mgline")===-1;)o=o.parentNode}catch{return!1}let l=o;l.dataset.clicked!=="1"&&(n.preventDefault(),this.app.linksBlocked=!0),l.dataset.clicked="1";let c=l.querySelector(".mgfree"),d=l.querySelector(".mgbuybox");c.style.opacity=0,d.style.opacity=1,d.style.opacity=1,d.style.zIndex=9999,setTimeout(()=>{c.style.opacity=1,d.style.opacity=0,l.dataset.clicked="0",d.style.zIndex=-9999},1e4)}}else{let l=new Date().getTime()/1e3,c=this.app.getWidgetValue("mobileDoubleclickDelay",0);if(o.className!=="MarketGidCDButton"+1401472&&(c===0||l-this.app.doubleClickTimeLoaded<c)){for(this.app.doubleClickHandler(o),this.app.linksBlocked=!0,n.preventDefault();o.tagName!=="A"&&o.id!==this.informerId;)if(o=o.parentNode,o.id===this.informerId)return;let d=o.getAttribute(this.app.hrefAttr);for(o=n.target;!o.classList.contains("mgline");)o=o.parentNode;let g=o,y=this.app.context.document.createElement("div");y.className="MarketGidCDLayout"+1401472,y.style.zIndex=1e5;let b=this.app.context.document.createElement("a"),_=80,k=80,M=(1-_/g.offsetHeight)/2*100,E=g.offsetWidth/k*.98,K=o.querySelector("a");K&&K.getAttribute("data-hash")&&b.setAttribute("data-hash",K.getAttribute("data-hash")),b.innerHTML=this.app.getTranslation("[GO]"),(typeof d=="string"||d instanceof String)&&(d=d+(d.indexOf("?")>=0?"&":"?")+"wct="+this.app.doubleClickType),b.href=d,b.style.top=M+"%";let W=E>1?(1-k/g.offsetWidth)/2*100:0;b.style.left=W+"%",g.offsetHeight<=100&&(E=.5),E<1&&(b.style.transform="scale3d("+E+","+E+","+E+")",b.style.webkitTransform="scale3d("+E+","+E+","+E+")",b.style.transformOrigin="left",b.style.webkitTransformOrigin="left"),b.target="_blank",b.className="MarketGidCDButton"+1401472,y.appendChild(b);let Q=g.querySelector(".mgline-inner");Q?Q.appendChild(y):g.appendChild(y);let ie=this.app.getWidgetValue("mobileDoubleclickDelay",0);setTimeout(()=>{E=E<1?E:1,b.style.transform="scale3d("+E+","+E+","+E+")"},ie),setTimeout(()=>{y.parentNode.removeChild(y)},1e4)}else return this.app.doubleClickHandler(o,!0),!0}}_getStyles(){return".MarketGidCDButton"+1401472+'{display:       inline-block;width:         170px !important;height:        50px !important;line-height:        50px !important;background-color: RGBA(0,0,0,0);border:        1px solid white;border-radius:        3px;color:         white !important;font:          normal 500 18px/50px "Sans", sans-serif;transform: scale3d(0.0001,0.0001,0.0001);text-align:    center;padding:    0 10px;text-shadow:   none;position: absolute;left: 0 !important;right: 0 !important;top: 0 !important;bottom: 0 !important;margin: auto !important;text-decoration: none !important;transition:all 1s;}.MarketGidCDLayout'+1401472+"{height: 100%;width: 100%;position: absolute;top: 0px;left: 0px;background-color: rgba(0, 0, 0, 0.5);z-index: 99999;}#MarketGidCComposite"+1401472+" .mgline {position:relative}"}}});var cp={};We(cp,{DesktopDoubleClickBlock:()=>mn});var mn,dp=ke(()=>{N();V();U();j();z();$();Z();Me();mn=class extends ge{constructor(a){super(a),this.name="DesktopDoubleClickBlock";let n="ontouchstart"in window||navigator.msMaxTouchPoints>0,o="addEventListener"in window.document;!n&&o&&(this.addHook("afterSendCappingHooks",this._init),this.addHook("beforeInitHooks",()=>{this.informerId=this.app.root.getAttribute("id")}))}_init(){!this.app.isEnabledDoubleClick()||(this.app.doubleClickTimeLoaded||(this.app.doubleClickTimeLoaded=new Date().getTime()/1e3),this.app.stylesheetsBlock.add("desktopDoubleClick",this._getStyles()),this.app.showDesktopDoubleClickButton=this._onClick.bind(this),this.app.addClickHandler(this.app.clickHandlerList.showDesktopDoubleClick.handler,this.app.clickHandlerList.showDesktopDoubleClick.priority))}_onClick(a,n){if(this.app.isDisabledBySmartDoubleClick)return!0;this.app.linksBlocked=!1,this.app.doubleClickType="desktop";let o=a,l=parseInt(new Date().getTime()/1e3),c=this.app.getWidgetValue("desktopDoubleclickDelay",0);if(o.className!=="MarketGidCDButton"+1401472&&(c===0||l-this.app.doubleClickTimeLoaded<c)){for(this.app.doubleClickHandler(o),n.preventDefault(),this.app.linksBlocked=!0;o.tagName!="A"&&o.id!=this.informerId;)if(o=o.parentNode,o.id==this.informerId)return!1;let d=o.getAttribute(this.app.hrefAttr);o=n.target;try{for(;!o.classList.contains("mgline");)o=o.parentNode}catch{return!1}let g=o,y=g.offsetHeight,b=this.app.context.document.createElement("div");b.className="MarketGidCDLayout"+1401472,b.style.zIndex=1e5;let _=this.app.context.document.createElement("a"),k=y/3+2,M=k;_.style.width=k-2+"px",_.style.lineHeight=k-2+"px",_.style.height="33.33%",g.offsetHeight<=100&&(M=80,k=80,_.style.width="80px",_.style.lineHeight="78px",_.style.height="80px");let E=(1-k/g.offsetHeight)/2*100;n.clientY-g.getBoundingClientRect().top<y/2?E=(1-2*k/y)*100/4+50:E=(1-2*k/y)*100/4,g.offsetHeight<=100&&(E="-34");let K=g.offsetWidth/M*.98;_.innerHTML=this.app.getTranslation("[GO]"),(typeof d=="string"||d instanceof String)&&(d=d+(d.indexOf("?")>=0?"&":"?")+"wct="+this.app.doubleClickType),_.href=d;let W=o.querySelector("a");W&&W.getAttribute("data-hash")&&_.setAttribute("data-hash",W.getAttribute("data-hash")),_.style.top=E+"%";let Q=K>1?(1-M/g.offsetWidth)/2*100:0;g.offsetHeight<=100&&(Q="45.5"),_.style.left=Q+"%",parseFloat(_.style.width)<=50&&(_.style.font="normal 500 12px/"+_.style.width+' "Sans", sans-serif'),g.offsetHeight<=100&&(K=.5),K<1&&(_.style.transform="scale3d("+K+","+K+","+K+")",_.style.webkitTransform="scale3d("+K+","+K+","+K+")",_.style.transformOrigin="left",_.style.webkitTransformOrigin="left"),_.target="_blank",_.className="MarketGidCDButton"+1401472,b.appendChild(_);let ie=g.querySelector(".mgline-inner");ie?ie.appendChild(b):g.appendChild(b),setTimeout(()=>{K=K<1?K:1,_.style.transform="scale3d("+K+","+K+","+K+")"},500),setTimeout(()=>{b.parentNode.removeChild(b)},1e4)}else return this.app.doubleClickHandler(o,!0),!0}_getStyles(){return".MarketGidCDButton"+1401472+'{display:       inline-block;width:         170px !important;height:        50px !important;line-height:        50px !important;background-color: RGBA(0,0,0,0);border:        1px solid white;border-radius:        3px;color:         white !important;font:          normal 500 18px/50px "Sans", sans-serif;transform: scale3d(0.0001,0.0001,0.0001);text-align:    center;padding:    0 10px;text-shadow:   none;position: absolute;left: 0 !important;right: 0 !important;top: 0 !important;bottom: 0 !important;margin: auto !important;text-decoration: none !important;transition:all 1s;}.MarketGidCDLayout'+1401472+"{height: 100%;width: 100%;position: absolute;top: 0px;left: 0px;background-color: rgba(0, 0, 0, 0.5);z-index: 100;}#MarketGidCComposite"+1401472+" .mgline {position:relative}"}}});var hp={};We(hp,{SspDoubleClickBlock:()=>fn});var fn,up=ke(()=>{N();V();U();j();z();$();Z();Me();Nt();fn=class extends ge{constructor(a){super(a),this.name="SspDoubleClickBlock",this.addHook("afterSendCappingHooks",this._onCapping),this.addHook("afterInjectScriptHooks",this._init),this.app.doubleClickType="ssp",this.app.hashTimer=[],this.servicerDoubleClickStatus=!1}_init(){this.app.stylesheetsBlock.add("ssp_doubleclick",this._getStyles());let a=setInterval(()=>{if(this.servicerDoubleClickStatus===!0){clearInterval(a);return}!this.app.isEnabledDoubleClick()&&typeof this.app.servicerData.dc<"u"&&this.app.root.querySelectorAll("a[data-hash]").length>0&&(this.app.sspDoubleClickHandler=this._onClick.bind(this),this.app.addClickHandler(this.app.clickHandlerList.sspDoubleClick.handler,this.app.clickHandlerList.sspDoubleClick.priority),this.servicerDoubleClickStatus=!0)},100)}_onClick(a,n){let o=a.getAttribute("data-hash"),l=new Date().getTime();return o in this.app.hashTimer&&l-this.app.hashTimer[o]>this.app.servicerData.dc||this.app.teaserData[o].coopType!==je.Wages||a.className==="MarketGidDButton"+1401472?(this.app.doubleClickHandler(a,!0),!0):(this.app.doubleClickHandler(a),n.preventDefault(),this._showButton(a),!1)}_showButton(a){let n=this.app.context.document.createElement("div");n.classList.add("MarketGidDLayout"+1401472);let o=a.closest(".mgline");o!==null&&o.appendChild(n);let l=this.app.context.document.createElement("a");l.classList.add("MarketGidDButton"+1401472);let c=a.getAttribute("href");(typeof c=="string"||c instanceof String)&&(c=c+(c.indexOf("?")>=0?"&":"?")+"wct="+this.app.doubleClickType),l.href=c,l.setAttribute("data-hash",a.getAttribute("data-hash"));let d=80,g=80,y=(1-d/o.offsetHeight)/2*100,b=o.offsetWidth/g*.98;l.style.backgroundImage="url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMzggMzgiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxwb2x5Z29uIHBvaW50cz0iMTIsMjkuMSAyMi4yLDE5IDEyLjEsOC45IDE0LDcgMjYsMTkgMTQsMzEiIGZpbGw9IiNmZmZmZmYiIGZpbGwtb3BhY2l0eT0iMSIgc3Ryb2tlPSIjZmZmZmZmIiBzdHJva2Utb3BhY2l0eT0iMSI+PC9wb2x5Z29uPjwvc3ZnPg==)",l.style.backgroundPosition="center",l.style.top=y+"%";let _=b>1?(1-g/o.offsetWidth)/2*100:0;l.style.left=_+"%",b<1&&(l.style.transform="scale3d("+b+","+b+","+b+")",l.style.webkitTransform="scale3d("+b+","+b+","+b+")",l.style.transformOrigin="left",l.style.webkitTransformOrigin="left"),l.target="_blank",n.appendChild(l),setTimeout(()=>{b=b<1?b:1,l.style.transform="scale3d("+b+","+b+","+b+")"},10),setTimeout(()=>{n.parentNode.removeChild(n)},1e4)}_onCapping(){if(typeof this.app.sspDoubleClickHash<"u")for(let a=0;a<this.app.sspDoubleClickHash.length;a++)typeof this.app.hashTimer[this.app.sspDoubleClickHash[a]]>"u"&&(this.app.hashTimer[this.app.sspDoubleClickHash[a]]=new Date().getTime())}_getStyles(){let a={0:{borderColor:"#0a1b53",gradient:"#2b3c84, #0c1b52",fontColor:"#fff"},2:{borderColor:"#010101",gradient:"#111312, #010101",fontColor:"#fff"},3:{borderColor:"#F36729",gradient:"#F79220, #F26B29",fontColor:"#fff"}},n=(typeof a[0]<"u",a[0]),o=".MarketGidDButton"+1401472+"{display:       inline-block;";return o+='width:     170px !important;height:        50px !important;line-height:        50px !important;background-color: RGBA(0,0,0,0);border:        1px solid white;border-radius:        3px;color:         white !important;font:          normal 500 18px/50px "Sans", sans-serif;transform: scale3d(0.0001,0.0001,0.0001);',o+="text-align:    center;position: absolute;left: 0 !important;right: 0 !important;top: 0 !important;bottom: 0 !important;margin: auto !important;text-decoration: none !important;transition:all 1s;}.MarketGidDLayout"+1401472+"{height: 100%;width: 100% !important;position: absolute !important;top: 0px;left: 0px;background-color: rgba(0, 0, 0, 0.5);z-index: 99999;}#MarketGidComposite"+1401472+" .mgline {position:relative}",o}}});var mp={};We(mp,{ExternalCountersBlock:()=>gn});var gn,fp=ke(()=>{N();V();U();j();z();$();Z();Me();gn=class extends ge{constructor(a){super(a),this.name="ExternalCountersBlock",this.app.externalCountersLinkHandler=this._externalCountersLinkHandler.bind(this),this._handleExternalCountersListener()}_externalCountersLinkHandler(a){let n=a.getAttribute("data-hash");if(Array.isArray(this.app.teaserData[n].clicktrackers)){let o=this.app.teaserData[n].clicktrackers;if(o.length)for(let l=0;l<o.length;l++)this.app.request.pixel(`clickTracker ${n} - ${o[l]}`,o[l],{},{})}return!0}_handleExternalCountersListener(){this.app.addClickHandler(this.app.clickHandlerList.externalCountersLink.handler,this.app.clickHandlerList.externalCountersLink.priority)}}});var gp={};We(gp,{VideoMetricsBlock:()=>yn});var yn,yp=ke(()=>{N();V();U();j();z();$();Z();Me();yn=class extends ge{constructor(a){super(a),this.name="VideoMetricsBlock",this.userAgent=this.app.context.navigator.userAgent,this.exceptionAgentList=["Zalo iOS"],this.videoType="video/mp4",this.VIDEO=new Blob([new Uint8Array([0,0,0,28,102,116,121,112,105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,109,112,52,49,0,0,0,8,102,114,101,101,0,0,2,239,109,100,97,116,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,0,0,2,194,109,111,111,118,0,0,0,108,109,118,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,47,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,236,116,114,97,107,0,0,0,92,116,107,104,100,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,101,100,116,115,0,0,0,28,101,108,115,116,0,0,0,0,0,0,0,1,0,0,0,47,0,0,0,0,0,1,0,0,0,0,1,100,109,100,105,97,0,0,0,32,109,100,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,68,0,0,8,0,85,196,0,0,0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0,0,0,1,15,109,105,110,102,0,0,0,16,115,109,104,100,0,0,0,0,0,0,0,0,0,0,0,36,100,105,110,102,0,0,0,28,100,114,101,102,0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1,0,0,0,211,115,116,98,108,0,0,0,103,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,87,109,112,52,97,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0,172,68,0,0,0,0,0,51,101,115,100,115,0,0,0,0,3,128,128,128,34,0,2,0,4,128,128,128,20,64,21,0,0,0,0,1,244,0,0,1,243,249,5,128,128,128,2,18,16,6,128,128,128,1,2,0,0,0,24,115,116,116,115,0,0,0,0,0,0,0,1,0,0,0,2,0,0,4,0,0,0,0,28,115,116,115,99,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,28,115,116,115,122,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,115,0,0,1,116,0,0,0,20,115,116,99,111,0,0,0,0,0,0,0,1,0,0,0,44,0,0,0,98,117,100,116,97,0,0,0,90,109,101,116,97,0,0,0,0,0,0,0,33,104,100,108,114,0,0,0,0,0,0,0,0,109,100,105,114,97,112,112,108,0,0,0,0,0,0,0,0,0,0,0,0,45,105,108,115,116,0,0,0,37,169,116,111,111,0,0,0,29,100,97,116,97,0,0,0,1,0,0,0,0,76,97,118,102,53,54,46,52,48,46,49,48,49])],{type:this.videoType}),this.siteBody=this.app.getMostTopWindow().document.body,this._playVideos=this._playVideos.bind(this),this.addHook("beforeLoadNewsHooks",this._setVideoStyles),this.addHook("afterLoadNewsHooks",this._playVideos)}_setVideoStyles(){let a=".mgbox * { -webkit-transition: all .25s; -moz-transition: all .25s; -ms-transition: all .25s; -o-transition: all .25s; transition: all .25s; } .mgbox { padding: 0 !important; position: relative !important; text-align: center; vertical-align: top !important; margin: 0 auto; border-style: none; display: -ms-flexbox; display: -webkit-flex; display: flex; -webkit-flex-direction: row; -ms-flex-direction: row; flex-direction: row; -webkit-flex-wrap: wrap; -ms-flex-wrap: wrap; flex-wrap: wrap; line-height: 100% !important; transition: none !important; box-sizing: border-box; width: 100%; max-width: 680px; font-family: Arial; } .mgheader { border-bottom: 1px solid #ccc !important; padding-bottom: 3px; margin-bottom: 10px; } .mgheader div a { position: relative; top: -5px; } .mgheader div img { position: relative; top: 5px; height: 27px; } .mghead { color: #333; font-size: 17px; line-height: 1.2; text-transform: uppercase !important; margin: 5px 0 0 0 !important; font-family: Arial; font-weight: 400; } .mgline { background: transparent; cursor: pointer; display: inline-block; _overflow: hidden; *zoom: 1; *display: inline; border: none; box-sizing: border-box; display: -ms-flexbox; display: -webkit-flex; display: flex; -webkit-flex-direction: column; -ms-flex-direction: column; flex-direction: column; word-wrap: break-word; vertical-align: top; position: relative; margin-bottom: 5px; } .mgline .allink { height: 100%; width: 100%; display: block; position: absolute; cursor: pointer; z-index: 999; } .mgline .image-with-text { width: 100% !important; height: auto; max-width: 100%; margin: 0 auto; position: relative; } .mgline .image-container { position: relative; } div.mcimg { padding: 0; text-align: center; display: block !important; } .mgline:hover:not(.vrline) div.mcimg { opacity: 0.8 !important; } img.mcimg { border-style: none; width: 100%; height: auto !important; max-width: 680px; max-height: 385px; box-sizing: border-box; display: block; margin: 0; } .mgline .text-elements { padding-top: 10px; } .text-elements a { text-decoration: none; } .mgline .text_on_hover a { top: 0; left: 0; } .mctitle { text-align: left; } .mctitle a { font-family: Arial; font-weight: bold; font-size: 20px; line-height: 22px; font-style: normal; text-decoration: none; color: #333; letter-spacing: -0.4px; } .mgline:hover .mctitle a { color: #0F4B81; text-decoration: none; } .mcdesc { display: none; text-align: left; } .mcdesc a { font-family: Arial; font-weight: normal; font-size: 16px; line-height: 20px; font-style: normal; text-decoration: none; color: #a9a9a9; } .mcdomain { display: block; text-align: left; margin-top: 10px; } .mcdomain a { font-family: Arial; font-weight: 400; font-size: 17px; line-height: 16px; font-style: normal; text-decoration: none; color: #A9A9A9; display: block; overflow: hidden; text-transform: uppercase; letter-spacing: 0.85px; } @supports not (flex-wrap: wrap) { .mgbox { display: block !important; } .mgline { display: inline-block !important; } } img.mcimgad { position: absolute; bottom: 0; right: 0; z-index: 10; opacity: 0.7; width: 20px; height: 20px; } .mgbox .row1, .mgbox .row2, .mgbox .row3, .mgbox .row4 { display: flex; flex-direction: row; flex-wrap: wrap; width: 100%; max-width: 100%; position: relative; margin: 0 0 5px !important; } .mgbox .row1 .mgline { width: 100%; max-width: 100%; } .row1 .mgline img.mcimgad { left: 0; } .row1 .mgline .text_on_hover { padding: 0 0 10px; z-index: 10; } .row1 .mgline .mcdesc { margin-top: 10px; } .row1 .mgline .image-container:before { content: \\'\\'; display: inline-block; position: absolute; left: 0 !important; width: 100%; height: 100%; z-index: 10; } .mgbox .row2 .mgline { width: 49.5%; max-width: 49.5%; } .row2 .mgline .text_on_hover { padding: 0 0 10px; z-index: 10; } .row2 .mgline .mcdesc { margin-top: 5px; max-height: 32px; overflow: hidden; } .row2 .mgline .image-container:before { content: \\'\\'; display: inline-block; position: absolute; left: 0 !important; width: 100%; height: 100%; z-index: 10; } .row2 .mgline:first-child { margin-right: 1%; } .mgbox .row3 .mgline { width: 100%; max-width: 100%; } .row3 .mgline .image-container:before { content: \\'\\'; display: inline-block; position: absolute; left: 0 !important; width: 100%; height: 100%; z-index: 10; } .row3 .mgline .text_on_hover { padding: 0 0 10px; z-index: 10; } .row3 .mgline .mcdesc { display: block; text-align: left; margin-top: 10px; } .mgbox .row4 .mgline { width: 49.5%; } .row4 .mgline:first-child { margin-right: 1%; } .row4 .mgline .image-container:before { content: \\'\\'; display: inline-block; position: absolute; left: 0 !important; width: 100%; height: 100%; z-index: 10; } .row4 .mgline .text_on_hover { padding: 0 0 10px; z-index: 10; } .row4 .mgline .mcdesc { margin-top: 5px; max-height: 32px; overflow: hidden; } .row4 .mgline:first-child .image-with-text { position: initial !important; } .row2 .mgline .mctitle, .row4 .mgline .mctitle { margin-bottom: 5px !important; } .row2 .mgline .mcdesc, .row4 .mgline .mcdesc { display: none !important; } @media (max-width: 480px) { .row1 .mgline:not(.vrline) div.mcimg, .row3 .mgline:not(.vrline) div.mcimg { float: none; width: 100%; } .row1 .mgline div.mcimg, .row3 .mgline div.mcimg { float: none; width: 100%; } .row1 .mgline img.mcimgad { left: inherit; } .row1 .mgline .text-elements { width: 100% !important; bottom: 0 !important; } .row1 .mgline .text_on_hover, .row3 .mgline .text_on_hover { width: auto; height: auto; } .row1 .mgline .mcdesc, .row3 .mgline .mcdesc { margin-top: 5px; max-height: 32px; overflow: hidden; } .row2 .mgline { width: 100% !important; max-width: 100% !important; } .row2 .mgline:first-child, .row4 .mgline:first-child { width: 100%; margin-right: 0; max-width: 100% !important; } .row3 .mgline .text-elements { width: 100% !important; } .row4 .mgline:last-child { width: 100% !important; max-width: 100% !important; } .mctitle, .mcdesc { width: 100% !important; } .mctitle, .mcdesc { text-align: left !important; } .mgline { overflow: hidden; } .mghead { font-size: 15px; } .mgheader div img { max-height: 24px; } .mctitle a { font-size: 18px; line-height: 19px; letter-spacing: -0.2px; } .mcdomain a { font-size: 12px; line-height: 12px; } .mcdomain { margin-top: 5px; } } .mgbox .row2 .mgline, .mgbox .row4 .mgline { display: block; } ";this.app.adBlockDetect()&&(a=this.app.adBlockStyles),a=a.split("img.mcimg {").filter((n,o)=>o!==0).map(n=>n.substring(0,n.indexOf("}"))).join("").trim(),this.app.stylesheetsBlock.add("new-mcvideo-styles",`.mgline video.mcvideo {${a}}`)}_playVideos(){let a=this.app.root.getElementsByClassName("mcvideo");for(let n=0;n<a.length;n++){let o=a[n],l=()=>{if(o.classList.contains("played"))this.siteBody.removeEventListener("pointerdown",l);else{let c=o.play();typeof c<"u"&&c.catch(d=>{this.app.log("_playVideosHandler. Error: ","error",d),o.controls="true"})}};this.siteBody.addEventListener("pointerdown",l,!1)}}waitForCollectMetrics(){return new Promise(a=>{let n=0;if(this._isIosWebview()&&this._isExceptionAgent()){this.app.requestParams.mp4=n,this.app.requestParams.ap=0,a();return}let o=this.app.context.document.createElement("video");if(o.muted="true",o.autoplay="true",o.loop="true",o.setAttribute("playsinline",""),o.setAttribute("webkit-playsinline",""),o.src=URL.createObjectURL(this.VIDEO),typeof o.canPlayType<"u"){let c=o.canPlayType(this.videoType);(c=="maybe"||c=="probably")&&(n=1)}this.app.requestParams.mp4=n;let l=o.play();typeof l<"u"?l.then(()=>{this.app.requestParams.ap=1,o.src="",typeof o.remove<"u"&&o.remove(),a()}).catch(c=>{this.app.requestParams.ap=0,o.src="",typeof o.remove<"u"&&o.remove(),this.app.log("VideoMetricsBlock: waitForCollectMetrics. Error: ","error",c),a()}):(this.app.requestParams.ap=0,o.src="",typeof o.remove<"u"&&o.remove(),this.app.log("VideoMetricsBlock. Promise in play method is not supported.","error"),a())})}_isIosWebview(){return/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(this.userAgent)}_isExceptionAgent(){return this.exceptionAgentList.some(a=>this.userAgent.indexOf(a)!==-1)}}});var vp={};We(vp,{OriginTrialsBlock:()=>vn});var vn,bp=ke(()=>{N();V();U();j();z();$();Z();Me();vn=class extends ge{constructor(a){super(a),this.name="OriginTrialsBlock",this.addHook("beforeInitHooks",this.initOriginTrials)}initOriginTrials(){JSON.parse('[{"name":"X-Requested-With Trial. servicer.mgid.com","token":"A00OovyFoivp5xgE074+G3hiIk00oBqovMlZYlJd\\/gVpyF7t0vfq+2flpGTOUtezADAnKew0nlBFSAmijsLtlA0AAAB\\/eyJvcmlnaW4iOiJodHRwczovL3NlcnZpY2VyLm1naWQuY29tOjQ0MyIsImZlYXR1cmUiOiJXZWJWaWV3WFJlcXVlc3RlZFdpdGhEZXByZWNhdGlvbiIsImV4cGlyeSI6MTcxOTUzMjc5OSwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ==","conditions":["webview"]},{"name":"X-Requested-With Trial. c.mgid.com","token":"A\\/TuIKGyAWlQptIROuEuX1RnZ8F17uxV+uDuQibYYFbe\\/jXBHbZzB7O0PR8NqtkSskdPP45qEu6GRs9oAMQXUgsAAAB4eyJvcmlnaW4iOiJodHRwczovL2MubWdpZC5jb206NDQzIiwiZmVhdHVyZSI6IldlYlZpZXdYUmVxdWVzdGVkV2l0aERlcHJlY2F0aW9uIiwiZXhwaXJ5IjoxNzE5NTMyNzk5LCJpc1RoaXJkUGFydHkiOnRydWV9","conditions":["webview"]},{"name":"Topics API. jsc.mgid.com","token":"A98IbLS4m1quYK6KTB4oj9mnu1sBBg5Tk1xTmAqXr78D7fAyl4wFn5SW42Tz8RHcaf2IVnbAJB72nvSuE1Qz5AEAAABveyJvcmlnaW4iOiJodHRwczovL2pzYy5tZ2lkLmNvbTo0NDMiLCJmZWF0dXJlIjoiUHJpdmFjeVNhbmRib3hBZHNBUElzIiwiZXhwaXJ5IjoxNjk1MTY3OTk5LCJpc1RoaXJkUGFydHkiOnRydWV9","conditions":[]}]').forEach(n=>{if(n.conditions.indexOf("webview")!==-1&&!this.app.utils.isChromeWebView())return;let o=this.app.context.document.createElement("META");o.httpEquiv="origin-trial",o.content=n.token,this.app.context.document.head.append(o),this.app.log("Origin Trial Token inserted: "+n.name)})}}});var xp={};We(xp,{BrowserTopicsBlock:()=>bn});var bn,wp=ke(()=>{N();V();U();j();z();$();Z();Me();bn=class extends ge{constructor(a){super(a),this.name="BrowserTopicsBlock",this.addHook("beforeInitHooks",this.browserTopicsInit,50)}browserTopicsInit(){try{this.isFeatureAvailable()&&this.getTopics()}catch(a){this.app.log(`${this.name} received topics Failed`,"error",a)}}isFeatureAvailable(){return"browsingTopics"in this.app.context.document&&this.app.context.document?.featurePolicy?.allowsFeature("browsing-topics")}getTopics(){this.app.context.document.browsingTopics().then(a=>{a.length&&(this.app.requestParams.topics=a.map(({topic:n})=>n).join(",")),this.app.log(`${this.name} received topics Successfully: ${a}`)})}}});var Tp={};We(Tp,{CalculateSessionsBlock:()=>xn});var xn,Sp=ke(()=>{N();V();U();j();z();$();Z();Me();Lr();xn=class extends ge{constructor(a){if(super(a),this.expirationLimit=30*24*60*60*1e3,this.weekLimit=7*24*60*60*1e3,this.sessionLimit=30*60*1e3,this.storageKeys={sessionsList:"_mgSessionsTimeList",sessionsNumber:"_mgSessionsNumber",sessionId:"_mgSessionId",sessionPage:"_mgSessionPagesNumber"},this.pagesKey="_mgSessionPages",this.name="CalculateSessionsBlock",!this.app.isAmp()&&!this.app.isIframe()){this.topWindow=this.app.getMostTopWindow();try{this.topWindow.localStorage&&(this.addHook("afterInitHooks",this.calculateSessions),this.app.beforeInjectScriptEvent?this.app.context.document.body.addEventListener(na.beforeInjectScriptEvent,()=>{this.calculateSessions(),this.sendSessions()}):this.addHook("afterInitHooks",this.sendSessions),this.addHook("beforeLoadNewsHooks",this.savedSessions))}catch(n){this.app.log(`${this.name} no localStorage found`,"error",n)}}}calculateSessions(){let a=this.topWindow.location.pathname,n=this.getCurrentTime();if(this.sessionPage=this.topWindow[this.storageKeys.sessionPage]||Number(this.topWindow.localStorage[this.storageKeys.sessionPage])||0,this.sessionsList=(this.topWindow[this.storageKeys.sessionsList]||JSON.parse(this.topWindow.localStorage[this.storageKeys.sessionsList]||"false")||[]).filter(o=>n-o<this.expirationLimit),this.topWindow[this.pagesKey]=this.topWindow[this.pagesKey]||[],this.topWindow[this.pagesKey].indexOf(a)===-1&&(this.topWindow[this.pagesKey].push(a),this.sessionPage=this.sessionPage+1),this.sessionsList.length){let o=this.sessionsList[this.sessionsList.length-1];n-o<this.sessionLimit?(this.sessionsList[this.sessionsList.length-1]=n,this.sessionId=this.topWindow[this.storageKeys.sessionId]||this.topWindow.localStorage[this.storageKeys.sessionId]||this.generateSessionId()):(this.sessionId=this.generateSessionId(),this.sessionsList=[...this.sessionsList,n],this.topWindow[this.pagesKey]=[a],this.sessionPage=1)}else this.sessionId=this.generateSessionId(),this.sessionsList=[n],this.topWindow[this.pagesKey]=[a],this.sessionPage=1;this.sessionsByWeek=this.sessionsList.filter(o=>n-o<this.weekLimit),this.topWindow[this.storageKeys.sessionId]=this.sessionId,this.topWindow[this.storageKeys.sessionPage]=this.sessionPage,this.topWindow[this.storageKeys.sessionsList]=this.sessionsList}sendSessions(){if(this.app.requestParams.sessionId=this.sessionId,this.app.requestParams.sessionPage=this.sessionPage,this.app.requestParams.sessionNumberWeek=this.sessionsByWeek.length,this.sessionsList.length===1)this.app.requestParams.sessionNumber=1;else if(this.sessionsList.length>=2){let a=this.sessionsList[this.sessionsList.length-1],n=this.sessionsList[this.sessionsList.length-2],o=Math.floor((a-n)/6e4);this.app.requestParams.sessionNumber=this.sessionsList.length,this.app.requestParams.timeBetweenSessions=o}}savedSessions(){this.app.servicerData.consent?(this.topWindow.localStorage[this.storageKeys.sessionId]=this.sessionId,this.topWindow.localStorage[this.storageKeys.sessionPage]=this.sessionPage,this.topWindow.localStorage[this.storageKeys.sessionsList]=JSON.stringify(this.sessionsList),this.topWindow.localStorage[this.storageKeys.sessionsNumber]=this.sessionsByWeek.length):Object.keys(this.storageKeys).forEach(a=>{this.topWindow.localStorage.removeItem(this.storageKeys[a])})}generateSessionId(){return Math.round(Date.now()/1e3).toString(16)+"-"+("00000"+Math.round(Math.random()*1e5).toString(16)).slice(-5)}getCurrentTime(){return new Date().getTime()}}});var _p={};We(_p,{RenderClassicBlock:()=>wn});var wn,Cp=ke(()=>{N();V();U();j();z();$();Z();Me();Nt();wn=class extends ge{constructor(a){super(a),this.name="RenderClassicBlock",this.expressionMap={"||":n=>{for(let o in n)if(this.expressionParser(n[o]))return!0;return!1},"&&":n=>{for(let o in n)if(!this.expressionParser(n[o]))return!1;return!0},"==":n=>this.expressionParser(n[0])==this.expressionParser(n[1]),"!=":n=>this.expressionParser(n[0])!=this.expressionParser(n[1]),"+":n=>this.expressionParser(n[0])+this.expressionParser(n[1]),"-":n=>this.expressionParser(n[0])-this.expressionParser(n[1]),"*":n=>this.expressionParser(n[0])*this.expressionParser(n[1]),"/":n=>this.expressionParser(n[0])/this.expressionParser(n[1]),"%":n=>this.expressionParser(n[0])%this.expressionParser(n[1])}}setRawTemplate(a){this.templateText=a}getHtml(a){if(a.length===0){this.app.isAmp()&&this.app.context.context.noContentAvailable();return}let n=/(.*)?\{foreach\}(.*)?\{\/foreach\}(.*)?/.exec(this.templateText);if(!n)return;let o=typeof n[1]<"u"?n[1]:"";for(let l=0;l<a.length;l++){let c=this.renderItem(a[l],n[2]);o+=typeof c<"u"?c:""}return o+=typeof n[3]<"u"?n[3]:"",o}expressionParser(a){for(let n in this.expressionMap)if(a.indexOf(n)!==-1)return this.expressionMap[n](a.split(n));return(a||"").replace(/^([\'|\s]+)|([\'|\s]+)$/g,"")}renderItem(a,n){let o=[];o.push("teaser-"+a.id);let l="";if(a.type==Be.Banner){let y=a,b="100%";y.width!=0?b=y.width+"px":typeof this.app.preRenderTeaserSizes[y.iteration-1]<"u"&&(b=this.app.preRenderTeaserSizes[y.iteration-1].width+"px");let _="100%";y.height!=0?_=y.height+"px":typeof this.app.preRenderTeaserSizes[y.iteration-1]<"u"&&(_=this.app.preRenderTeaserSizes[y.iteration-1].height+"px");let k="width: "+b+"; height: "+_+"; border: 0px; margin: auto; overflow: hidden; position: relative;z-index: 1;";l='<iframe id="'+y.id+'" scrolling="no" style="'+k+'"></iframe>',o.push("mgline-banner"),this.app.stylesheetsBlock.add("mgline-banner",`.mgline-banner {  display: inline-flex;
  background: initial;
  }`)}a.type==Be.Teaser&&a.link.match(/[\?|&]u=/)!=null&&o.push("dsp"),a.coopType!=null&&(o.push("type-"+a.coopType),a.coopType==je.Video&&o.push("vrline"),a.type===Be.Teaser&&a.extd==1&&a.coopType===je.Wages&&o.push("extd")),a.type===Be.Gpt&&(o.push("mgline-gpt"),this.app.stylesheetsBlock.add(`style-${a.id}`,`.mgbox .teaser-${a.id} {
        width: ${a.width?a.width+"px":"100%"};
        height: ${a.height?a.height+"px":"auto"};
      }`));let c=y=>y&&y.indexOf("//")===0?this.app.webProtocol+y:y,d=a.coopType!=je.Video?this.app.hrefAttr+'="'+this.app.prepareNiceHref(a.hash)+'" data-hash="'+a.hash+'"':"";a.hash==""&&(d=`onclick="return false" ${this.app.hrefAttr}="#"`);let g=[[/\{\*.*?\*\}/,""],[/\{\$href\}/g,d],[/\{\$pmc_item\}/,this.app.id],[/\{\$hash\}/g,a.hash],[/\{\$target\}/g,a.coopType==je.InternalExchange||typeof this.app.servicerData.ats<"u"&&this.app.servicerData.ats?'target="_top"':'target="_blank"'],[/(class\=\".*?)(mgline)([^\"]*\")/,"$1$2 "+o.join(" ")+'$3 data-i="'+(a.hash||a.id)+'"'],[/(class\=\'.*?)(mgline)([^\']*\')/,"$1$2 "+o.join(" ")+'$3 data-i="'+(a.hash||a.id)+'"'],[/\{\$source\}/g,a.type==Be.Teaser?a.source:""],[/\{\$src\}/g,'width="492" height="277" data-i="'+(Be.Teaser?a.id:"")+'" data-src="'+c(Be.Teaser?a.img:"")+'" nopin="nopin"'+((Be.Teaser?a.extd:0)==1?"":" crossOrigin")],[/\{\$title\}/g,this.app.htmlEntities(Be.Teaser?a.title:"")],[/\{\$desc\}/g,this.app.htmlEntities(Be.Teaser?a.desc:"")],[/\{\$iteration\}/g,a.iteration],[/\$iteration/g,a.iteration],[/this\.iteration/g,a.iteration],[/\{\$price\}/g,Be.Teaser?a.price:""],[/\{\$priceold\}/g,Be.Teaser?a.priceold:""],[/\{\$discount\}/g,Be.Teaser?a.discount:""],[/\{if \$price\}/g,"{if '' != "+(Be.Teaser&&a.price?a.price:"''")+"}"],[/\{if !\$price\}/g,"{if '' == "+(Be.Teaser&&a.price?a.price:"''")+"}"],[/\{if \$priceold\}/g,"{if '' != "+(Be.Teaser&&a.priceold?a.priceold:"''")+"}"],[/\{if \$price != " "\}/g,"{if "+(Be.Teaser&&a.price?a.price:"''").trim().length+" != 0}"],[/\{if \$price == " "\}/g,"{if "+(Be.Teaser&&a.price?a.price:"''").trim().length+" == 0}"],[/\$priceold/g,Be.Teaser?a.priceold:""],[/\$price/g,Be.Teaser?a.price:""],[/\{\$banner\}/g,l],[/\{if \$teaser\}/g,"{if '' == '"+l+"'}"],[/\{if \$banner\}/g,"{if '' != '"+l+"'}"],[/\{\$category\}/g,Be.Teaser?a.category:""],[/\{\$cta\}/g,Be.Teaser?a.cta:""],[/\{if \$cta\}/g,"{if '"+(Be.Teaser&&a.cta?a.cta:"''")+"' != ''}"],[/\{if !\$cta\}/g,"{if '"+(Be.Teaser&&a.cta?a.cta:"''")+"' != ''}"],[/\{\$disclaimer\}/g,Be.Teaser?a.cdt:""],[/\{if \$disclaimer\}/g,"{if '"+(Be.Teaser&&a.cdt?a.cdt:"''")+"' != ''}"],[/\{if !\$disclaimer\}/g,"{if '"+(Be.Teaser&&a.cdt?a.cdt:"''")+"' != ''}"],[/\{\$sourceName\}/g,this.app.sourceName]];for(let y=0;y<g.length;y++)n=n.replace(g[y][0],g[y][1]);for(n=n.replace(/\r?\n/g,"");;){let y=n,b=/\{if ([^\}]*?)\}(((?!\{(?:\/)?if).)*)\{\/if\}/g;if(n=n.replace(b,(_,k,M)=>this.expressionParser(k)?M:""),y==n)break}if(a.type==Be.Teaser&&(a.mediaType=="video"||a.img.match(/\.mp4/))){let b=/<img class="mcimg" width="(\d+)" height="(\d+)"/.exec(n),_=b?b[1]+"px;":"100%;",k=b?b[2]+"px;":"100%;";n=n.replace(/<img( class="mcimg[^>]+)/,'<video autoplay loop muted webkit-playsinline playsinline class="mcvideo" $1'),this.app.stylesheetsBlock.add("video",`video.mcvideo { border-style: solid;
  border-color: #ffffff;
  border-width: 0;
  width: 100%;
  height: auto;
  max-width: `+_+`
  max-height: `+k+`
  box-sizing: border-box;
  display: block; }`)}if(a.type==Be.Teaser&&a.mirroredImage==1){let y="-moz-transform: scaleX(-1); -o-transform: scaleX(-1); -webkit-transform: scaleX(-1); -ms-transform: scaleX(-1); transform: scaleX(-1);";n=n.replace(/<img( class="mcimg)/,'<img style="'+y+'" class="mcimg')}if(a.type==Be.Teaser&&a.extd===1&&this.app.preRenderImageSizes[a.iteration-1]){let y=this.app.preRenderImageSizes[a.iteration-1].width,b=this.app.preRenderImageSizes[a.iteration-1].height;if(b==0||y==0)n=n.replace(/<img( class="mcimg")/,'<img class="mcimg mg-wrong-image"');else{let _={width:y+"px !important",height:b+"px !important","object-fit":"cover","-o-object-fit":"cover","object-position":"top","-o-object-position":"top"},k="";Object.keys(_).forEach(M=>{k+=M+":"+_[M]+";"}),n=n.replace(/<img( class="mcimg")/,'<img class="mcimg" style="'+k+'"')}}return n}}});var kp={};We(kp,{RenderSchematicBlock:()=>Tn});var ni,Tn,Dp=ke(()=>{N();V();U();j();z();$();Z();Me();Nt();(function(p){p.Link="link",p.Image="image",p.Title="title",p.Source="source",p.Description="desc",p.Price="price",p.PriceOld="priceold",p.Discount="discount",p.Category="category",p.Cta="cta",p.Disclaimer="disclaimer",p.SourceName="sourceName"})(ni||(ni={}));Tn=class extends ge{constructor(a){super(a),this.name="RenderSchematicBlock"}setRawTemplate(a){this.templateText=a}getHtml(a){if(!a.length)return this.app.isAmp()&&this.app.context.context.noContentAvailable(),"";this.range=this.app.context.document.createRange(),this.range.selectNode(this.app.context.document.body);let n=this.range.createContextualFragment(this.templateText),o=n.querySelector('[data-template-schema="widget"]'),l=n.querySelector('[data-template-schema="teaser"]'),c=n.querySelector('[data-template-schema="banner"]');if(!o)return this.app.log(`${this.name}: provide template for widget using schema.`),"";let d=o.querySelectorAll('[data-template-type="container"]'),g={},y=d[0];if(d.length>1)for(let b=0;b<d.length;b++)d[b].dataset.templateContainerPlaces.split(",").map(Number).forEach(k=>{g[k]=d[b]});return a.forEach((b,_)=>{let k;if(d.length>1){let M=_+1;typeof g[M]<"u"&&(y=g[M])}b.type===Be.Banner&&c&&(k=this.renderBanner(b,c)),b.type===Be.Teaser&&l&&(k=this.renderTeaser(b,l)),b.type===Be.Gpt&&l&&(k=this.renderGpt(b,l)),k&&y.appendChild(k)}),o.innerHTML}renderBanner(a,n){let o=this.range.createContextualFragment(n.innerHTML),l=o.querySelector(".mgline"),c=this.app.context.document.createElement("iframe"),d="100%",g="100%";return a.width!==0?d=a.width+"px":typeof this.app.preRenderTeaserSizes[a.iteration-1]<"u"&&(d=this.app.preRenderTeaserSizes[a.iteration-1].width+"px"),a.height!==0?g=a.height+"px":typeof this.app.preRenderTeaserSizes[a.iteration-1]<"u"&&(g=this.app.preRenderTeaserSizes[a.iteration-1].height+"px"),c.id=a.id,c.scrolling="no",c.style.width=d,c.style.height=g,c.style.border="0px",c.style.margin="auto",c.style.overflow="hidden",c.style.position="relative",c.style.zIndex="1",this.addClasses(a,l),l.appendChild(c),this.app.stylesheetsBlock.add("mgline-banner",`.mgline-banner {  display: inline-flex;
  background: initial;
  }`),o}renderTeaser(a,n){let o=this.range.createContextualFragment(n.innerHTML),l=o.querySelector(".mgline");return this.addClasses(a,l),this.setConditionTemplate(a,o),this.setConstructorTemplate(o),this.setConditionClassName(a,o),this.setMacrosTemplate(a,o),o}renderGpt(a,n){let o=this.range.createContextualFragment(n.innerHTML),l=o.querySelector(".mgline");return l.innerHTML="",this.app.stylesheetsBlock.add(`style-${a.id}`,`.mgbox .teaser-${a.id} {
      width: ${a.width?a.width+"px":"100%"};
      height: ${a.height?a.height+"px":"auto"};
    }`),this.addClasses(a,l),o}setConditionTemplate(a,n){let o=n.querySelector("[data-template-condition]");if(o){let l=o.dataset.templateCondition.trim(),c=l.indexOf("!")===-1,d=l.replace("!",""),g=typeof a[d]=="string"&&a[d].trim().length>0||typeof a[d]=="number";c===g&&o.insertAdjacentHTML("beforebegin",o.innerHTML),o.parentNode.removeChild(o),this.setConditionTemplate(a,n)}else return}setConstructorTemplate(a){let n=a.querySelector("[data-constructor-condition]");if(n){{let o=n.dataset.constructorCondition.trim(),l=!1;switch(o){case"mcprice":l=this.app.widgetConstructorData.mcprice.show==="true";break;case"mcdomain":l=this.app.widgetConstructorData.mcdomain.styles.display==="block";break;case"mcdesc":l=this.app.widgetConstructorData.mcdesc.styles.display==="block";break}l&&n.insertAdjacentHTML("beforebegin",n.innerHTML)}n.parentNode.removeChild(n),this.setConstructorTemplate(a)}else return}setConditionClassName(a,n){let o=n.querySelectorAll("[data-class-condition]");Array.prototype.forEach.call(o,l=>{let[c,d]=l.dataset.classCondition.split(";"),g=c.indexOf("!")===-1,y=c.replace("!","").trim(),b=typeof a[y]=="string"&&a[y].trim().length>0||typeof a[y]=="number";if(d.indexOf("blur")!==-1){let _=c.split(".").filter(k=>k.split(":")[1]?.split(",").indexOf(String(a.iteration))!==-1)[0]?.split(":")[0]?.trim();_&&l.classList.add(`${d.trim()}-${_}`)}else g===b&&(y==="iteration"?l.classList.add(`${d.trim()}-${a[y]}`):l.classList.add(d.trim()))})}setMacrosTemplate(a,n){let o=n.querySelectorAll("[data-template-macros]"),l=Object.keys(ni);Array.prototype.forEach.call(o,c=>{let d=c.dataset.templateMacros.split(",");for(let g=0;g<d.length;g++){let y=d[g].trim();if(!l.some(b=>ni[b]===y)){this.app.log(`${this.name}: wrong macros - ${y}, provide corect macros.`);continue}switch(y){case ni.Link:a.coopType!==je.Video&&a.hash?.length&&(c.setAttribute(this.app.hrefAttr,this.app.prepareNiceHref(a.hash)),c.dataset.hash=a.hash),a.hash?.length||(c.setAttribute(this.app.hrefAttr,"#"),c.setAttribute("onclick","return false")),a.coopType===je.InternalExchange||this.app.servicerData?.ats?c.setAttribute("target","_top"):c.setAttribute("target","_blank");break;case ni.Image:if(c.dataset.src=this.createWebLink(a.img),c.dataset.i=a.id,'width="492" height="277"'.split(" ").forEach(_=>{let[k,M]=_.split("=");c.setAttribute(k,M.replace(/"/g,""))}),c.setAttribute("nopin","nopin"),a.extd!==1&&c.setAttribute("crossOrigin",""),a.mirroredImage===1){let _="-moz-transform: scaleX(-1); -o-transform: scaleX(-1); -webkit-transform: scaleX(-1); -ms-transform: scaleX(-1); transform: scaleX(-1);";c.style.cssText+=_}if(a.extd===1&&this.app.preRenderImageSizes[a.iteration-1]){let _=this.app.preRenderImageSizes[a.iteration-1].width,k=this.app.preRenderImageSizes[a.iteration-1].height;if(k===0||_===0)c.classList.add("mg-wrong-image");else{let M=`width: ${_}px !important;
                  height: ${k}px !important;
                  object-fit: cover;
                  -o-object-fit: cover;
                  object-position: top;
                  -o-object-position: top;
                `;c.style.cssText+=M}}if(a.mediaType==="video"||a.img.match(/\.mp4/)){let _=c.getAttribute("width"),k=c.getAttribute("height"),M=_?_+"px;":"100%;",E=k?k+"px;":"100%;",K=this.app.context.document.createElement("video");K.dataset.src=this.createWebLink(a.img),K.dataset.i=a.id,K.setAttribute("width",_),K.setAttribute("height",k),K.classList.add("mcvideo"),K.autoplay=!0,K.loop=!0,K.setAttribute("muted",""),K.setAttribute("playsinline",""),K.setAttribute("webkit-playsinline",""),c.parentElement.replaceChild(K,c),this.app.stylesheetsBlock.add("video",`video.mcvideo { border-style: solid;
  border-color: #ffffff;
  border-width: 0;
  width: 100%;
  height: auto;
  max-width: `+M+`
  max-height: `+E+`
  box-sizing: border-box;
  display: block; }`)}break;case ni.Title:c.innerHTML=this.app.htmlEntities(a.title);break;case ni.Description:c.innerHTML=this.app.htmlEntities(a.desc);break;case ni.Disclaimer:c.innerHTML=a.cdt??"";break;case ni.SourceName:c.innerHTML=this.app.sourceName??"";break;case ni.Cta:let b=a.cta;c.insertAdjacentText("afterbegin",b);break;default:c.innerHTML=a[y]??"";break}}})}addClasses(a,n){n.classList.add("teaser-"+a.id),n.dataset.i=a.hash||a.id,a.coopType&&n.classList.add("type-"+a.coopType),typeof a.link=="string"&&a.link.match(/[\?|&]u=/)!==null&&n.classList.add("dsp"),a.coopType===je.Video&&n.classList.add("vrline"),a.type===Be.Teaser&&a.extd==1&&a.coopType===je.Wages&&n.classList.add("extd"),a.type===Be.Gpt&&n.classList.add("mgline-gpt")}createWebLink(a){return a&&a.indexOf("//")===0?this.app.webProtocol+a:a}}});var Ai,Ip=ke(()=>{N();V();U();j();z();$();Z();Ai=function(p,a){var n={},o=n.lib={},l=function(){},c=o.Base={extend:function(E){l.prototype=this;var K=new l;return E&&K.mixIn(E),K.hasOwnProperty("init")||(K.init=function(){K.$super.init.apply(this,arguments)}),K.init.prototype=K,K.$super=this,K},create:function(){var E=this.extend();return E.init.apply(E,arguments),E},init:function(){},mixIn:function(E){for(var K in E)E.hasOwnProperty(K)&&(this[K]=E[K]);E.hasOwnProperty("toString")&&(this.toString=E.toString)},clone:function(){return this.init.prototype.extend(this)}},d=o.WordArray=c.extend({init:function(E,K){E=this.words=E||[],this.sigBytes=K!=a?K:4*E.length},toString:function(E){return(E||y).stringify(this)},concat:function(E){var K=this.words,W=E.words,Q=this.sigBytes;if(E=E.sigBytes,this.clamp(),Q%4)for(var ie=0;ie<E;ie++)K[Q+ie>>>2]|=(W[ie>>>2]>>>24-8*(ie%4)&255)<<24-8*((Q+ie)%4);else if(65535<W.length)for(ie=0;ie<E;ie+=4)K[Q+ie>>>2]=W[ie>>>2];else K.push.apply(K,W);return this.sigBytes+=E,this},clamp:function(){var E=this.words,K=this.sigBytes;E[K>>>2]&=4294967295<<32-8*(K%4),E.length=p.ceil(K/4)},clone:function(){var E=c.clone.call(this);return E.words=this.words.slice(0),E},random:function(E){for(var K=[],W=0;W<E;W+=4)K.push(4294967296*p.random()|0);return new d.init(K,E)}}),g=n.enc={},y=g.Hex={stringify:function(E){var K=E.words;E=E.sigBytes;for(var W=[],Q=0;Q<E;Q++){var ie=K[Q>>>2]>>>24-8*(Q%4)&255;W.push((ie>>>4).toString(16)),W.push((ie&15).toString(16))}return W.join("")},parse:function(E){for(var K=E.length,W=[],Q=0;Q<K;Q+=2)W[Q>>>3]|=parseInt(E.substr(Q,2),16)<<24-4*(Q%8);return new d.init(W,K/2)}},b=g.Latin1={stringify:function(E){var K=E.words;E=E.sigBytes;for(var W=[],Q=0;Q<E;Q++)W.push(String.fromCharCode(K[Q>>>2]>>>24-8*(Q%4)&255));return W.join("")},parse:function(E){for(var K=E.length,W=[],Q=0;Q<K;Q++)W[Q>>>2]|=(E.charCodeAt(Q)&255)<<24-8*(Q%4);return new d.init(W,K)}},_=g.Utf8={stringify:function(E){try{return decodeURIComponent(escape(b.stringify(E)))}catch{throw Error("Malformed UTF-8 data")}},parse:function(E){return b.parse(unescape(encodeURIComponent(E)))}},k=o.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(E){typeof E=="string"&&(E=_.parse(E)),this._data.concat(E),this._nDataBytes+=E.sigBytes},_process:function(E){var K=this._data,W=K.words,Q=K.sigBytes,ie=this.blockSize,J=Q/(4*ie),J=E?p.ceil(J):p.max((J|0)-this._minBufferSize,0);if(E=J*ie,Q=p.min(4*E,Q),E){for(var ae=0;ae<E;ae+=ie)this._doProcessBlock(W,ae);ae=W.splice(0,E),K.sigBytes-=Q}return new d.init(ae,Q)},clone:function(){var E=c.clone.call(this);return E._data=this._data.clone(),E},_minBufferSize:0});o.Hasher=k.extend({cfg:c.extend(),init:function(E){this.cfg=this.cfg.extend(E),this.reset()},reset:function(){k.reset.call(this),this._doReset()},update:function(E){return this._append(E),this._process(),this},finalize:function(E){return E&&this._append(E),this._doFinalize()},blockSize:16,_createHelper:function(E){return function(K,W){return new E.init(W).finalize(K)}},_createHmacHelper:function(E){return function(K,W){return new M.HMAC.init(E,W).finalize(K)}}});var M=n.algo={};return n}(Math);(function(){var p=Ai,a=p.lib.WordArray;p.enc.Base64={stringify:function(n){var o=n.words,l=n.sigBytes,c=this._map;n.clamp(),n=[];for(var d=0;d<l;d+=3)for(var g=(o[d>>>2]>>>24-8*(d%4)&255)<<16|(o[d+1>>>2]>>>24-8*((d+1)%4)&255)<<8|o[d+2>>>2]>>>24-8*((d+2)%4)&255,y=0;4>y&&d+.75*y<l;y++)n.push(c.charAt(g>>>6*(3-y)&63));if(o=c.charAt(64))for(;n.length%4;)n.push(o);return n.join("")},parse:function(n){var o=n.length,l=this._map,c=l.charAt(64);c&&(c=n.indexOf(c),c!=-1&&(o=c));for(var c=[],d=0,g=0;g<o;g++)if(g%4){var y=l.indexOf(n.charAt(g-1))<<2*(g%4),b=l.indexOf(n.charAt(g))>>>6-2*(g%4);c[d>>>2]|=(y|b)<<24-8*(d%4),d++}return a.create(c,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})();(function(p){function a(k,M,E,K,W,Q,ie){return k=k+(M&E|~M&K)+W+ie,(k<<Q|k>>>32-Q)+M}function n(k,M,E,K,W,Q,ie){return k=k+(M&K|E&~K)+W+ie,(k<<Q|k>>>32-Q)+M}function o(k,M,E,K,W,Q,ie){return k=k+(M^E^K)+W+ie,(k<<Q|k>>>32-Q)+M}function l(k,M,E,K,W,Q,ie){return k=k+(E^(M|~K))+W+ie,(k<<Q|k>>>32-Q)+M}for(var c=Ai,y=c.lib,d=y.WordArray,g=y.Hasher,y=c.algo,b=[],_=0;64>_;_++)b[_]=4294967296*p.abs(p.sin(_+1))|0;y=y.MD5=g.extend({_doReset:function(){this._hash=new d.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(k,M){for(var E=0;16>E;E++){var K=M+E,W=k[K];k[K]=(W<<8|W>>>24)&16711935|(W<<24|W>>>8)&4278255360}var E=this._hash.words,K=k[M+0],W=k[M+1],Q=k[M+2],ie=k[M+3],J=k[M+4],ae=k[M+5],ee=k[M+6],Se=k[M+7],me=k[M+8],ye=k[M+9],xe=k[M+10],_e=k[M+11],Re=k[M+12],Ee=k[M+13],Oe=k[M+14],gt=k[M+15],fe=E[0],Te=E[1],be=E[2],we=E[3],fe=a(fe,Te,be,we,K,7,b[0]),we=a(we,fe,Te,be,W,12,b[1]),be=a(be,we,fe,Te,Q,17,b[2]),Te=a(Te,be,we,fe,ie,22,b[3]),fe=a(fe,Te,be,we,J,7,b[4]),we=a(we,fe,Te,be,ae,12,b[5]),be=a(be,we,fe,Te,ee,17,b[6]),Te=a(Te,be,we,fe,Se,22,b[7]),fe=a(fe,Te,be,we,me,7,b[8]),we=a(we,fe,Te,be,ye,12,b[9]),be=a(be,we,fe,Te,xe,17,b[10]),Te=a(Te,be,we,fe,_e,22,b[11]),fe=a(fe,Te,be,we,Re,7,b[12]),we=a(we,fe,Te,be,Ee,12,b[13]),be=a(be,we,fe,Te,Oe,17,b[14]),Te=a(Te,be,we,fe,gt,22,b[15]),fe=n(fe,Te,be,we,W,5,b[16]),we=n(we,fe,Te,be,ee,9,b[17]),be=n(be,we,fe,Te,_e,14,b[18]),Te=n(Te,be,we,fe,K,20,b[19]),fe=n(fe,Te,be,we,ae,5,b[20]),we=n(we,fe,Te,be,xe,9,b[21]),be=n(be,we,fe,Te,gt,14,b[22]),Te=n(Te,be,we,fe,J,20,b[23]),fe=n(fe,Te,be,we,ye,5,b[24]),we=n(we,fe,Te,be,Oe,9,b[25]),be=n(be,we,fe,Te,ie,14,b[26]),Te=n(Te,be,we,fe,me,20,b[27]),fe=n(fe,Te,be,we,Ee,5,b[28]),we=n(we,fe,Te,be,Q,9,b[29]),be=n(be,we,fe,Te,Se,14,b[30]),Te=n(Te,be,we,fe,Re,20,b[31]),fe=o(fe,Te,be,we,ae,4,b[32]),we=o(we,fe,Te,be,me,11,b[33]),be=o(be,we,fe,Te,_e,16,b[34]),Te=o(Te,be,we,fe,Oe,23,b[35]),fe=o(fe,Te,be,we,W,4,b[36]),we=o(we,fe,Te,be,J,11,b[37]),be=o(be,we,fe,Te,Se,16,b[38]),Te=o(Te,be,we,fe,xe,23,b[39]),fe=o(fe,Te,be,we,Ee,4,b[40]),we=o(we,fe,Te,be,K,11,b[41]),be=o(be,we,fe,Te,ie,16,b[42]),Te=o(Te,be,we,fe,ee,23,b[43]),fe=o(fe,Te,be,we,ye,4,b[44]),we=o(we,fe,Te,be,Re,11,b[45]),be=o(be,we,fe,Te,gt,16,b[46]),Te=o(Te,be,we,fe,Q,23,b[47]),fe=l(fe,Te,be,we,K,6,b[48]),we=l(we,fe,Te,be,Se,10,b[49]),be=l(be,we,fe,Te,Oe,15,b[50]),Te=l(Te,be,we,fe,ae,21,b[51]),fe=l(fe,Te,be,we,Re,6,b[52]),we=l(we,fe,Te,be,ie,10,b[53]),be=l(be,we,fe,Te,xe,15,b[54]),Te=l(Te,be,we,fe,W,21,b[55]),fe=l(fe,Te,be,we,me,6,b[56]),we=l(we,fe,Te,be,gt,10,b[57]),be=l(be,we,fe,Te,ee,15,b[58]),Te=l(Te,be,we,fe,Ee,21,b[59]),fe=l(fe,Te,be,we,J,6,b[60]),we=l(we,fe,Te,be,_e,10,b[61]),be=l(be,we,fe,Te,Q,15,b[62]),Te=l(Te,be,we,fe,ye,21,b[63]);E[0]=E[0]+fe|0,E[1]=E[1]+Te|0,E[2]=E[2]+be|0,E[3]=E[3]+we|0},_doFinalize:function(){var k=this._data,M=k.words,E=8*this._nDataBytes,K=8*k.sigBytes;M[K>>>5]|=128<<24-K%32;var W=p.floor(E/4294967296);for(M[(K+64>>>9<<4)+15]=(W<<8|W>>>24)&16711935|(W<<24|W>>>8)&4278255360,M[(K+64>>>9<<4)+14]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,k.sigBytes=4*(M.length+1),this._process(),k=this._hash,M=k.words,E=0;4>E;E++)K=M[E],M[E]=(K<<8|K>>>24)&16711935|(K<<24|K>>>8)&4278255360;return k},clone:function(){var k=g.clone.call(this);return k._hash=this._hash.clone(),k}}),c.MD5=g._createHelper(y),c.HmacMD5=g._createHmacHelper(y)})(Math);(function(){var p=Ai,o=p.lib,a=o.Base,n=o.WordArray,o=p.algo,l=o.EvpKDF=a.extend({cfg:a.extend({keySize:4,hasher:o.MD5,iterations:1}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,d){for(var k=this.cfg,g=k.hasher.create(),y=n.create(),b=y.words,_=k.keySize,k=k.iterations;b.length<_;){M&&g.update(M);var M=g.update(c).finalize(d);g.reset();for(var E=1;E<k;E++)M=g.finalize(M),g.reset();y.concat(M)}return y.sigBytes=4*_,y}});p.EvpKDF=function(c,d,g){return l.create(g).compute(c,d)}})();Ai.lib.Cipher||function(p){var E=Ai,a=E.lib,n=a.Base,o=a.WordArray,l=a.BufferedBlockAlgorithm,c=E.enc.Base64,d=E.algo.EvpKDF,g=a.Cipher=l.extend({cfg:n.extend(),createEncryptor:function(W,Q){return this.create(this._ENC_XFORM_MODE,W,Q)},createDecryptor:function(W,Q){return this.create(this._DEC_XFORM_MODE,W,Q)},init:function(W,Q,ie){this.cfg=this.cfg.extend(ie),this._xformMode=W,this._key=Q,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(W){return this._append(W),this._process()},finalize:function(W){return W&&this._append(W),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(W){return{encrypt:function(Q,ie,J){return(typeof ie=="string"?K:M).encrypt(W,Q,ie,J)},decrypt:function(Q,ie,J){return(typeof ie=="string"?K:M).decrypt(W,Q,ie,J)}}}});a.StreamCipher=g.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var k=E.mode={},y=function(W,Q,ie){var J=this._iv;J?this._iv=p:J=this._prevBlock;for(var ae=0;ae<ie;ae++)W[Q+ae]^=J[ae]},b=(a.BlockCipherMode=n.extend({createEncryptor:function(W,Q){return this.Encryptor.create(W,Q)},createDecryptor:function(W,Q){return this.Decryptor.create(W,Q)},init:function(W,Q){this._cipher=W,this._iv=Q}})).extend();b.Encryptor=b.extend({processBlock:function(W,Q){var ie=this._cipher,J=ie.blockSize;y.call(this,W,Q,J),ie.encryptBlock(W,Q),this._prevBlock=W.slice(Q,Q+J)}}),b.Decryptor=b.extend({processBlock:function(W,Q){var ie=this._cipher,J=ie.blockSize,ae=W.slice(Q,Q+J);ie.decryptBlock(W,Q),y.call(this,W,Q,J),this._prevBlock=ae}}),k=k.CBC=b,b=(E.pad={}).Pkcs7={pad:function(W,Q){for(var ie=4*Q,ie=ie-W.sigBytes%ie,J=ie<<24|ie<<16|ie<<8|ie,ae=[],ee=0;ee<ie;ee+=4)ae.push(J);ie=o.create(ae,ie),W.concat(ie)},unpad:function(W){W.sigBytes-=W.words[W.sigBytes-1>>>2]&255}},a.BlockCipher=g.extend({cfg:g.cfg.extend({mode:k,padding:b}),reset:function(){g.reset.call(this);var Q=this.cfg,W=Q.iv,Q=Q.mode;if(this._xformMode==this._ENC_XFORM_MODE)var ie=Q.createEncryptor;else ie=Q.createDecryptor,this._minBufferSize=1;this._mode=ie.call(Q,this,W&&W.words)},_doProcessBlock:function(W,Q){this._mode.processBlock(W,Q)},_doFinalize:function(){var W=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){W.pad(this._data,this.blockSize);var Q=this._process(!0)}else Q=this._process(!0),W.unpad(Q);return Q},blockSize:4});var _=a.CipherParams=n.extend({init:function(W){this.mixIn(W)},toString:function(W){return(W||this.formatter).stringify(this)}}),k=(E.format={}).OpenSSL={stringify:function(W){var Q=W.ciphertext;return W=W.salt,(W?o.create([1398893684,1701076831]).concat(W).concat(Q):Q).toString(c)},parse:function(W){W=c.parse(W);var Q=W.words;if(Q[0]==1398893684&&Q[1]==1701076831){var ie=o.create(Q.slice(2,4));Q.splice(0,4),W.sigBytes-=16}return _.create({ciphertext:W,salt:ie})}},M=a.SerializableCipher=n.extend({cfg:n.extend({format:k}),encrypt:function(W,Q,ie,J){J=this.cfg.extend(J);var ae=W.createEncryptor(ie,J);return Q=ae.finalize(Q),ae=ae.cfg,_.create({ciphertext:Q,key:ie,iv:ae.iv,algorithm:W,mode:ae.mode,padding:ae.padding,blockSize:W.blockSize,formatter:J.format})},decrypt:function(W,Q,ie,J){return J=this.cfg.extend(J),Q=this._parse(Q,J.format),W.createDecryptor(ie,J).finalize(Q.ciphertext)},_parse:function(W,Q){return typeof W=="string"?Q.parse(W,this):W}}),E=(E.kdf={}).OpenSSL={execute:function(W,Q,ie,J){return J||(J=o.random(8)),W=d.create({keySize:Q+ie}).compute(W,J),ie=o.create(W.words.slice(Q),4*ie),W.sigBytes=4*Q,_.create({key:W,iv:ie,salt:J})}},K=a.PasswordBasedCipher=M.extend({cfg:M.cfg.extend({kdf:E}),encrypt:function(W,Q,ie,J){return J=this.cfg.extend(J),ie=J.kdf.execute(ie,W.keySize,W.ivSize),J.iv=ie.iv,W=M.encrypt.call(this,W,Q,ie.key,J),W.mixIn(ie),W},decrypt:function(W,Q,ie,J){return J=this.cfg.extend(J),Q=this._parse(Q,J.format),ie=J.kdf.execute(ie,W.keySize,W.ivSize,Q.salt),J.iv=ie.iv,M.decrypt.call(this,W,Q,ie.key,J)}})}();(function(){for(var p=Ai,a=p.lib.BlockCipher,me=p.algo,n=[],o=[],l=[],c=[],d=[],g=[],y=[],b=[],_=[],k=[],M=[],E=0;256>E;E++)M[E]=128>E?E<<1:E<<1^283;for(var K=0,W=0,E=0;256>E;E++){var Q=W^W<<1^W<<2^W<<3^W<<4,Q=Q>>>8^Q&255^99;n[K]=Q,o[Q]=K;var ie=M[K],J=M[ie],ae=M[J],ee=257*M[Q]^16843008*Q;l[K]=ee<<24|ee>>>8,c[K]=ee<<16|ee>>>16,d[K]=ee<<8|ee>>>24,g[K]=ee,ee=16843009*ae^65537*J^257*ie^16843008*K,y[Q]=ee<<24|ee>>>8,b[Q]=ee<<16|ee>>>16,_[Q]=ee<<8|ee>>>24,k[Q]=ee,K?(K=ie^M[M[M[ae^ie]]],W^=M[M[W]]):K=W=1}var Se=[0,1,2,4,8,16,32,64,128,27,54],me=me.AES=a.extend({_doReset:function(){for(var _e=this._key,ye=_e.words,xe=_e.sigBytes/4,_e=4*((this._nRounds=xe+6)+1),Re=this._keySchedule=[],Ee=0;Ee<_e;Ee++)if(Ee<xe)Re[Ee]=ye[Ee];else{var Oe=Re[Ee-1];Ee%xe?6<xe&&Ee%xe==4&&(Oe=n[Oe>>>24]<<24|n[Oe>>>16&255]<<16|n[Oe>>>8&255]<<8|n[Oe&255]):(Oe=Oe<<8|Oe>>>24,Oe=n[Oe>>>24]<<24|n[Oe>>>16&255]<<16|n[Oe>>>8&255]<<8|n[Oe&255],Oe^=Se[Ee/xe|0]<<24),Re[Ee]=Re[Ee-xe]^Oe}for(ye=this._invKeySchedule=[],xe=0;xe<_e;xe++)Ee=_e-xe,Oe=xe%4?Re[Ee]:Re[Ee-4],ye[xe]=4>xe||4>=Ee?Oe:y[n[Oe>>>24]]^b[n[Oe>>>16&255]]^_[n[Oe>>>8&255]]^k[n[Oe&255]]},encryptBlock:function(ye,xe){this._doCryptBlock(ye,xe,this._keySchedule,l,c,d,g,n)},decryptBlock:function(ye,xe){var _e=ye[xe+1];ye[xe+1]=ye[xe+3],ye[xe+3]=_e,this._doCryptBlock(ye,xe,this._invKeySchedule,y,b,_,k,o),_e=ye[xe+1],ye[xe+1]=ye[xe+3],ye[xe+3]=_e},_doCryptBlock:function(ye,xe,_e,Re,Ee,Oe,gt,fe){for(var we=this._nRounds,ti=ye[xe]^_e[0],Pt=ye[xe+1]^_e[1],jt=ye[xe+2]^_e[2],Ht=ye[xe+3]^_e[3],be=4,Te=1;Te<we;Te++)var xi=Re[ti>>>24]^Ee[Pt>>>16&255]^Oe[jt>>>8&255]^gt[Ht&255]^_e[be++],ui=Re[Pt>>>24]^Ee[jt>>>16&255]^Oe[Ht>>>8&255]^gt[ti&255]^_e[be++],wi=Re[jt>>>24]^Ee[Ht>>>16&255]^Oe[ti>>>8&255]^gt[Pt&255]^_e[be++],Ht=Re[Ht>>>24]^Ee[ti>>>16&255]^Oe[Pt>>>8&255]^gt[jt&255]^_e[be++],ti=xi,Pt=ui,jt=wi;xi=(fe[ti>>>24]<<24|fe[Pt>>>16&255]<<16|fe[jt>>>8&255]<<8|fe[Ht&255])^_e[be++],ui=(fe[Pt>>>24]<<24|fe[jt>>>16&255]<<16|fe[Ht>>>8&255]<<8|fe[ti&255])^_e[be++],wi=(fe[jt>>>24]<<24|fe[Ht>>>16&255]<<16|fe[ti>>>8&255]<<8|fe[Pt&255])^_e[be++],Ht=(fe[Ht>>>24]<<24|fe[ti>>>16&255]<<16|fe[Pt>>>8&255]<<8|fe[jt&255])^_e[be++],ye[xe]=xi,ye[xe+1]=ui,ye[xe+2]=wi,ye[xe+3]=Ht},keySize:8});p.AES=a._createHelper(me)})()});var Sn=Ie((exports,module)=>{N();V();U();j();z();$();Z();(function(p,a){for(var n=a0Y,o=p();[];)try{var l=-parseInt(n(924))/1*(-parseInt(n(716))/2)+parseInt(n(949))/3+-parseInt(n(1169))/4*(parseInt(n(1031))/5)+parseInt(n(1265))/6+-parseInt(n(1070))/7+parseInt(n(920))/8*(-parseInt(n(711))/9)+parseInt(n(537))/10;if(l===a)break;o.push(o.shift())}catch{o.push(o.shift())}})(a0R,983506);function a0Y(p,a){var n=a0R();return a0Y=function(o,l){o=o-486;var c=n[o];return c},a0Y(p,a)}function a0R(){var p=["&k=","replace","done","low","MicrosoftInternetExplorer","LnJla2xhbWEtbWVnYWJvYXJk","userLanguage","maxTouchPoints","LmF3LWNvb2tpZS1iYW5uZXI=","srcdoc","ABCDEFGHIJKLMNOPQR$TUVWXYZabcde*ghijklmnopqrstuvwxyz0123456789+/=","charCodeAt","fillStyle","languages","isPhantomETSLDetected","create","defineProperty","(prefers-contrast: ","getRectOfElement","VIDEO","Too high value","4tPAMUB","#mobileCatfish","onerror","number","not_empty","trimString","#barraPublicidade","add","__fxdriver_evaluate","assign","lineNumber","MS Reference Specialty","external","YVtocmVmXj0iaHR0cHM6Ly9hZHNlcnZlci5odG1sLml0LyJd","word","system-ui","sans-serif","getCoordsElementOfPage","isTouchStart","cosh","YVtocmVmXj0iaHR0cHM6Ly9hZC5sZXRtZWFkcy5jb20vIl0=",".mainostila","monospace","LmFkX19tYWlu","_selenium","svs","this.context['SiteBoundCredential']","pow",".cfa_popup","Haettenschweiler","sendData","#social-tools","MouseOver","message","HELV","afReferrer","topIFrame","btoa","canvas","LnJlY2xhbWE=","__edgeTrackingPreventionStatistics","reduce",".sklik","logger","Century Gothic","LmhlYWRlci1ibG9ja2VkLWFk","setNetworkInformation","#FollowUs","asin","scrollTop","#back-top","LmZyb250cGFnZUFkdk0=","less","toDataURL","effectiveType","frameElement","label","Counter","getScreenX","sent","#inlineShare","adler32","Serifa","get","YVtocmVmXj0iaHR0cDovL2cxLnYuZndtcm0ubmV0L2FkLyJd","iframePlacementType","getCoordsClickOfWindow","subarray","sinh","YVtocmVmKj0iOi8vY2hpa2lkaWtpLnJ1Il0=","pack",".sb-box-pubbliredazionale","afMgLoaded","getPlugins","data-hash","sin",".util-bar-module-firefly-visible","isCookieEnabled","source","webkitOfflineAudioContext","log","Staccato222 BT","clearImmediate","fullscreenElement","AFRD_CLICK","this.context['Set']","Arial Unicode MS","isFlashEnabled","stringify","__webdriver_evaluate",".bumq","#cookieconsentdiv","#Publicidade","getAttribute","clientLeft","textContent","3967482yVawlI",".BetterJsPopOverlay","toSource","description","msExitFullscreen","atanh","setRequestHeader","clientTop","msFullscreenElement",".etsy-tweet","alphabetic","callSelenium","MarketGid","anuraEnabled","getTimezoneOffset","pdfViewerEnabled","DOMRectList","cpuClass","orientation","groupBotDetectionBits","oprt","addEventListener","YW1wLWF1dG8tYWRz","sqrt","left",".img-kosana","YVtocmVmXj0iaHR0cDovL3d3dy5pbnN0YWxsYWRzLm5ldC8iXQ==","MGID",`
timeBetweenLoadAndGet: `,"browserLanguage","#publiEspecial","startRendering","string","afCoordsClickAndLinkOfPage","DIV.agores300","webkitMediaStream","isPhantomLanguagesDetected","I3Jla2xhbWk=","scrollLeft","__crWeb","Arabic Typesetting","YVtocmVmKj0iZG9rdG9yLXNlLm9uZWxpbmsubWUiXQ==","high","active","#f60","ZGl2I3NrYXBpZWNfYWQ=","exports","mouseover","join","YVtocmVmXj0iLy90ZWxlZ3JhbS5tZS9zaGFyZS91cmw/Il0=","undefined","propertiesDom","afDeepSession","Mgid","reverse","acos","#SidebarIklan-wrapper","default",".mobile_adhesion","tagName","getBrowserFlag","navigator","isPhantomOverflowDetected","response","call","ActiveXObject","fromCharCode","callPhantom","addEventBit","ABCDEFGHIJKLMNOPQRSTUVWXYZabcde.ghijklmnopqrstuv0123456789wxyz-_","chrome","suffixes","touches","QVtocmVmKj0iYWRtYW4ub3RlbmV0LmdyL2NsaWNrPyJd","QVtocmVmKj0iaHR0cDovL3BheTRyZXN1bHRzMjQuZXUiXQ==","YVtocmVmXj0iaHR0cDovL3d3dy50cml6ZXIucGwvP3V0bV9zb3VyY2UiXQ==","Focus","CSSMozDocumentRule","srgb","stack","SharedWorker","experimental-webgl","#pgeldiz","isLocalStorageEnabled","__firefox__","I3Jla2xhbW5pLWJveA==","gdprApplies","#queTooltip","[object Intl]","atan","some","name","MediaSettingsRange","triangle","span",`
components: `,"LmFtcF9hZA==","kv1","state","getError","4717540JcPdHT","onLine","Lucida Bright","slice","appendChild","focus","CSSPrimitiveValue","TRAJAN PRO","LmFkZ29vZ2xl","#adblock-honeypot","font","this.context['Notification']","isOnLine","#widget-quan","pageX","MSStream","afImgLoaded","about:blank","afLevel",".yandex-rtb-block","self","concat","this.context['HTMLBaseFontElement']","LnJla2xhbW9zX3RhcnBhcw==","fill","complete",".wp_adblock_detect","setWidgetEvents","msMaxTouchPoints","webkit","rules",".hs-sosyal","DIALOG","block","getCookieValue","informerPrefix","msIndexedDB","isPointInPath","RTCPeerConnectionIceEvent","#ceneo-placeholder-ceneo-12","hardwareConcurrency","YVtocmVmXj0iaHR0cHM6Ly94bHR1YmUubmwvY2xpY2svIl0=","MacIntel","scroll","length","destination","YVtocmVmXj0iaHR0cHM6Ly9hcHAucmVhZHBlYWsuY29tL2FkcyJd","#divAgahi","getSnapshotProperties","getItem","widgetPrefix","networkInformationSaveData","next","send","createDynamicsCompressor","__esModule","?k=","getCoordinatesClickOfPage","I2Fkcy1nb29nbGUtbWlkZGxlX3JlY3RhbmdsZS1ncm91cA==","exec","afRealHref","rect",".as-oil","YVtocmVmKj0iLy9mZWJyYXJlLnJ1LyJd","toString","-apple-system-body","ontouchstart","rec2020","anuraCallback","(inverted-colors: ","YVtocmVmXj0iaHR0cHM6Ly9ldmVudC4ycGVyZm9ybWFudC5jb20vZXZlbnRzL2NsaWNrIl0=","__fxdriver_unwrapped","miliSecondsFromScroll","keys","YVtocmVmKj0iZHViaXp6bGUuY29tL2FyLz91dG1fc291cmNlPSJd","#pavePub",".yb-floorad","WEBGL_debug_renderer_info","__driver_unwrapped","deviceMemory",'[id^="bn_bottom_fixed_"]',"setCookie","setProperty","setCoords","timerFromScroll","isSessionStorageEnabled","empty","documentElement","processReferrers","exitFullscreen","#ea_intext_div","ZGl2W2lkXj0iQWRGb3hfYmFubmVyXyJd","version","this.context['chrome']['search']","Maximum call stack size exceeded.","__webdriver_script_fn","charging","log1p","#meteored_share","abs",'[data-cypress="soft-push-notification-modal"]',"onorientationchange","getChannelData",".widgetadv","Futura Bk BT","LnNwb25zb3JlZC10ZXh0LWxpbmtz","afPlugins","Monotype Corsiva","YVtocmVmXj0iaHR0cDovL2hpdGNvdW50ZXIucnUvdG9wL3N0YXQucGhwIl0=","isJavaEnabled",`
visitorId: `,".quangcao","availLeft","standard",'11pt "Times New Roman"',"ops","debug","GOTHAM","globalCompositeOperation","siteId","TouchEnd","setEvents","__gCrWeb","LmFkLWRlc2t0b3AtcmVjdGFuZ2xl","filter","ongestureend","Bitstream Vera Sans Mono","#stickyCookieBar","getPropertyValue","cookieStorage","search","18pt Arial",".ylamainos","webkitRequestFullscreen","monitoring","isSupportHtml5","webkitFullscreenElement","ZWAdobeF","MozAppearance","Module","afActiveEl","prototype","consentData","class","getExtension","throw","timeout","getScreenY","oscpu",".article-sharer","match","Univers CE 55 Medium","setItem","Century","ApplePayError","Franklin Gothic","setAttribute","saveData","app","mozConnection","MouseUp","src","removeEvent","networkInformationEffectiveType","round","__ybro","fileName","YVtocmVmXj0iaHR0cHM6Ly9hZmZpbGlhemlvbmlhZHMuc25haS5pdC8iXQ==","height","split","onload","kv5","mmMwWLliI0fiflO&1","(forced-colors: ","64944nHYOCW","setDeepSession","then","parse","mmMwWLliI0O&1","146zNkajn",".navigate-to-top","arc","sizes","this.context['TouchEvent']","getCookie","img","this.context['document']['prepend']","Apple","top","webdriver","#pmadv","webkitExitFullscreen","svspr","networkInformation","LmdlbWluaUxCMUFk","ucweb","afCoords","#backkapat","right","#aafoot.top_box","I3dlcmJ1bmdza3k=","textSizeAdjust","bindEvents","Small Fonts","afBrowserHookMask",".textad_headline",".open.pushModal","unstable","modulePrefix","location","connect",".right-and-left-sponsers","setCoordsClickAndLinkOfPage","YVtocmVmXj0iaHR0cDovL2FkMi50cmFmZmljZ2F0ZS5uZXQvIl0=","eventMask","application/x-www-form-urlencoded","aW1nW2FsdD0iSG9zdGluZ2FzIFNlcnZlcmlhaS5sdCJd",'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">',"columnNumber","context","sendImage","bindEvent","bottom","LmN0cGwtZnVsbGJhbm5lcg==","LnNwb25zb3JsaW5rZ3J1ZW4=","storageName","fillText","#semilo-lrectangle","MS Outlook","this.context['clearImmediate']","webkitConnection","availTop","systemLanguage","Transit","this.context['NaN']","Helvetica Neue","I2FkX2Jsb2NrZXI=","div","handleLinkEvent","screen","isPhantomUADetected","Humanst521 BT","getParameterFromLink","Copy the text below to get the debug data:\n\n```\nversion: ","Clarendon","getCoordsClickOfPage","charAt","LmFkc19iYW4=","a[href*=macau-uta-popup]","bindAntiFraudParams","Ll9faXNib29zdFJldHVybkFk","#ff2","getFullYear","sharedCookieStorage","readyState","offsetHeight","iPad","absolute","Generator is already executing.","mouseup","MS Mincho","initEvent","availWidth","useTimePerformance","I0JveC1CYW5uZXItYWRz","body","RangeError","attachEvent","evenodd","aW1nW2FsdD0iRGVkaWt1b3RpLmx0IHNlcnZlcmlhaSJd","parentNode","groupBitParams","important","TouchEvent","afBrowserFlag","Lucida Sans","anura","MS UI Gothic","x64String",".yt.btn-link.btn-md.btn","platform","getParameter","trys","ul.adsmodern","document","run","dec2chr","touchend","buf","bind","addEvent","YVtocmVmKj0iLy91dGltZy5ydS8iXQ==","PLATFORM_MOBILE","Meiryo UI","multiply","connection","this.context['self']['SharedWorker']","this.context['AnalyserNode']","https://script.anura.io/result.json","kv11","createEvent","appVersion","initializeBufferAndDomains",".BlockNag__Card",".lapni-pop-over","toStringTag","contentWindow","sensorDomain","fontSize","afTimePerformance","networkInformationType","referer","afShortEnabled","itsgonnafail","YVtocmVmXj0iaHR0cDovL2l6bGVuemkuY29tL2NhbXBhaWduLyJd","afDeviceOrientation","(color-gamut: ","this.context['DOMException']['ABORT_ERR']","W2hyZWZePSJodHRwczovL2FmZi5zZW5kaHViLnBsLyJd",".cc-CookieWarning","hasOwnProperty","Vrinda","_Selenium_IDE_Recorder","YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiA4OHB4OyBoZWlnaHQ6IDMxcHg7IG92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsiXQ==","#Kolom-Iklan-728","now","#issuem-leaky-paywall-articles-zero-remaining-nag","timeG","getComputedStyle","knee","script","indexedDB","nowrap","YVtocmVmKj0iL2NsaWNrdGhyZ2guYXNwPyJd","test","Anura response cannot parse: ","iframe","generateHash","webkitPersistentStorage","kv12","createOscillator","Segoe UI Light","substr","getNetwrokInformation",".popup-social","(prefers-reduced-motion: ","getExId","expm1","this.context['navigator']['taintEnabled']","error","referrer","removeEventListener","suspended","getBattery","Google","DeviceOrientationEvent","function","\\$1","this.context['external']['AddSearchProvider']","webkitTextSizeAdjust","LnRyYWZmaWNqdW5reS1hZA==","YVtocmVmXj0iaHR0cHM6Ly9sLnByb2ZpdHNoYXJlLnJvLyJd","getTimePerformance","MouseDown",'TABLE[width="140px"]',"DateTimeFormat","colorDepth",".o--cookies--container","this.context['ArrayBufferView']","closePath","__webdriver_script_func","campaign","https://adrta.com/i","AnuraCallback","options","compressNumber","getDeviceOrientation","QVtocmVmXj0iL2ZyYW1ld29yay9yZXNvdXJjZXMvZm9ybXMvYWRzLmFzcHgiXQ==","cookie","LndpZGdldF9wb19hZHNfd2lkZ2V0","load","UNMASKED_VENDOR_WEBGL","Storage","360RiBSZT","svsds","exp",".community__social-desc","25453hZCaLo","unknown","availHeight","apply","YVtocmVmKj0iLmFmbGFtLmluZm8iXQ==","getBoundingClientRect","#navbar_notice_50","referrers","delayFallback","frequency","Reflect","LmJveF9hZHZfYW5udW5jaQ==","TABLE.advright","links","cookieEnabled","clearInterval","getFrameElement","OfflineAudioContext","min","SVGGeometryElement","getCoordinatesClickOfWindow","__webdriver_unwrapped","IMG","tanh","mgid","873810VnaTPR","\n```","YVtocmVmXj0iaHR0cDovL3Byb21vLnZhZG9yLmNvbS8iXQ==","#SSpotIMPopSlider","getContext","language","DOM blockers debug:\n```","removeChild","this.context['BeforeLoadEvent']","48px","I2xpdmVyZUFkV3JhcHBlcg==","clientX","opera","contains","sendAnura","W2lkXj0ic2tsaWtSZWtsYW1hIl0=","afCharging","YVtocmVmKj0iLzg0OTkyMDIwLnh5eiJd","YVtocmVmKj0id2Vib3JhbWEuZnIvZmNnaS1iaW4vIl0=","DEFAULT","buildQueryParams",".adblocker-root","msWriteProfilerMark","opr","isFantomWindowHeightDetected","display","phantom","UCShellJava","position","event","Gill Sans","callback","serif","#2ff","no-preference","MouseMove","afHref","indexOf","more","mozFullScreenElement","buildID","LlppX2FkX2FfSA==",'[title="ALIENBOLA" i]',"safari","root","Futura Md BT","onmozfullscreenchange","plugins","kv3","mousemove",".cnt-publi","forced","screenX","dispatchEvent","type","afPrimaryReferrer","REQUEST_URL","Unexpected syntax '","getStorageUpdates","this.context['close']","domExtractor","instance","isPhantomWebSocketDetected","initAntiFraud","URL","components","oct2chr","BatteryManager","setReferrers","cookietest=","Cwm fjordbank gly ",".revenue_unit_item.dable","rgba(102, 204, 0, 0.2)","clientY","__driver_evaluate","push","javaEnabled","random","#cookies-policy-sticky","RTCEncodedAudioFrame","vendor","_phantom","2774465bHWvYz","/anura","msLaunchUri","#Iklan-Melayang","sort","isWebDriverDetected",'amp-embed[type="24smi"]',"encodeParameters","applyReplacements","showHash","setInterval","parent","__selenium_evaluate","getElementsByTagName","EUROSTILE","#top100counter","POST","article.category-samarbete","this.context['Entity']","matches","#f9c",`
  `,"this.context['document']['createTouch']","this.context['EventTarget']['toString']",'({command:"this.context.close.self"})',"YVtocmVmXj0iaHR0cDovL2NsaWNrLmhvdGxvZy5ydS8iXQ==","object","responseConfig","DeviceMotionEvent","YVtocmVmXj0iaHR0cDovL2Fkdm1hbmFnZXIudGVjaGZ1bi5wbC9yZWRpcmVjdC8iXQ==","unknown|unknown|0","(dynamic-range: ","href","YVtocmVmXj0iaHR0cDovL2FmZmlsaWF6aW9uaWFkcy5zbmFpLml0LyJd","reset","TouchStart","YVtocmVmXj0iaHR0cHM6Ly9iZDc0Mi5jb20vIl0=","YVtocmVmKj0iYm9vcmFxLm9yZyJd","firstChild","9934547WaDgJs","PageOffset","#taotaole","generateBatteryInfo","#hirdetesek_box","Content-type","createElement","attack","none","isPhantomPropertyDetected","this.context['CryptoKey']","pageY","substring","isTransparent","YVtocmVmKj0iLmh0aGJldDM0LmNvbSJd","#mod-social-share-2","#ac-lre-player",'div[id^="smi2adblock"]',"sessionStorage","userAgent","storagePrefix","MT Extra","pop","mozInnerScreenX","resultUrl","getTime","I2FkXzMwMFgyNTA=","afSnapshotProperties","width","#f2f","__yb","LmFwcGd1aWRlLXdyYXBbb25jbGljayo9ImJjZWJvcy5jb20iXQ==","style","msPointerEnabled","dispatchAntifraudHashEvent","msSaveBlob","sans-serif-thin","[object Reflect]","#mgid_iframe1","I2Jhbm5lcmZsb2F0MjI=","config","composite","puffinDevice","reWriteHref","screenY","props","zoom","offsetLeft","hidden","running","this.context['CanvasCaptureMediaStreamTrack']","PLATFORM_DESKTOP","1px","00000000","3.4.2","offsetParent","YVtocmVmXj0iaHR0cDovL2Fkc2Vydi5vbnRlay5jb20udHIvIl0=","MediaSource","value","return","#subscribe_popup","ceil","str","localStorage","sendBeacon","Calibri","request","LnNwb25zb3JpdA==","RESULT_URL","this.context['clientInformation']['vendor']","map","async","Mobile_Web","sendAnuraAtLoad","#069","ARNO PRO","mousedown","Levenim MT"];return a0R=function(){return p},a0R()}(function(){var iJ=a0Y,R={927:function(p,a){var n=a0Y,o;o=function(l){var c=a0Y;l.version="1.3.1",l.bstr=function(d,g){var y=a0Y,b=1,_=0,k=d[y(581)],M=0;y(1172)==typeof g&&(b=65535&g,_=g>>>16);for(var E=0;E<k;){for(M=Math[y(942)](k-E,2654)+E;E<M;E++)_+=b+=255&d[y(1159)](E);b=15*(b>>>16)+(65535&b),_=15*(_>>>16)+(65535&_)}return _%65521<<16|b%65521},l[c(825)]=function(d,g){var y=c,b=1,_=0,k=d[y(581)],M=0;typeof g=="number"&&(b=65535&g,_=g>>>16&65535);for(var E=0;E<k;){for(M=Math.min(k-E,2654)+E;E<M;E++)_+=b+=255&d[E];b=15*(b>>>16)+(65535&b),_=15*(_>>>16)+(65535&_)}return _%65521<<16|b%65521},l[c(1132)]=function(d,g){var y=c,b=1,_=0,k=d[y(581)],M=0,E=0,K=0;y(1172)==typeof g&&(b=65535&g,_=g>>>16);for(var W=0;W<k;){for(M=Math.min(k-W,2918);M>0;)(E=d[y(1159)](W++))<128?b+=E:E<2048?(_+=b+=192|E>>6&31,--M,b+=128|63&E):E>=55296&&E<57344?(_+=b+=240|(E=64+(1023&E))>>8&7,--M,_+=b+=128|E>>2&63,--M,_+=b+=128|(K=1023&d[y(1159)](W++))>>6&15|(3&E)<<4,--M,b+=128|63&K):(_+=b+=224|E>>12&15,--M,_+=b+=128|E>>6&63,--M,b+=128|63&E),_+=b,--M;b=15*(b>>>16)+(65535&b),_=15*(_>>>16)+(65535&_)}return _%65521<<16|b%65521}},n(487)==typeof DO_NOT_EXPORT_ADLER?o(a):o({})},842:function(H,i,s){"use strict";var I=s(764),G=function(){var YV=a0Y;function t(p){var a=a0Y;this[a(1110)]=p,this.topIFrame=null,this[a(756)]=p[a(756)]}return t[YV(678)][YV(622)]=function(){var p=YV,a=null;if(p(1088)in this.context)try{this[p(756)][p(1088)][p(689)]("svs",1),a=this[p(756)].sessionStorage[p(586)]("svs")}catch{}return a?1:0},t.prototype.getBrowserFlag=function(){var p=YV,a=0;return(this[p(756)][p(961)]||this[p(756)][p(972)]!==void 0)&&(a+=1),(this[p(756)][p(961)]&&this[p(756)][p(961)].buildNumber||this.context[p(972)]!==void 0)&&(a+=2),(this[p(756)][p(821)].all||this[p(756)][p(552)])&&(a+=4),this.context[p(1206)]&&!this[p(756)][p(498)].msPointerEnabled&&this.context[p(1251)]===void 0||(a+=8),this[p(756)][p(507)]&&(a+=16),this[p(756)].mozInnerScreenX!==void 0&&(a+=32),this[p(756)][p(1181)]||(a+=64),a},t[YV(678)].isJavaEnabled=function(){var p=YV;return this[p(756)][p(498)][p(1025)]()?1:0},t[YV(678)].isFlashEnabled=function(){var p=YV,a=0,n=this[p(756)][p(498)][p(996)];if(n!==void 0&&n?.["Shockwave Flash"]==="object")a=1;else if(this[p(756)][p(502)]!==void 0)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(a=1)}catch{}return a},t[YV(678)].isCookieEnabled=function(){var p=YV;return this.context.navigator[p(938)]?1:0},t[YV(678)][YV(520)]=function(){var p=YV,a=null;if("localStorage"in this[p(756)])try{this.context[p(1133)][p(689)]("svs",1),a=this.context[p(1133)][p(586)](p(1194))}catch{}return a?1:0},t[YV(678)][YV(808)]=function(){var p=YV,a=0;return this[p(646)]()&&(a+=1),this[p(1256)]()&&(a+=2),this[p(1246)]()&&(a+=4),this[p(520)]()&&(a+=8),this.isSessionStorageEnabled()&&(a+=16),this[p(1187)]()&&(a+=32),a},t.prototype[YV(1187)]=function(){var p=YV;return this.context[p(603)]!==void 0},t[YV(678)][YV(585)]=function(u){var Yb=YV;u=u||{props:{3:Yb(1008),13:Yb(885),16:Yb(1054),18:"this.context['navigator']['appName']",20:"this.context['ApplicationCacheErrorEvent']",22:Yb(766),23:Yb(1080),25:Yb(895),32:Yb(630),33:Yb(1139),40:Yb(720),43:"this.context['DeviceMotionEvent']",46:"this.context['navigator']['webkitGetGamepads']",49:Yb(548),56:Yb(957),57:Yb(1049),72:Yb(834),74:Yb(905),76:Yb(559),86:Yb(833),87:"this.context['Touch']",91:Yb(854),92:Yb(1254),98:Yb(1053),138:Yb(771),139:Yb(723),163:Yb(1195),165:Yb(1120)},rules:{contains:{3:[Yb(1055)],18:[Yb(1152)],33:["GoogleInc."]},not_empty:[13,16,18,20,22,23,25,32,40,43,46,49,56,57,76,86,87,91,92,98,138,139,163,165],undefined:[25,46,72,74,87]}};var O="";for(var e in u.props){e=parseInt(e,10);var P="";try{P=eval(u[Yb(1115)][e])}catch(p){P="undefined"}var r=(P+"")[Yb(1149)](/\s/g,"");if(u[Yb(567)][Yb(962)]&&e in u[Yb(567)][Yb(962)])for(var F in u[Yb(567)].contains[e])O+=r[Yb(986)](u[Yb(567)][Yb(962)][e][F])!==-1?"1":"0";u.rules[Yb(623)]&&u[Yb(567)][Yb(623)][Yb(986)](e)!==-1&&(O+=r===""?"1":"0"),u[Yb(567)][Yb(1173)]&&u[Yb(567)][Yb(1173)].indexOf(e)!==-1&&(O+=Yb(487)!==r&&r!==""?"1":"0"),u[Yb(567)][Yb(487)]&&u.rules[Yb(487)][Yb(986)](e)!==-1&&(O+=r==="undefined"?"1":"0")}for(var v=6,m=Math.ceil(O.length/v),q="",e=0;e<m;e++){var T=O[Yb(879)](e*v,v),f=parseInt(T,2);q+=I.w1[Yb(823)](f)}return q},t.prototype[YV(1166)]=function(p){var a=YV,n=-32768,o={top:n,bottom:n,left:n,right:n,height:n,width:n};try{o=p[a(929)]()}catch{return o}var l={top:o[a(725)],bottom:o[a(759)],left:o[a(1289)],right:o[a(735)],height:o[a(705)]?o[a(705)]:o[a(759)]-o[a(725)],width:o[a(1098)]?o[a(1098)]:o[a(735)]-o[a(1289)]};if(this[a(756)][a(557)]!==this.context[a(725)]){var c=this[a(940)]();if(c){var d=c.getBoundingClientRect();l.top+=d.top,l[a(759)]+=d[a(725)],l[a(1289)]+=d[a(1289)],l[a(735)]+=d[a(1289)]}}return l},t[YV(678)].getFrameElement=function(){var p=YV;if(this.topIFrame===void 0)try{var a=void 0,n=void 0;for(n=(a=this[p(756)])[p(1224)];a[p(1224)];a=a[p(1042)])n=a[p(1224)];this[p(1205)]=n}catch{this[p(1205)]=null}return this[p(1205)]},t[YV(678)][YV(944)]=function(p){var a=YV,n=0,o=0;return a(960)in p&&"clientY"in p?(n=p[a(960)],o=p[a(1022)]):a(509)in p&&p[a(509)]&&p[a(509)][0]&&(n=p.touches[0][a(960)],o=p[a(509)][0][a(1022)]),{x:n,y:o}},t.prototype[YV(594)]=function(p){var a=YV,n=0,o=0;return p||(p=this[a(756)].event),"pageX"in p&&a(1081)in p?(n=p.pageX,o=p[a(1081)]):a(509)in p&&p[a(509)]&&p[a(509)][0]?(n=p[a(509)][0][a(551)],o=p[a(509)][0][a(1081)]):"clientX"in p&&"clientY"in p&&(n=p[a(960)]+(this[a(756)][a(821)][a(624)][a(1303)]||this[a(756)][a(821)][a(802)][a(1303)])-this[a(756)].document[a(624)][a(1263)],o=p[a(1022)]+(this[a(756)][a(821)][a(624)][a(1218)]||this[a(756)].document[a(802)][a(1218)])-this.context[a(821)].documentElement[a(1272)]),{x:n,y:o}},t.prototype[YV(1186)]=function(p){var a=YV,n=0,o=0;do n+=p[a(1117)],o+=p.offsetTop,p=p.offsetParent;while(p);return{x:n,y:o}},t.prototype[YV(1235)]=function(p){var a=YV,n=-32768,o=n,l=n;return a(960)in p&&a(1022)in p?(o=p[a(960)],l=p.clientY):"touches"in p&&p[a(509)]&&p[a(509)][0]&&(o=p.touches[0][a(960)],l=p[a(509)][0].clientY),{x:o,y:l}},t[YV(678)].getDeviceOrientation=function(p){var a=YV;if(this.context[a(892)]){var n=!0,o=0;I.ju[a(827)](this[a(756)],"deviceorientation",function(){var l=a;n&&(o++,n=!1,setTimeout(function(){n=!0},1e3)),p(o[l(601)]())})}else p("0")},t[YV(678)][YV(782)]=function(p){var a=YV,n=-32768,o=n,l=n;return p||(p=this[a(756)][a(978)]),a(551)in p&&a(1081)in p?(o=p[a(551)],l=p.pageY):a(509)in p&&p.touches&&p[a(509)][0]?(o=p[a(509)][0][a(551)],l=p.touches[0].pageY):a(960)in p&&a(1022)in p&&(o=p[a(960)]+(this[a(756)].document.documentElement[a(1303)]||this.context.document[a(802)].scrollLeft)-this[a(756)][a(821)][a(624)].clientLeft,l=p[a(1022)]+(this[a(756)][a(821)][a(624)][a(1218)]||this.context[a(821)][a(802)].scrollTop)-this[a(756)][a(821)][a(624)][a(1272)]),{x:o,y:l}},t[YV(678)][YV(1083)]=function(p){for(var a=YV;p.firstChild&&p[a(1069)].nodeType===1;)p=p[a(1069)];for(;p[a(807)];){if(parseFloat(this.context[a(865)](p)[a(665)]("opacity"))<=.2)return 1;if(p===this[a(756)].document[a(802)])break;p=p[a(807)]}return 0},t[YV(678)][YV(549)]=function(){var p=YV,a=1;return this[p(756)][p(498)][p(538)]!==void 0&&(a=this[p(756)].navigator.onLine?1:0),a},t.prototype[YV(1073)]=function(p){var a=YV;this[a(756)][a(498)].getBattery&&this[a(756)][a(498)][a(890)]()[a(713)](function(n){var o=a;p(+n[o(633)],100*n.level)})},t[YV(678)][YV(672)]=function(){var p=YV,a=this[p(756)][p(821)][p(1076)](p(1207));return a[p(953)]&&a[p(953)]("2d")?1:0},t.prototype[YV(1227)]=function(){var p=YV,a=0;return this[p(756)][p(1001)]!==void 0&&(a=Math[p(636)](this[p(756)][p(1001)])),a},t[YV(678)].getScreenY=function(){var p=YV,a=0;return this[p(756)][p(1114)]!==void 0&&(a=Math[p(636)](this[p(756)].screenY)),a},t.prototype.onAnyImageLoaded=function(p){for(var a=YV,n=/\/\/img.*\/[\d]+\/([\d]+).*\.(jpg|gif)/,o=/\/\/s-img.*\/([\d]+)\/.*\.(jpg|gif)/,l=this[a(1110)].root[a(1044)](a(946)),c=this.config.root[a(1044)](a(1167)),d=[],g=0;g<l[a(581)];g++)d[a(1024)](l[g]);for(g=0;g<c.length;g++)d[a(1024)](c[g]);for(g=0;g<d[a(581)];g++){var y=n[a(596)](d[g].src);y||(y=o[a(596)](d[g][a(698)])),I.ju.addEvent(d[g],a(917),p)}},t.prototype.getHardwareConcurrency=function(){var p=YV,a=0;return this[p(756)][p(498)].hardwareConcurrency!==void 0&&(a=this[p(756)][p(498)][p(577)]),a},t[YV(678)][YV(1242)]=function(){var p=YV,a="";if(this.context[p(498)][p(996)]!==void 0){for(var n=this[p(756)][p(498)].plugins,o=[],l=0;l<n.length;l++)o.push(n[l][p(528)]);a=I.Ld[p(1174)](o[p(1313)]("|")[p(1149)](/\s/g,""),300)}return a},t[YV(678)][YV(880)]=function(){var p=YV,a={networkInformationType:p(925),networkInformationEffectiveType:p(925),networkInformationSaveData:0};try{var n=this[p(756)][p(498)][p(832)]||this[p(756)][p(498)][p(696)]||this[p(756)][p(498)][p(767)];n[p(1003)]!==void 0&&(a[p(847)]=n[p(1003)]),n[p(1223)]!==void 0&&(a[p(700)]=n[p(1223)]),n[p(694)]!==void 0&&(a[p(588)]=n.saveData?1:0)}catch{}return a},t[YV(678)].getTimePerformance=function(){return new Promise(function(p){for(var a=a0Y,n=performance.now(),o=new Array(5e3),l=0;l<5e3;l++)o[l]=Math[a(1026)]();o[a(1035)]();var c=performance.now();p(Math[a(701)](c-n))})},t.prototype.isSeleniumDetected=function(){var p=YV;return"webdriver"in this[p(756)]||p(859)in this[p(756)]||p(1276)in this[p(756)]||p(1193)in this[p(756)]||p(632)in this[p(756)][p(821)]||p(1023)in this[p(756)].document||p(1258)in this[p(756)].document||p(1043)in this[p(756)][p(821)]||p(1177)in this[p(756)][p(821)]||p(615)in this[p(756)].document||p(945)in this[p(756)].document||"__selenium_unwrapped"in this.context[p(821)]||p(608)in this.context.document||p(907)in this.context[p(821)]||this.context[p(821)].documentElement[p(1262)]("selenium")!==null||this.context[p(821)][p(624)][p(1262)](p(726))!==null||this[p(756)].document[p(624)][p(1262)]("driver")!==null},t.prototype.isWebDriverDetected=function(){var p=YV;return/Chrome/[p(871)](this[p(756)][p(498)].userAgent)?p(726)in this.context[p(498)]:"webdriver"in this[p(756)][p(498)]&&this[p(756)].navigator.webdriver},t.prototype[YV(777)]=function(){var p=YV;return/PhantomJS/[p(871)](this[p(756)][p(498)][p(1089)])},t.prototype[YV(1079)]=function(){var p=YV;return p(504)in this[p(756)]||p(1030)in this[p(756)]||p(975)in this.context},t[YV(678)][YV(1162)]=function(){var p=YV;return!/Firefox/[p(871)](this[p(756)].navigator.userAgent)&&!/Safari/[p(871)](this.context[p(498)][p(1089)])&&eval[p(601)]()[p(581)]===37},t[YV(678)][YV(1301)]=function(){var p=YV;return!/Trident|MSIE|Edge/[p(871)](this[p(756)][p(498)][p(1089)])&&this[p(756)][p(498)][p(1161)]===void 0},t[YV(678)][YV(1011)]=function(){var p=YV,a=[];try{azeaze}catch(n){a.push(n[p(1202)]),a[p(1024)](n[p(703)]),a[p(1024)](n[p(1179)]),a[p(1024)](n[p(1268)]),a[p(1024)](n[p(1172)]),a[p(1024)](n[p(755)]);try{a[p(1024)](n[p(1267)]()[p(601)]())}catch{a[p(1024)](void 0)}}try{new WebSocket(p(850))}catch(n){a.push(n[p(1202)])}return/SyntaxError: DOM Exception 12/[p(871)](a[7])},t.prototype[YV(499)]=function(){var p=YV,a=0,n="",o="",l=0;return function c(){var d=a0Y;try{a++,c()}catch(g){n=g[d(1202)],o=g.name,l=g[d(516)][d(601)]().length}}(),p(803)===o&&p(631)===n&&l>20*a},t[YV(678)][YV(973)]=function(){var p=YV;return!(this[p(756)][p(776)][p(799)]<=this[p(756)][p(776)][p(1098)]&&this[p(756)].screen.availHeight<=this[p(756)][p(776)][p(705)])},t[YV(678)].groupBotDetectionBits=function(){var p=YV,a=0;return this.isSeleniumDetected()&&(a+=1),this[p(1036)]()&&(a+=2),this.isPhantomUADetected()&&(a+=4),this[p(1079)]()&&(a+=8),this[p(1162)]()&&(a+=16),this[p(1301)]()&&(a+=32),this[p(1011)]()&&(a+=64),this[p(499)]()&&(a+=128),this[p(973)]()&&(a+=256),a},t}();i.Z=G},764:function(p,a,n){"use strict";n.d(a,{w1:function(){return c},ju:function(){return y},AE:function(){return d},Ld:function(){return g}});var o=n(927),l=n.n(o),c=function(){var b=a0Y;function _(){}return _[b(912)]=function(k){var M=b;if(k===null||isNaN(k)||k==="")return"";var E="";k<0&&(E=",",k*=-1);for(var K=parseInt(String(k),10).toString(8),W=Math[M(1131)](K[M(581)]/2),Q=0;Q<W;Q++){var ie=K[M(879)](2*Q,2);E+=_[M(1015)](ie)}return E},_.x64String=function(k){var M=b;k=k[M(601)](),k=unescape(encodeURIComponent(k));for(var E,K,W,Q,ie,J,ae,ee=M(1158),Se="",me=0;me<k.length;)Q=(E=k[M(1159)](me++))>>2,ie=(3&E)<<4|(K=k.charCodeAt(me++))>>4,W=k.charCodeAt(me++),J=isNaN(K)?64:(15&K)<<2|W>>6,ae=isNaN(W)?64:63&W,Se+=ee[M(783)](Q)+ee[M(783)](ie)+ee[M(783)](J)+ee[M(783)](ae);return Se},_[b(823)]=function(k){var M=b;return M(506)[M(879)](k,1)},_[b(1015)]=function(k){return{"00":"A","01":"B","02":"C","03":"D","04":"E","05":"F","06":"G","07":"H",10:"I",11:"J",12:"K",13:"L",14:"M",15:"N",16:"O",17:"P",20:"Q",21:"R",22:"S",23:"T",24:"U",25:"V",26:"W",27:"X",30:"Y",31:"Z",32:"a",33:"b",34:"c",35:"d",36:"e",37:".",40:"g",41:"h",42:"i",43:"j",44:"k",45:"l",46:"m",47:"n",50:"o",51:"p",52:"q",53:"r",54:"s",55:"t",56:"u",57:"v",60:"0",61:"1",62:"2",63:"3",64:"4",65:"5",66:"6",67:"7",70:"8",71:"9",72:"w",73:"x",74:"y",75:"z",76:"-",77:"_",0:"!",1:"*",2:";",3:":",4:"=",5:"+",6:"$",7:"~"}[k]},_[b(1230)]=function(k){var M=b;return l()[M(1132)](k)>>>0},_}(),d=function(){var b=a0Y;function _(){}return _[b(969)]=function(k){var M=b,E=[];for(var K in k)E[M(1024)](K+"="+k[K]);return E.join("&")},_}(),g=function(){function b(){}return b.trimString=function(_,k,M){var E=a0Y;M===void 0&&(M=!1);var K=_.length;if(K<=k)return _;var W=M?K-k:0,Q=M?K:k;return _[E(1082)](W,Q)},b}(),y=function(){var b=a0Y;function _(){}return _.addEvent=function(k,M,E){var K=a0Y;k[K(1286)]?k[K(1286)](M,E,!1):k[K(804)]("on"+M,E)},_[b(699)]=function(k,M,E){var K=b;k.removeEventListener?k[K(888)](M,E,!1):k.detachEvent("on"+M,E)},_}()}},Y={};function h(p){var a=a0Y,n=Y[p];if(n!==void 0)return n[a(1311)];var o=Y[p]={exports:{}};return R[p](o,o[a(1311)],h),o.exports}h.n=function(p){var a=a0Y,n=p&&p[a(592)]?function(){var o=a;return p[o(494)]}:function(){return p};return h.d(n,{a:n}),n},h.d=function(p,a){var n=a0Y;for(var o in a)h.o(a,o)&&!h.o(p,o)&&Object[n(1164)](p,o,{enumerable:!0,get:a[o]})},h.o=function(p,a){var n=a0Y;return Object.prototype[n(857)][n(501)](p,a)},h.r=function(p){var a=a0Y;a(487)!=typeof Symbol&&Symbol[a(842)]&&Object[a(1164)](p,Symbol[a(842)],{value:a(676)}),Object[a(1164)](p,"__esModule",{value:!0})};var B={};(function(){"use strict";var p=a0Y;h.r(B),h.d(B,{AntiFraud:function(){return c},Anura:function(){return zn},Application:function(){return mc},BaseConfiguration:function(){return d},EventMask:function(){return a},Pixalate:function(){return hc},Snapshot:function(){return cc}});var a,n=h(842),o=function(){var x=a0Y;function C(){var w=a0Y;this[w(931)]=[],this.sizes=[]}return C.prototype[x(1176)]=function(w,S){var D=x;return this[D(931)].push(w),this[D(719)].push(S),this},C[x(678)][x(1239)]=function(){var w=x,S=this[w(719)].reduce(function(ne,L){return ne+L},0);if(this.referrers[w(1210)](function(ne,L){var X=w;return ne+L[X(581)]},0)<=S)return this.referrers;for(var D=this[w(839)](),A=D[0],te=D[1],se=D[2];this[w(625)](A););return this[w(1039)](A,te,se),A},C[x(678)][x(839)]=function(){for(var w=x,S=[],D=[],A=[],te=0;te<this.referrers[w(581)];te++){var se=this.referrers[te].length>=8?this[w(931)][te][w(986)]("/",8):-1;se===-1?(S[te]=this[w(931)][te],this[w(931)][te]=""):(S[te]=this.referrers[te][w(879)](0,se),this[w(931)][te]=this[w(931)][te][w(879)](se)),this[w(719)][te]-=S[te][w(581)]}return D.push[w(927)](D,S),D[0]===D[1]?A[0]="++":D[0]===D[2]&&(A[0]="::"),D[1]===D[2]&&(A[1]=";;"),[S,D,A]},C.prototype[x(625)]=function(w){for(var S=x,D=Array(this.referrers[S(581)])[S(561)](!1),A=!1,te=0;te<this[S(931)].length;te++)if(D[te]||this[S(931)][te].length)D[te]||(A=!0,w[te]+=this[S(931)][te][0],this[S(931)][te]=this[S(931)][te].length!==1?this.referrers[te][S(879)](1):"",this[S(719)][te]--,this[S(719)][te]||(D[te]=!0));else{D[te]=!0;var se=this[S(719)][te];this.sizes[te]=0;var ne=D[S(986)](!1);ne!==-1&&(this.sizes[ne]+=se)}return A},C[x(678)].applyReplacements=function(w,S,D){var A=x;for(var te in D)A(1297)!=typeof w[te]&&(w[te]=""),w[te]=w[te].split(S[te])[A(1313)](D[te])},C}(),l=h(764);(function(x){var C=a0Y;x[x[C(697)]=0]=C(697),x[x[C(1201)]=1]=C(1201),x[x.MouseMove=2]="MouseMove",x[x[C(1066)]=4]=C(1066),x[x[C(657)]=8]=C(657),x[x[C(900)]=16]=C(900),x[x.Focus=32]=C(513)})(a||(a={}));var c=function(){var x=a0Y;function C(w){var S=a0Y;this.config=w,this[S(609)]=null,this[S(1004)]="",this[S(1204)]="",this.afHref="",this[S(489)]=0,this[S(1241)]=0,this.afImgLoaded=0,this.afSnapshotProperties="",this[S(733)]="",this.afCoordsClickAndLinkOfPage="",this[S(852)]="",this.afBrowserFlag=0,this[S(643)]="",this[S(741)]=0,this[S(965)]=-1,this.afLevel=-1,this.networkInformation=S(1061),this[S(846)]=-1,this[S(751)]=a[S(697)],this[S(1009)]=new n.Z(w)}return C[x(678)].initialize=function(){var w=x,S=this;this[w(1110)][w(666)][w(721)](),this.setReferrers(),this[w(712)](),this[w(1215)](),this.afMgLoaded=new Date()[w(1095)](),this[w(1097)]=this[w(1009)][w(585)](this[w(1110)][w(488)]||null),this[w(811)]=this[w(1009)][w(497)](),this[w(741)]=this[w(1009)].getBrowserFlag(),this[w(643)]=this.domExtractor[w(1242)](),this[w(1110)][w(800)]&&this.domExtractor[w(899)]()[w(713)](function(D){S.afTimePerformance=D}),this.setEvents()},C.prototype[x(874)]=function(w,S,D){var A=x;D===void 0&&(D="");var te=new Date,se=this[A(1009)].getCoordsClickOfWindow(w),ne=this.domExtractor[A(1166)](S),L=this.domExtractor[A(1083)](S);return this[A(620)](S),this[A(749)](w,S),C[A(1038)]({1:"",2:"",3:l.w1[A(912)](this[A(1241)]),4:l.w1[A(912)](te.getTime()),5:"",7:l.w1[A(815)](se.x+"|"+se.y),8:l.w1[A(912)](C[A(779)](S,"wct")?1:0),9:l.w1[A(912)](ne[A(1289)]),10:l.w1.compressNumber(this.miliSecondsFromScroll),11:l.w1[A(912)](ne[A(725)]),12:"",13:l.w1[A(815)](ne[A(1098)]+"|"+ne[A(705)]),14:"",15:this[A(1097)],16:"",17:l.w1[A(912)](this[A(811)]),18:l.w1[A(912)](this[A(751)]),19:this.afHref,20:this.afReferrer,21:this[A(1004)],22:l.w1[A(912)](this.afDeepSession),23:l.w1.x64String(this.afCoordsClickAndLinkOfPage),24:l.w1[A(815)](this[A(852)]),25:l.w1[A(912)](this[A(846)]),27:l.w1[A(912)](this[A(1110)].iframePlacementType),28:l.w1.dec2chr(this[A(1009)][A(808)]()),29:l.w1[A(815)](this.afCoords),30:l.w1[A(912)](this[A(1110)][A(756)][A(776)][A(1098)]),31:l.w1[A(912)](this[A(1110)].context[A(776)].height),33:l.w1[A(912)](this[A(553)]),34:l.w1[A(912)](L),35:l.w1[A(815)](this[A(1110)][A(756)][A(498)][A(1089)]),36:l.w1[A(815)](this.afPlugins),37:l.w1[A(823)](this[A(1009)][A(1284)]()),38:l.w1[A(815)](this[A(1110)][A(756)][A(498)].platform),39:l.w1[A(815)](-te[A(1279)]()),40:l.w1[A(815)](this.afCharging+"|"+this[A(555)]),41:l.w1.x64String(this[A(1110)][A(756)].screen[A(799)]+"|"+this[A(1110)].context[A(776)][A(926)]),42:l.w1[A(815)](this[A(730)]),43:l.w1[A(912)](this.domExtractor[A(1227)]()),44:l.w1[A(912)](this[A(1009)][A(684)]()),45:l.w1.compressNumber(this[A(741)]),46:l.w1[A(912)](l.w1[A(1230)](D)),47:l.w1.compressNumber(this[A(1009)][A(672)]()),48:l.w1[A(912)](this[A(1009)][A(549)]())})},C[x(678)].addEventBit=function(w){var S=x;this[S(751)]=w|this[S(751)]},C[x(678)].setWidgetEvents=function(){var w=x,S=this;this[w(1009)].onAnyImageLoaded(function(){var D=w;S.afImgLoaded||(S[D(553)]=new Date()[D(1095)]())})},C.prototype[x(658)]=function(){var w=x,S=this;l.ju.addEvent(this[w(1110)][w(756)].document,w(580),function(D){var A=w;D||(D=S.config[A(756)][A(978)]),S[A(1110)][A(756)][A(939)](S[A(621)]),S.timerFromScroll=S[A(1110)][A(756)][A(1041)](function(){var te=A;S[te(609)]===null&&(S[te(609)]=0),S[te(609)]++},100)}),this[w(1009)][w(913)](function(D){var A=w;S[A(852)]=D}),this.domExtractor[w(1073)](function(D,A){var te=w;S[te(965)]=D,S[te(555)]=A})},C[x(678)].setNetworkInformation=function(){var w=x,S=this[w(1009)][w(880)]();this[w(730)]=[S[w(847)],S[w(700)],S[w(588)]][w(1313)]("|")},C[x(678)][x(749)]=function(w,S){var D=x,A=this[D(1009)].getCoordsClickOfPage(w),te=this[D(1009)][D(1186)](S);this[D(1298)]=[A.x,A.y,te.x,te.y].map(function(se){return parseInt(se)})[D(1313)]("|")},C.prototype.setCoords=function(w){var S=x,D=this[S(1009)].getRectOfElement(w);this.afCoords=[D[S(705)],D[S(1098)],D[S(1289)],D[S(725)]][S(1140)](function(A){return parseInt(A)})[S(1313)]("|")},C[x(678)][x(1017)]=function(){var w=x;this[w(1110)].cookieStorage.sharedCookieStorage[w(729)]===void 0?(this[w(1004)]=l.Ld.trimString(this[w(1110)][w(756)].document.referrer,500),this[w(1110)][w(666)][w(790)][w(729)]=this.afPrimaryReferrer,this[w(1110)][w(666)][w(618)]()):this[w(1004)]=this.config[w(666)].sharedCookieStorage[w(729)],this[w(1110)].context[w(857)]("referer")?this[w(1204)]=this[w(1110)].context[w(848)]:this.afReferrer=this.config[w(756)].document[w(887)],this[w(985)]=this.config[w(756)].document[w(746)][w(1063)];var S=new o,D=this[w(1110)][w(849)]?[70,50,50]:[300,300,300],A=S.add(this[w(1004)],D[0]).add(this[w(1204)],D[1])[w(1176)](this.afHref,D[2])[w(1239)]();this[w(1004)]=l.w1[w(815)](l.Ld[w(1174)](A[0],256)),this[w(1204)]=l.w1[w(815)](l.Ld[w(1174)](A[1],256)),this[w(985)]=l.w1[w(815)](l.Ld[w(1174)](A[2],256))},C.prototype.setDeepSession=function(){var w=x;if(this[w(1110)][w(666)][w(790)][w(921)]!==void 0){this[w(489)]=this[w(1110)][w(666)][w(790)][w(921)];var S=this[w(1110)][w(745)]+"SvsdsFlag";this.config[w(756)][S]===void 0&&(this[w(489)]++,this[w(1110)][w(756)][S]=!0)}else this[w(489)]=1;this[w(1110)].cookieStorage[w(790)][w(921)]=this[w(489)],this[w(1110)][w(666)][w(618)]()},C[x(779)]=function(w,S){var D=x,A=w[D(667)];if(A==="")return null;for(var te=A[D(1149)]("?","").split("&"),se=0;se<te[D(581)];se++)if(te[se].split("=")[0]===S)return te[se];return null},C[x(1038)]=function(w){var S=x,D="";for(var A in w)D+=parseInt(A)===1?"c":"f",w.hasOwnProperty(A)&&(D+=w[A]);var te=l.w1.compressNumber(l.w1[S(1230)](D));return encodeURIComponent(D+"("+te)},C}(),d=function(x){var C=a0Y;this.id=x.id,this.modulePrefix=x[C(745)],this[C(1212)]=x[C(1212)],this[C(666)]=x[C(666)],this[C(756)]=x[C(756)]||window,this[C(993)]=x[C(993)]||window[C(821)],this[C(849)]=x[C(849)]||!1,this[C(1234)]=x.iframePlacementType||0,this[C(800)]=x[C(800)]||!1},g=function(){var x=a0Y;return g=Object[x(1178)]||function(C){for(var w=x,S,D=1,A=arguments[w(581)];D<A;D++)for(var te in S=arguments[D])Object[w(678)].hasOwnProperty.call(S,te)&&(C[te]=S[te]);return C},g[x(927)](this,arguments)};function y(x,C,w,S){return new(w||(w=Promise))(function(D,A){var te=a0Y;function se(X){var re=a0Y;try{L(S[re(589)](X))}catch(ve){A(ve)}}function ne(X){try{L(S.throw(X))}catch(re){A(re)}}function L(X){var re=a0Y,ve;X[re(1150)]?D(X[re(1128)]):(ve=X[re(1128)],ve instanceof w?ve:new w(function(Ce){Ce(ve)}))[re(713)](se,ne)}L((S=S[te(927)](x,C||[])).next())})}function b(x,C){var w=a0Y,S,D,A,te,se={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return te={next:ne(0),throw:ne(1),return:ne(2)},w(893)==typeof Symbol&&(te[Symbol.iterator]=function(){return this}),te;function ne(L){return function(X){return function(re){var ve=a0Y;if(S)throw new TypeError(ve(795));for(;te&&(te=0,re[0]&&(se=0)),se;)try{if(S=1,D&&(A=2&re[0]?D[ve(1129)]:re[0]?D[ve(682)]||((A=D.return)&&A[ve(501)](D),0):D[ve(589)])&&!(A=A[ve(501)](D,re[1]))[ve(1150)])return A;switch(D=0,A&&(re=[2&re[0],A[ve(1128)]]),re[0]){case 0:case 1:A=re;break;case 4:return se[ve(1225)]++,{value:re[1],done:!1};case 5:se[ve(1225)]++,D=re[1],re=[0];continue;case 7:re=se[ve(652)][ve(1092)](),se[ve(819)][ve(1092)]();continue;default:if(!((A=(A=se[ve(819)])[ve(581)]>0&&A[A[ve(581)]-1])||re[0]!==6&&re[0]!==2)){se=0;continue}if(re[0]===3&&(!A||re[1]>A[0]&&re[1]<A[3])){se.label=re[1];break}if(re[0]===6&&se.label<A[1]){se[ve(1225)]=A[1],A=re;break}if(A&&se[ve(1225)]<A[2]){se[ve(1225)]=A[2],se[ve(652)][ve(1024)](re);break}A[2]&&se[ve(652)][ve(1092)](),se[ve(819)].pop();continue}re=C[ve(501)](x,se)}catch(Ce){re=[6,Ce],D=0}finally{S=A=0}if(5&re[0])throw re[1];return{value:re[0]?re[1]:void 0,done:!0}}([L,X])}}}function _(x,C,w){var S=a0Y;if(w||arguments.length===2)for(var D,A=0,te=C[S(581)];A<te;A++)!D&&A in C||(D||(D=Array.prototype[S(540)][S(501)](C,0,A)),D[A]=C[A]);return x[S(558)](D||Array[S(678)].slice[S(501)](C))}Object[p(1163)],Object[p(1163)],p(893)==typeof SuppressedError&&SuppressedError;function k(x,C){return new Promise(function(w){return setTimeout(w,x,C)})}function M(x){var C=p;return!!x&&typeof x[C(713)]=="function"}function E(x,C){var w=p;try{var S=x();M(S)?S[w(713)](function(D){return C(!0,D)},function(D){return C(!1,D)}):C(!0,S)}catch(D){C(!1,D)}}function K(x,C,w){return w===void 0&&(w=16),y(this,void 0,void 0,function(){var S,D,A,te;return b(this,function(se){var ne=a0Y;switch(se[ne(1225)]){case 0:S=Array(x[ne(581)]),D=Date.now(),A=0,se[ne(1225)]=1;case 1:return A<x[ne(581)]?(S[A]=C(x[A],A),(te=Date[ne(862)]())>=D+w?(D=te,[4,k(0)]):[3,3]):[3,4];case 2:se.sent(),se[ne(1225)]=3;case 3:return++A,[3,1];case 4:return[2,S]}})})}function W(x){var C=p;x[C(713)](void 0,function(){})}function Q(x,C){x=[x[0]>>>16,65535&x[0],x[1]>>>16,65535&x[1]],C=[C[0]>>>16,65535&C[0],C[1]>>>16,65535&C[1]];var w=[0,0,0,0];return w[3]+=x[3]+C[3],w[2]+=w[3]>>>16,w[3]&=65535,w[2]+=x[2]+C[2],w[1]+=w[2]>>>16,w[2]&=65535,w[1]+=x[1]+C[1],w[0]+=w[1]>>>16,w[1]&=65535,w[0]+=x[0]+C[0],w[0]&=65535,[w[0]<<16|w[1],w[2]<<16|w[3]]}function ie(x,C){x=[x[0]>>>16,65535&x[0],x[1]>>>16,65535&x[1]],C=[C[0]>>>16,65535&C[0],C[1]>>>16,65535&C[1]];var w=[0,0,0,0];return w[3]+=x[3]*C[3],w[2]+=w[3]>>>16,w[3]&=65535,w[2]+=x[2]*C[3],w[1]+=w[2]>>>16,w[2]&=65535,w[2]+=x[3]*C[2],w[1]+=w[2]>>>16,w[2]&=65535,w[1]+=x[1]*C[3],w[0]+=w[1]>>>16,w[1]&=65535,w[1]+=x[2]*C[2],w[0]+=w[1]>>>16,w[1]&=65535,w[1]+=x[3]*C[1],w[0]+=w[1]>>>16,w[1]&=65535,w[0]+=x[0]*C[3]+x[1]*C[2]+x[2]*C[1]+x[3]*C[0],w[0]&=65535,[w[0]<<16|w[1],w[2]<<16|w[3]]}function J(x,C){return(C%=64)==32?[x[1],x[0]]:C<32?[x[0]<<C|x[1]>>>32-C,x[1]<<C|x[0]>>>32-C]:(C-=32,[x[1]<<C|x[0]>>>32-C,x[0]<<C|x[1]>>>32-C])}function ae(x,C){return(C%=64)==0?x:C<32?[x[0]<<C|x[1]>>>32-C,x[1]<<C]:[x[1]<<C-32,0]}function ee(x,C){return[x[0]^C[0],x[1]^C[1]]}function Se(x){return x=ee(x,[0,x[0]>>>1]),x=ee(x=ie(x,[4283543511,3981806797]),[0,x[0]>>>1]),ee(x=ie(x,[3301882366,444984403]),[0,x[0]>>>1])}function me(x){return parseInt(x)}function ye(x){return parseFloat(x)}function xe(x,C){var w=p;return w(1172)==typeof x&&isNaN(x)?C:x}function _e(x){var C=p;return x[C(1210)](function(w,S){return w+(S?1:0)},0)}function Re(x,C){var w=p;if(C===void 0&&(C=1),Math.abs(C)>=1)return Math.round(x/C)*C;var S=1/C;return Math[w(701)](x*S)/S}function Ee(x){var C=p;return x&&C(1057)==typeof x&&C(1202)in x?x:{message:x}}function Oe(x,C,w){var S=p,D=Object[S(610)](x).filter(function(te){return!function(se,ne){for(var L=0,X=se.length;L<X;++L)if(se[L]===ne)return!0;return!1}(w,te)}),A=K(D,function(te){return function(se,ne){var L=new Promise(function(X){var re=a0Y,ve=Date.now();E(se[re(826)](null,ne),function(){for(var Ce=re,Ge=[],qe=0;qe<arguments[Ce(581)];qe++)Ge[qe]=arguments[qe];var at=Date[Ce(862)]()-ve;if(!Ge[0])return X(function(){return{error:Ee(Ge[1]),duration:at}});var rt=Ge[1];if(function(ut){var Qe=Ce;return Qe(893)!=typeof ut}(rt))return X(function(){return{value:rt,duration:at}});X(function(){return new Promise(function(ut){var Qe=a0Y,kt=Date[Qe(862)]();E(rt,function(){for(var Ft=Qe,Tt=[],zt=0;zt<arguments[Ft(581)];zt++)Tt[zt]=arguments[zt];var Li=at+Date.now()-kt;if(!Tt[0])return ut({error:Ee(Tt[1]),duration:Li});ut({value:Tt[1],duration:Li})})})})})});return W(L),function(){var X=a0Y;return L[X(713)](function(re){return re()})}}(x[te],C)});return W(A),function(){return y(this,void 0,void 0,function(){var te,se,ne,L;return b(this,function(X){var re=a0Y;switch(X[re(1225)]){case 0:return[4,A];case 1:return[4,K(X[re(1228)](),function(ve){var Ce=ve();return W(Ce),Ce})];case 2:return te=X[re(1228)](),[4,Promise.all(te)];case 3:for(se=X.sent(),ne={},L=0;L<D[re(581)];++L)ne[D[L]]=se[L];return[2,ne]}})})}}function gt(){var x=p,C=window,w=navigator;return _e(["MSCSSMatrix"in C,"msSetImmediate"in C,x(573)in C,x(565)in w,x(1103)in w])>=4}function fe(){var x=p,C=window,w=navigator;return _e([x(875)in w,"webkitTemporaryStorage"in w,w.vendor[x(986)](x(891))===0,"webkitResolveLocalFileSystemURL"in C,x(1016)in C,x(1300)in C,"webkitSpeechGrammar"in C])>=5}function we(){var x=p,C=window,w=navigator;return _e([x(691)in C,x(543)in C,x(1226)in C,w[x(1029)][x(986)](x(724))===0,x(1007)in w,"WebKitMediaKeys"in C])>=4}function be(){var x=p,C=window;return _e([x(992)in C,!(x(1059)in C),!(x(662)in C),!("standalone"in navigator)])>=3}function Te(){var x=p,C=document;return(C[x(626)]||C[x(1269)]||C.mozCancelFullScreen||C[x(728)])[x(501)](C)}function xi(){var x=p,C=fe(),w=function(){var D=a0Y,A,te,se=window;return _e([D(989)in navigator,D(675)in((te=(A=document[D(624)])===null||A===void 0?void 0:A.style)!==null&&te!==void 0?te:{}),D(995)in se,D(1093)in se,D(514)in se,"CanvasCaptureMediaStream"in se])>=4}();if(!C&&!w)return!1;var S=window;return _e([x(638)in S,x(1283)in S,C&&!(x(517)in S),w&&/android/i[x(871)](navigator[x(838)])])>=2}function ui(x){var C=p,w=new Error(x);return w[C(528)]=x,w}function wi(x,C,w){var S,D,A;return w===void 0&&(w=50),y(this,void 0,void 0,function(){var te,se;return b(this,function(ne){var L=a0Y;switch(ne.label){case 0:te=document,ne[L(1225)]=1;case 1:return te[L(802)]?[3,3]:[4,k(w)];case 2:return ne.sent(),[3,1];case 3:se=te[L(1076)](L(873)),ne.label=4;case 4:return ne[L(819)][L(1024)]([4,,10,11]),[4,new Promise(function(X,re){var ve=L,Ce=!1,Ge=function(){Ce=!0,X()};se[ve(707)]=Ge,se[ve(1171)]=function(rt){Ce=!0,re(rt)};var qe=se[ve(1102)];qe[ve(619)](ve(974),ve(570),ve(809)),qe[ve(977)]=ve(794),qe[ve(725)]="0",qe[ve(1289)]="0",qe.visibility=ve(1118),C&&ve(1157)in se?se[ve(1157)]=C:se[ve(698)]=ve(554),te[ve(802)][ve(541)](se);var at=function(){var rt=ve,ut,Qe;Ce||(rt(562)===((Qe=(ut=se[rt(843)])===null||ut===void 0?void 0:ut[rt(821)])===null||Qe===void 0?void 0:Qe[rt(791)])?Ge():setTimeout(at,10))};at()})];case 5:ne[L(1228)](),ne[L(1225)]=6;case 6:return!((D=(S=se[L(843)])===null||S===void 0?void 0:S[L(821)])===null||D===void 0)&&D[L(802)]?[3,8]:[4,k(w)];case 7:return ne[L(1228)](),[3,6];case 8:return[4,x(se,se[L(843)])];case 9:return[2,ne[L(1228)]()];case 10:return(A=se[L(807)])===null||A===void 0||A[L(956)](se),[7];case 11:return[2]}})})}function Ht(x){for(var C=p,w=function(X){for(var re=a0Y,ve,Ce,Ge=re(1006)[re(558)](X,"'"),qe=/^\s*([a-z-]*)(.*)$/i[re(596)](X),at=qe[1]||void 0,rt={},ut=/([.:#][\w-]+|\[.+?\])/gi,Qe=function(zt,Li){var Va=re;rt[zt]=rt[zt]||[],rt[zt][Va(1024)](Li)};;){var kt=ut[re(596)](qe[2]);if(!kt)break;var Ft=kt[0];switch(Ft[0]){case".":Qe(re(680),Ft[re(540)](1));break;case"#":Qe("id",Ft.slice(1));break;case"[":var Tt=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(Ft);if(!Tt)throw new Error(Ge);Qe(Tt[1],(Ce=(ve=Tt[4])!==null&&ve!==void 0?ve:Tt[5])!==null&&Ce!==void 0?Ce:"");break;default:throw new Error(Ge)}}return[at,rt]}(x),S=w[0],D=w[1],A=document[C(1076)](S??C(774)),te=0,se=Object[C(610)](D);te<se.length;te++){var ne=se[te],L=D[ne][C(1313)](" ");C(1102)===ne?ti(A[C(1102)],L):A[C(693)](ne,L)}return A}function ti(x,C){for(var w=p,S=0,D=C[w(706)](";");S<D[w(581)];S++){var A=D[S],te=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/[w(596)](A);if(te){var se=te[1],ne=te[2],L=te[4];x.setProperty(se,ne,L||"")}}}var Pt=[p(1191),p(1185),"serif"],jt=[p(1106),p(1145),"Agency FB",p(1305),p(1255),"AvantGarde Bk BT","BankGothic Md BT","Batang",p(663),p(1135),p(690),p(1213),p(781),p(1045),p(692),p(641),p(994),p(654),p(979),p(1203),p(1198),p(772),p(778),"Leelawadee","Letter Gothic",p(1147),p(539),p(812),"Menlo",p(797),p(765),p(1180),p(814),p(1091),"MYRIAD PRO","Marlett",p(830),"Microsoft Uighur","Minion Pro",p(644),"PMingLiU","Pristina","SCRIPTINA",p(878),p(1231),"SimHei",p(740),p(1250),p(544),p(688),p(858),p(674)];function ar(x){var C=p;return x[C(1222)]()}var Na,sr;function rr(){var x=p,C=screen;return[xe(ye(C[x(768)]),null),xe(ye(C[x(1098)])-ye(C[x(799)])-xe(ye(C.availLeft),0),null),xe(ye(C[x(705)])-ye(C[x(926)])-xe(ye(C[x(768)]),0),null),xe(ye(C[x(649)]),null)]}function nr(x){for(var C=0;C<4;++C)if(x[C])return!1;return!0}function ac(x){var C;return y(this,void 0,void 0,function(){var w,S,D,A,te,se,ne;return b(this,function(L){var X=a0Y;switch(L.label){case 0:for(w=document,S=w.createElement(X(774)),D=new Array(x[X(581)]),A={},Nn(S),ne=0;ne<x[X(581)];++ne)X(569)===(te=Ht(x[ne]))[X(496)]&&te.show(),Nn(se=w.createElement(X(774))),se[X(541)](te),S[X(541)](se),D[ne]=te;L[X(1225)]=1;case 1:return w[X(802)]?[3,3]:[4,k(50)];case 2:return L[X(1228)](),[3,1];case 3:w[X(802)].appendChild(S);try{for(ne=0;ne<x.length;++ne)D[ne][X(1125)]||(A[x[ne]]=!0)}finally{(C=S[X(807)])===null||C===void 0||C[X(956)](S)}return[2,A]}})})}function Nn(x){var C=p;x.style[C(619)](C(974),"block",C(809))}function Vn(x){var C=p;return matchMedia(C(606)[C(558)](x,")"))[C(1050)]}function Gn(x){var C=p;return matchMedia(C(710)[C(558)](x,")"))[C(1050)]}function Vi(x){var C=p;return matchMedia(C(1165)[C(558)](x,")"))[C(1050)]}function qn(x){var C=p;return matchMedia(C(882)[C(558)](x,")"))[C(1050)]}function Un(x){var C=p;return matchMedia(C(1062)[C(558)](x,")")).matches}var it=Math,Lt=function(){return 0},or={default:[],apple:[{font:p(602)}],serif:[{fontFamily:p(981)}],sans:[{fontFamily:p(1185)}],mono:[{fontFamily:"monospace"}],min:[{fontSize:p(1122)}],system:[{fontFamily:p(1184)}]},sc={fonts:function(){return wi(function(x,C){var w=a0Y,S=C[w(821)],D=S[w(802)];D[w(1102)][w(845)]=w(958);var A=S[w(1076)](w(774)),te={},se={},ne=function(ve){var Ce=w,Ge=S.createElement(Ce(531)),qe=Ge[Ce(1102)];return qe[Ce(977)]="absolute",qe[Ce(725)]="0",qe[Ce(1289)]="0",qe.fontFamily=ve,Ge[Ce(1264)]=Ce(715),A[Ce(541)](Ge),Ge},L=Pt.map(ne),X=function(){for(var ve=w,Ce={},Ge=function(rt){var ut=a0Y;Ce[rt]=Pt[ut(1140)](function(Qe){return function(kt,Ft){var Tt=a0Y;return ne("'"[Tt(558)](kt,"',")[Tt(558)](Ft))}(rt,Qe)})},qe=0,at=jt;qe<at[ve(581)];qe++)Ge(at[qe]);return Ce}();D[w(541)](A);for(var re=0;re<Pt[w(581)];re++)te[Pt[re]]=L[re].offsetWidth,se[Pt[re]]=L[re][w(792)];return jt[w(661)](function(ve){var Ce=w;return Ge=X[ve],Pt[Ce(527)](function(qe,at){var rt=Ce;return Ge[at].offsetWidth!==te[qe]||Ge[at][rt(792)]!==se[qe]});var Ge})})},domBlockers:function(x){var C=p,w=(x===void 0?{}:x)[C(653)];return y(this,void 0,void 0,function(){var S,D,A,te,se;return b(this,function(ne){var L=a0Y;switch(ne[L(1225)]){case 0:return we()||xi()?(X=atob,S={abpIndo:[L(1034),L(861),L(493),L(991),X(L(801))],abpvn:[L(648),L(1170),X("LmNsb3NlLWFkcw=="),L(617),L(727)],adBlockFinland:[L(1190),X(L(1137)),L(669),X(L(870)),X(L(583))],adBlockPersian:[L(930),".kadr",L(901),L(584),X(L(1233))],adBlockWarningRemoval:[L(546),L(970),L(563),X(L(1214)),X(L(773))],adGuardAnnoyances:[L(568),L(1260),'div[class^="app_gdpr"]',L(599),L(637)],adGuardBase:[L(1266),X(L(1096)),X(L(1109)),X("I2NhbXBhaWduLWJhbm5lcg=="),X("I0FkLUNvbnRlbnQ=")],adGuardChinese:[X(L(990)),X(L(1084)),L(550),X(L(966)),X("YVtocmVmKj0iLjE5NTZobC5jb20vIl0=")],adGuardFrench:[L(612),X(L(660)),L(495),L(640),X(L(784))],adGuardGerman:['aside[data-portal-id="leaderboard"]'],adGuardJapanese:["#kauli_yad_1",X(L(750)),X("Ll9wb3BJbl9pbmZpbml0ZV9hZA=="),X(L(545)),X(L(787))],adGuardMobile:[X(L(1287)),X(L(533)),L(1037),L(1108),X("I2FkX2ludmlld19hcmVh")],adGuardRussian:[X(L(1189)),X(L(1208)),L(1087),X(L(628)),"#psyduckpockeball"],adGuardSocial:[X("YVtocmVmXj0iLy93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9Il0="),X(L(486)),L(1274),L(1229),L(881)],adGuardSpanishPortuguese:[L(1175),L(1261),L(1295),L(524),L(999)],adGuardTrackingProtection:["#qoo-counter",X(L(1056)),X(L(645)),X("YVtocmVmXj0iaHR0cDovL3RvcC5tYWlsLnJ1L2p1bXAiXQ=="),L(1046)],adGuardTurkish:[L(734),X(L(1302)),X(L(1126)),X(L(851)),X(L(1291))],bulgarian:[X("dGQjZnJlZW5ldF90YWJsZV9hZHM="),L(627),L(841),"#xenium_hot_offers"],easyList:[L(613),X(L(916)),X(L(897)),L(742),X(L(642))],easyListChina:[X(L(1101)),X(L(1220)),L(1072),L(736),L(1197)],easyListCookie:[".ezmob-footer",L(856),"[data-cookie-number]",X(L(1156)),".sygnal24-gdpr-modal-wrap"],easyListCzechSlovak:["#onlajny-stickers",X(L(522)),X(L(1153)),L(1211),X(L(964))],easyListDutch:[X("I2FkdmVydGVudGll"),X("I3ZpcEFkbWFya3RCYW5uZXJCbG9jaw=="),".adstekst",X(L(578)),L(764)],easyListGermany:[L(952),X(L(761)),X(L(737)),X("I3Jla2xhbWUtcmVjaHRzLW1pdHRl"),X(L(1067))],easyListItaly:[X(L(935)),L(1240),X(L(1064)),X(L(1182)),X(L(704))],easyListLithuania:[X(L(560)),X("LnJla2xhbW9zX251b3JvZG9z"),X("aW1nW2FsdD0iUmVrbGFtaW5pcyBza3lkZWxpcyJd"),X(L(806)),X(L(753))],estonian:[X(L(511))],fanboyAnnoyances:[L(1086),L(717),L(1130),".newsletter_holder",L(1219)],fanboyAntiFacebook:[L(1245)],fanboyEnhancedTrackers:[L(743),L(863),"#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',L(840)],fanboySocial:[L(1216),L(635),"#social_follow",L(686),L(923)],frellwitSwedish:[X("YVtocmVmKj0iY2FzaW5vcHJvLnNlIl1bdGFyZ2V0PSJfYmxhbmsiXQ=="),X(L(1306)),L(1048),X("ZGl2LmhvbGlkQWRz"),L(820)],greekAdBlock:[X(L(510)),X("QVtocmVmKj0iaHR0cDovL2F4aWFiYW5uZXJzLmV4b2R1cy5nci8iXQ=="),X("QVtocmVmKj0iaHR0cDovL2ludGVyYWN0aXZlLmZvcnRobmV0LmdyL2NsaWNrPyJd"),L(1299),L(936)],hungarian:["#cemp_doboz",".optimonk-iframe-container",X(L(1192)),X("W2NsYXNzKj0iR29vZ2xlQWRzIl0="),L(1074)],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",L(904),L(1027),L(664)],icelandicAbp:[X(L(914))],latvian:[X("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA0MHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7Il0="),X(L(860))],listKr:[X("YVtocmVmKj0iLy9hZC5wbGFuYnBsdXMuY28ua3IvIl0="),X(L(959)),X("YVtocmVmKj0iLy9hZHYuaW1hZHJlcC5jby5rci8iXQ=="),X("aW5zLmZhc3R2aWV3LWFk"),L(1020)],listeAr:[X(L(731)),L(748),X(L(928)),X(L(1068)),X(L(611))],listeFr:[X(L(951)),X("I2FkY29udGFpbmVyX3JlY2hlcmNoZQ=="),X(L(967)),".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:[L(576),X(L(855)),X(L(1060)),X(L(512)),X(L(1310))],ro:[X("YVtocmVmXj0iLy9hZmZ0cmsuYWx0ZXgucm8vQ291bnRlci9DbGljayJd"),X("YVtocmVmXj0iaHR0cHM6Ly9ibGFja2ZyaWRheXNhbGVzLnJvL3Ryay9zaG9wLyJd"),X(L(607)),X(L(898)),'a[href^="/url/"]'],ruAd:[X(L(600)),X(L(828)),X(L(1238)),L(519),L(556)],thaiAds:[L(785),X(L(595)),X("LmFkczMwMHM="),L(1259),L(1290)],webAnnoyancesUltralist:[L(1085),L(1200),X(L(760)),".zergnet-recommend",L(816)]},D=Object.keys(S),[4,ac((se=[]).concat[L(927)](se,D[L(1140)](function(re){return S[re]})))]):[2,void 0];case 1:return A=ne[L(1228)](),w&&function(re,ve){for(var Ce=L,Ge=Ce(955),qe=0,at=Object[Ce(610)](re);qe<at[Ce(581)];qe++){var rt=at[qe];Ge+=`
`[Ce(558)](rt,":");for(var ut=0,Qe=re[rt];ut<Qe[Ce(581)];ut++){var kt=Qe[ut];Ge+=Ce(1052)[Ce(558)](ve[kt]?"\u{1F6AB}":"\u27A1\uFE0F"," ")[Ce(558)](kt)}}console[Ce(1249)](""[Ce(558)](Ge,Ce(950)))}(S,A),(te=D[L(661)](function(re){var ve=L,Ce=S[re];return _e(Ce[ve(1140)](function(Ge){return A[Ge]}))>.6*Ce.length})).sort(),[2,te]}var X})})},fontPreferences:function(){var x=p;return C===void 0&&(C=4e3),wi(function(w,S){var D=a0Y,A=S[D(821)],te=A[D(802)],se=te[D(1102)];se.width=""[D(558)](C,"px"),se[D(896)]=se[D(738)]=D(1078),fe()?te[D(1102)].zoom=""[D(558)](1/S.devicePixelRatio):we()&&(te[D(1102)][D(1116)]=D(1065));var ne=A.createElement("div");return ne[D(1264)]=_([],Array(C/20<<0),!0)[D(1140)](function(){var L=D;return L(1183)})[D(1313)](" "),te[D(541)](ne),function(L,X){for(var re=D,ve={},Ce={},Ge=0,qe=Object[re(610)](or);Ge<qe[re(581)];Ge++){var at=qe[Ge],rt=or[at],ut=rt[0],Qe=ut===void 0?{}:ut,kt=rt[1],Ft=kt===void 0?re(709):kt,Tt=L[re(1076)](re(531));Tt.textContent=Ft,Tt.style.whiteSpace=re(869);for(var zt=0,Li=Object[re(610)](Qe);zt<Li[re(581)];zt++){var Va=Li[zt],$n=Qe[Va];$n!==void 0&&(Tt[re(1102)][Va]=$n)}ve[at]=Tt,X[re(541)](L[re(1076)]("br")),X[re(541)](Tt)}for(var lr=0,Yn=Object.keys(or);lr<Yn.length;lr++)Ce[at=Yn[lr]]=ve[at][re(929)]()[re(1098)];return Ce}(A,te)},x(754));var C},audio:function(){var x=p,C=window,w=C[x(941)]||C[x(1248)];if(!w)return-2;if(we()&&!be()&&!function(){var X=x,re=window;return _e([X(1281)in re,X(575)in re,X(943)in re,"ontransitioncancel"in re])>=3}())return-1;var S=new w(1,5e3,44100),D=S[x(877)]();D.type=x(530),D[x(933)].value=1e4;var A=S[x(591)]();A.threshold[x(1128)]=-50,A[x(866)][x(1128)]=40,A.ratio[x(1128)]=12,A[x(1077)][x(1128)]=0,A.release[x(1128)]=.25,D.connect(A),A[x(747)](S[x(582)]),D.start(0);var te=function(X){var re=function(){};return[new Promise(function(ve,Ce){var Ge=!1,qe=0,at=0;X.oncomplete=function(Qe){return ve(Qe.renderedBuffer)};var rt=function(){var Qe=a0Y;setTimeout(function(){var kt=a0Y;return Ce(ui(kt(683)))},Math[Qe(942)](500,at+5e3-Date[Qe(862)]()))},ut=function(){var Qe=a0Y;try{var kt=X[Qe(1296)]();switch(M(kt)&&W(kt),X[Qe(535)]){case Qe(1119):at=Date[Qe(862)](),Ge&&rt();break;case Qe(889):document[Qe(1118)]||qe++,Ge&&qe>=3?Ce(ui(Qe(889))):setTimeout(ut,500)}}catch(Ft){Ce(Ft)}};ut(),re=function(){Ge||(Ge=!0,at>0&&rt())}}),re]}(S),se=te[0],ne=te[1],L=se[x(713)](function(X){var re=x;return function(ve){for(var Ce=a0Y,Ge=0,qe=0;qe<ve.length;++qe)Ge+=Math[Ce(636)](ve[qe]);return Ge}(X[re(639)](0)[re(1236)](4500))},function(X){var re=x;if(X.name==="timeout"||re(889)===X[re(528)])return-3;throw X});return W(L),function(){return ne(),L}},screenFrame:function(){var x=this,C=function(){var w=this;return function(){if(sr===void 0){var S=function(){var D=rr();nr(D)?sr=setTimeout(S,2500):(Na=D,sr=void 0)};S()}}(),function(){return y(w,void 0,void 0,function(){var S;return b(this,function(D){var A=a0Y;switch(D.label){case 0:return nr(S=rr())?Na?[2,_([],Na,!0)]:(te=document)[A(1252)]||te[A(1273)]||te[A(988)]||te[A(673)]?[4,Te()]:[3,2]:[3,2];case 1:D[A(1228)](),S=rr(),D.label=2;case 2:return nr(S)||(Na=S),[2,S]}var te})})}}();return function(){return y(x,void 0,void 0,function(){var w,S;return b(this,function(D){var A=a0Y;switch(D.label){case 0:return[4,C()];case 1:return w=D[A(1228)](),[2,[(S=function(te){return te===null?null:Re(te,10)})(w[0]),S(w[1]),S(w[2]),S(w[3])]]}})})}},osCpu:function(){var x=p;return navigator[x(685)]},languages:function(){var x=p,C,w=navigator,S=[],D=w[x(954)]||w[x(1154)]||w[x(1294)]||w[x(769)];if(D!==void 0&&S[x(1024)]([D]),Array.isArray(w[x(1161)]))fe()&&_e([!(x(529)in(C=window)),x(1028)in C,""+C.Intl==x(525),""+C[x(934)]==x(1107)])>=3||S[x(1024)](w.languages);else if(x(1297)==typeof w.languages){var A=w.languages;A&&S[x(1024)](A[x(706)](","))}return S},colorDepth:function(){var x=p;return window[x(776)][x(903)]},deviceMemory:function(){var x=p;return xe(ye(navigator[x(616)]),void 0)},screenResolution:function(){var x=p,C=screen,w=function(D){return xe(me(D),null)},S=[w(C[x(1098)]),w(C.height)];return S[x(1035)]()[x(491)](),S},hardwareConcurrency:function(){var x=p;return xe(me(navigator[x(577)]),void 0)},timezone:function(){var x=p,C,w=(C=window.Intl)===null||C===void 0?void 0:C[x(902)];if(w){var S=new w().resolvedOptions().timeZone;if(S)return S}var D,A=(D=new Date()[x(789)](),-Math.max(ye(new Date(D,0,1)[x(1279)]()),ye(new Date(D,6,1).getTimezoneOffset())));return"UTC"[x(558)](A>=0?"+":"")[x(558)](Math[x(636)](A))},sessionStorage:function(){var x=p;try{return!!window[x(1088)]}catch{return!0}},localStorage:function(){var x=p;try{return!!window[x(1133)]}catch{return!0}},indexedDB:function(){var x=p,C,w;if(!(gt()||(C=window,w=navigator,_e([x(971)in C,x(552)in C,x(1033)in w,x(1105)in w])>=3&&!gt())))try{return!!window[x(868)]}catch{return!0}},openDatabase:function(){return!!window.openDatabase},cpuClass:function(){var x=p;return navigator[x(1282)]},platform:function(){var x=p,C=navigator[x(817)];return x(579)===C&&we()&&!be()?function(){var w=x;if(navigator[w(817)]==="iPad")return!0;var S=screen,D=S[w(1098)]/S.height;return _e([w(1127)in window,!!Element.prototype[w(670)],D>.65&&D<1.53])>=2}()?x(793):"iPhone":C},plugins:function(){var x=p,C=navigator[x(996)];if(C){for(var w=[],S=0;S<C[x(581)];++S){var D=C[S];if(D){for(var A=[],te=0;te<D.length;++te){var se=D[te];A.push({type:se.type,suffixes:se[x(508)]})}w[x(1024)]({name:D[x(528)],description:D[x(1268)],mimeTypes:A})}}return w}},canvas:function(){var x=p,C,w,S=!1,D=function(){var ne=a0Y,L=document[ne(1076)](ne(1207));return L[ne(1098)]=1,L[ne(705)]=1,[L,L[ne(953)]("2d")]}(),A=D[0],te=D[1];if(function(ne,L){var X=a0Y;return!(!L||!ne[X(1222)])}(A,te)){S=function(ne){var L=a0Y;return ne[L(598)](0,0,10,10),ne.rect(2,2,6,6),!ne[L(574)](5,5,"evenodd")}(te),function(ne,L){var X=a0Y;ne.width=240,ne[X(705)]=60,L.textBaseline=X(1275),L[X(1160)]=X(1309),L.fillRect(100,1,62,20),L[X(1160)]=X(1144),L[X(547)]=X(651);var re=X(1019).concat(String[X(503)](55357,56835));L[X(763)](re,2,15),L[X(1160)]=X(1021),L.font=X(668),L[X(763)](re,4,45)}(A,te);var se=ar(A);se!==ar(A)?C=w=x(744):(w=se,function(ne,L){var X=x;ne[X(1098)]=122,ne[X(705)]=110,L[X(655)]=X(831);for(var re=0,ve=[[X(1099),40,40],[X(982),80,40],[X(788),60,80]];re<ve.length;re++){var Ce=ve[re],Ge=Ce[0],qe=Ce[1],at=Ce[2];L.fillStyle=Ge,L.beginPath(),L[X(718)](qe,at,40,0,2*Math.PI,!0),L[X(906)](),L.fill()}L[X(1160)]=X(1051),L.arc(60,60,60,0,2*Math.PI,!0),L[X(718)](60,60,20,0,2*Math.PI,!0),L[X(561)](X(805))}(A,te),C=ar(A))}else C=w="";return{winding:S,geometry:C,text:w}},touchSupport:function(){var x=p,C,w=navigator,S=0;w[x(1155)]!==void 0?S=me(w[x(1155)]):w[x(565)]!==void 0&&(S=w[x(565)]);try{document[x(837)](x(810)),C=!0}catch{C=!1}return{maxTouchPoints:S,touchEvent:C,touchStart:x(603)in window}},vendor:function(){var x=p;return navigator[x(1029)]||""},vendorFlavors:function(){for(var x=p,C=[],w=0,S=[x(507),x(992),x(1304),x(659),"yandex",x(1100),x(702),x(521),x(1209),x(566),x(1285),"samsungAr",x(732),x(976),x(1112)];w<S.length;w++){var D=S[w],A=window[D];A&&x(1057)==typeof A&&C[x(1024)](D)}return C[x(1035)]()},cookiesEnabled:function(){var x=p,C=document;try{C[x(915)]="cookietest=1; SameSite=Strict;";var w=C[x(915)][x(986)](x(1018))!==-1;return C[x(915)]="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",w}catch{return!1}},colorGamut:function(){for(var x=p,C=0,w=[x(604),"p3",x(515)];C<w[x(581)];C++){var S=w[C];if(matchMedia(x(853)[x(558)](S,")")).matches)return S}},invertedColors:function(){var x=p;return!!Vn("inverted")||!Vn(x(1078))&&void 0},forcedColors:function(){var x=p;return!!Gn(x(1308))||!Gn(x(1078))&&void 0},monochrome:function(){var x=p;if(matchMedia("(min-monochrome: 0)")[x(1050)]){for(var C=0;C<=100;++C)if(matchMedia("(max-monochrome: "[x(558)](C,")"))[x(1050)])return C;throw new Error(x(1168))}},contrast:function(){var x=p;return Vi(x(983))?0:Vi("high")||Vi(x(987))?1:Vi(x(1151))||Vi(x(1221))?-1:Vi(x(1e3))?10:void 0},reducedMotion:function(){return!!qn("reduce")||!qn("no-preference")&&void 0},hdr:function(){var x=p;return!!Un(x(1307))||!Un(x(650))&&void 0},math:function(){var x=p,C,w=it[x(492)]||Lt,S=it.acosh||Lt,D=it[x(1217)]||Lt,A=it.asinh||Lt,te=it[x(1270)]||Lt,se=it[x(526)]||Lt,ne=it[x(1244)]||Lt,L=it[x(1237)]||Lt,X=it.cos||Lt,re=it[x(1188)]||Lt,ve=it.tan||Lt,Ce=it[x(947)]||Lt,Ge=it[x(922)]||Lt,qe=it[x(884)]||Lt,at=it[x(634)]||Lt;return{acos:w(.12312423423423424),acosh:S(1e308),acoshPf:(C=1e154,it.log(C+it[x(1288)](C*C-1))),asin:D(.12312423423423424),asinh:A(1),asinhPf:it[x(1249)](1+it[x(1288)](2)),atanh:te(.5),atanhPf:it[x(1249)](3)/2,atan:se(.5),sin:ne(-1e300),sinh:L(1),sinhPf:it[x(922)](1)-1/it[x(922)](1)/2,cos:X(10.000000000123),cosh:re(1),coshPf:(it.exp(1)+1/it.exp(1))/2,tan:ve(-1e300),tanh:Ce(1),tanhPf:(it[x(922)](2)-1)/(it.exp(2)+1),exp:Ge(1),expm1:qe(1),expm1Pf:it[x(922)](1)-1,log1p:at(10),log1pPf:it[x(1249)](11),powPI:it[x(1196)](it.PI,-100)}},videoCard:function(){var x=p,C,w=document.createElement("canvas"),S=(C=w.getContext("webgl"))!==null&&C!==void 0?C:w[x(953)](x(518));if(S&&x(681)in S){var D=S.getExtension(x(614));if(D)return{vendor:(S.getParameter(D[x(918)])||"").toString(),renderer:(S[x(818)](D.UNMASKED_RENDERER_WEBGL)||"")[x(601)]()}}},pdfViewerEnabled:function(){var x=p;return navigator[x(1280)]},architecture:function(){var x=new Float32Array(1),C=new Uint8Array(x.buffer);return x[0]=1/0,x[0]=x[0]-x[0],C[3]}},rc="";function nc(x){var C=p,w=function(D){var A=a0Y;if(xi())return .4;if(we())return be()?.5:.3;var te=D[A(817)][A(1128)]||"";return/^Win/[A(871)](te)?.6:/^Mac/[A(871)](te)?.5:.7}(x),S=function(D){return Re(.99+.01*D,1e-4)}(w);return{score:w,comment:rc[C(1149)](/\$/g,""[C(558)](S))}}function jn(x){var C=p;return JSON[C(1257)](x,function(w,S){var D=C;return S instanceof Error?g({name:(A=S)[D(528)],message:A.message,stack:(te=A[D(516)])===null||te===void 0?void 0:te[D(706)](`
`)},A):S;var A,te},2)}function Fn(x){return function(C,w){var S=a0Y;w=w||0;var D,A=(C=C||"")[S(581)]%16,te=C[S(581)]-A,se=[0,w],ne=[0,w],L=[0,0],X=[0,0],re=[2277735313,289559509],ve=[1291169091,658871167];for(D=0;D<te;D+=16)L=[255&C[S(1159)](D+4)|(255&C[S(1159)](D+5))<<8|(255&C[S(1159)](D+6))<<16|(255&C[S(1159)](D+7))<<24,255&C[S(1159)](D)|(255&C[S(1159)](D+1))<<8|(255&C.charCodeAt(D+2))<<16|(255&C[S(1159)](D+3))<<24],X=[255&C.charCodeAt(D+12)|(255&C[S(1159)](D+13))<<8|(255&C.charCodeAt(D+14))<<16|(255&C[S(1159)](D+15))<<24,255&C[S(1159)](D+8)|(255&C[S(1159)](D+9))<<8|(255&C[S(1159)](D+10))<<16|(255&C[S(1159)](D+11))<<24],L=J(L=ie(L,re),31),se=Q(se=J(se=ee(se,L=ie(L,ve)),27),ne),se=Q(ie(se,[0,5]),[0,1390208809]),X=J(X=ie(X,ve),33),ne=Q(ne=J(ne=ee(ne,X=ie(X,re)),31),se),ne=Q(ie(ne,[0,5]),[0,944331445]);switch(L=[0,0],X=[0,0],A){case 15:X=ee(X,ae([0,C[S(1159)](D+14)],48));case 14:X=ee(X,ae([0,C[S(1159)](D+13)],40));case 13:X=ee(X,ae([0,C[S(1159)](D+12)],32));case 12:X=ee(X,ae([0,C[S(1159)](D+11)],24));case 11:X=ee(X,ae([0,C.charCodeAt(D+10)],16));case 10:X=ee(X,ae([0,C[S(1159)](D+9)],8));case 9:X=ie(X=ee(X,[0,C[S(1159)](D+8)]),ve),ne=ee(ne,X=ie(X=J(X,33),re));case 8:L=ee(L,ae([0,C.charCodeAt(D+7)],56));case 7:L=ee(L,ae([0,C[S(1159)](D+6)],48));case 6:L=ee(L,ae([0,C[S(1159)](D+5)],40));case 5:L=ee(L,ae([0,C.charCodeAt(D+4)],32));case 4:L=ee(L,ae([0,C[S(1159)](D+3)],24));case 3:L=ee(L,ae([0,C[S(1159)](D+2)],16));case 2:L=ee(L,ae([0,C[S(1159)](D+1)],8));case 1:L=ie(L=ee(L,[0,C[S(1159)](D)]),re),se=ee(se,L=ie(L=J(L,31),ve))}return se=Q(se=ee(se,[0,C[S(581)]]),ne=ee(ne,[0,C[S(581)]])),ne=Q(ne,se),se=Q(se=Se(se),ne=Se(ne)),ne=Q(ne,se),("00000000"+(se[0]>>>0)[S(601)](16))[S(540)](-8)+(S(1123)+(se[1]>>>0)[S(601)](16))[S(540)](-8)+(S(1123)+(ne[0]>>>0).toString(16))[S(540)](-8)+(S(1123)+(ne[1]>>>0).toString(16))[S(540)](-8)}(function(C){for(var w=a0Y,S="",D=0,A=Object.keys(C)[w(1035)]();D<A[w(581)];D++){var te=A[D],se=C[te],ne=se[w(886)]?w(886):JSON[w(1257)](se[w(1128)]);S+=""[w(558)](S?"|":"")[w(558)](te[w(1149)](/([:|\\])/g,w(894)),":")[w(558)](ne)}return S}(x))}function oc(x){return x===void 0&&(x=50),function(C,w){var S=a0Y;w===void 0&&(w=1/0);var D=window.requestIdleCallback;return D?new Promise(function(A){var te=a0Y;return D[te(501)](window,function(){return A()},{timeout:w})}):k(Math[S(942)](C,w))}(x,2*x)}function lc(x,C){var w=p,S=Date[w(862)]();return{get:function(D){return y(this,void 0,void 0,function(){var A,te,se;return b(this,function(ne){var L=a0Y;switch(ne[L(1225)]){case 0:return A=Date[L(862)](),[4,x()];case 1:return te=ne[L(1228)](),se=function(X){var re=L,ve;return{get visitorId(){var Ce=a0Y;return ve===void 0&&(ve=Fn(this[Ce(1014)])),ve},set visitorId(Ce){ve=Ce},confidence:nc(X),components:X,version:re(1124)}}(te),(C||D?.[L(653)])&&console[L(1249)](L(780)[L(558)](se[L(629)],`
userAgent: `)[L(558)](navigator[L(1089)],L(1293))[L(558)](A-S,L(647))[L(558)](se.visitorId,L(532))[L(558)](jn(te),L(950))),[2,se]}})})}}}var pc={load:function(x){var C=p,w=x===void 0?{}:x,S=w[C(932)],D=w[C(653)],A=w[C(671)],te=A===void 0||A;return y(this,void 0,void 0,function(){return b(this,function(se){var ne=a0Y;switch(se[ne(1225)]){case 0:return te&&(void 0)(),[4,oc(S)];case 1:return se[ne(1228)](),[2,lc(Oe(sc,{debug:D},[]),D)]}})})},hashComponents:Fn,componentsToDebugString:jn},cc=function(){function x(){}return x.generate=function(){return y(this,void 0,void 0,function(){return b(this,function(C){var w=a0Y;switch(C[w(1225)]){case 0:return[4,pc[w(917)]({monitoring:!1})];case 1:return[2,C[w(1228)]()[w(1232)]()]}})})},x}(),dc=function(){var x=p;function C(w){this.context=w}return C.prototype.beacon=function(w,S){var D=a0Y;D(893)==typeof navigator[D(1134)]?this.sendBeacon(w,S):this.sendImage(w,S)},C.prototype[x(757)]=function(w,S){var D=x;this[D(756)][D(1076)](D(946)).src=w+"?"+l.AE[D(969)](S)},C[x(678)][x(1134)]=function(w,S){var D=x;try{navigator[D(1134)](w+"?"+l.AE[D(969)](S))}catch{this[D(757)](w,S)}},C}(),zn=function(){var x=p;function C(w){var S=a0Y,D;this[S(1110)]=w,this[S(1110)][S(756)]=this[S(1110)][S(756)]||window,this.config[S(1010)]=this[S(1110)][S(1010)]||890857896,this[S(1136)]=new dc(((D=w[S(756)])===null||D===void 0?void 0:D[S(821)])||window[S(821)])}return C[x(678)][x(590)]=function(w,S,D){var A=x;S===void 0&&(S=""),D===void 0&&(D=null);var te=this[A(1110)][A(756)][A(821)][A(1076)](A(867)),se={instance:this.config[A(1010)],source:w};if(D){this[A(1058)]=D;var ne=this.config[A(587)]+A(910);se[A(980)]=ne,this.config[A(756)][ne]=this[A(605)][A(826)](this)}S!==""&&(se[A(908)]=S);var L=l.AE[A(969)](se);L+="&"+new Date().getTime(),te[A(1003)]="text/javascript",te[A(1141)]=!0,te.src=C[A(1005)]+"?"+L,this[A(1110)].context.document[A(802)].appendChild(te)},C.prototype[x(605)]=function(w){var S=x,D=this[S(1110)],A=this[S(1136)],te=this[S(1058)];if(w[S(536)]()||!w.getId()&&!w[S(883)]())D[S(1212)]&&D[S(1212)][S(1199)]("Anura response error: "+w.getError());else{var se={instance:D[S(1010)]},ne=w.getId();ne&&(se.id=encodeURIComponent(ne));var L=w[S(883)]();L&&(se.exid=encodeURIComponent(L));var X=new XMLHttpRequest;X.open(S(1047),C.RESULT_URL,!0),X[S(1271)](S(1075),S(752)),X[S(707)]=function(){var re=S,ve;try{ve=JSON[re(714)](this[re(500)])}catch{return void(D.logger&&D[re(1212)][re(1199)](re(872)+this[re(500)]))}if(ve.result){var Ce={composite:te.composite,showHash:te[re(1040)],result:ve.result};D[re(679)]&&(D[re(679)][re(679)]!==void 0&&(Ce[re(679)]=D[re(679)][re(679)]),D[re(679)][re(523)]!==void 0&&(Ce[re(523)]=D.consentData[re(523)])),A.beacon(te[re(1094)],Ce)}else D.logger&&D[re(1212)].sendData("Anura response wrong schema: "+this.response)},X[S(590)](l.AE[S(969)](se))}},C[x(1005)]="https://script.anura.io/request.js",C[x(1138)]=x(835),C}(),hc=function(){var x=p;function C(w){var S=a0Y;this[S(1110)]=w,this[S(1110)][S(756)]=this.config.context||window}return C[x(678)][x(590)]=function(w){var S=x,D=this[S(1110)][S(756)][S(821)][S(1076)](S(722)),A={clid:C[S(1292)],paid:C[S(1292)],avid:C[S(968)],caid:C.DEFAULT,plid:w.plid,publisherId:w.publisherId,siteId:w[S(656)],kv1:w[S(534)],kv2:window[S(746)][S(1063)],kv3:w[S(997)],kv4:C.DEFAULT,kv5:w[S(708)],kv6:C.AFRD_CLICK,kv7:w.kv7,kv11:w[S(836)],kv12:w[S(876)],kv24:this.isMobile()?C[S(829)]:C[S(1121)],kv27:encodeURIComponent(navigator[S(1089)])},te=l.AE[S(969)](A);D[S(698)]=C.URL+"?"+te,this[S(1110)][S(756)][S(821)][S(802)][S(541)](D)},C[x(678)].isMobile=function(){var w=x,S=navigator.userAgent;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i[w(871)](S)},C[x(1013)]=x(909),C[x(1292)]=x(948),C[x(968)]="-",C.PLATFORM_MOBILE=x(1142),C[x(1121)]="Desktop",C[x(1253)]="afrd_click",C}(),uc=function(){var x=p;function C(w){var S=a0Y;this.cookieStorage={},this[S(790)]={},this[S(756)]=w[S(756)]||window,this.id=w.id;var D=w[S(1090)]||S(490),A=w[S(572)]||S(1277),te=this[S(756)][A+S(1071)]?this[S(756)][A+S(1071)]:"";this[S(762)]=D+S(919)+te}return C.prototype.getCookie=function(){var w=a0Y,S=this[w(571)]();S[this.id]!==void 0?this[w(666)]=S[this.id]:this[w(666)]={},S[0]!==void 0?this[w(790)]=S[0]:this[w(790)]={}},C[x(678)][x(618)]=function(){var w=x,S=this.getCookieValue();S[this.id]=this[w(666)],S[0]=this[w(790)];var D=encodeURIComponent(JSON[w(1257)](S));this.context.document[w(915)]=this[w(762)]+"="+D+";path=/"},C[x(678)][x(571)]=function(){var w=x,S=this[w(756)].document[w(915)][w(687)](new RegExp("(?:^|; )"+this.storageName+"=([^;]*)")),D={};if(S)try{D=JSON[w(714)](decodeURIComponent(S[1]))}catch{}return D},C}(),mc=function(){var x=p;function C(w){var S=a0Y;this[S(911)]=w,this[S(597)]="",this[S(937)]=[],this.app=new c(new d({id:C.id,modulePrefix:C.modulePrefix,cookieStorage:new uc({id:C.id,context:window})})),this[S(813)]=new zn({widgetPrefix:C[S(745)],context:window})}return C[x(678)][x(822)]=function(){var w=x;this.options[w(1278)]&&this.options[w(1143)]&&this[w(963)](this[w(911)][w(1040)]),this[w(695)].initialize(),this.initAntiFraud()},C[x(678)][x(786)]=function(w,S){var D=x,A=S[D(1063)][D(986)](D(593)),te=S[D(1063)][D(986)](D(1148)),se=S[D(1063)][D(986)]("?");A!==-1?S[D(1063)]=S[D(1063)][D(879)](0,A):te!==-1&&(S[D(1063)]=S[D(1063)][D(879)](0,te)),this.afRealHref=S[D(1063)],this[D(677)]=S,S[D(1063)]+=A===-1&&se!==-1?"&":"?";var ne=this.app.generateHash(w,S,this[D(911)][D(1040)]);S.href+="k="+this[D(911)][D(1111)]+"f"+ne,this[D(1104)](S,"generated")},C.prototype[x(1012)]=function(){var w=x,S=this;this[w(739)](document[w(1044)]("a")),setTimeout(function(){var D=w;return S[D(1012)]()},750)},C.prototype[x(739)]=function(w){for(var S=x,D=/(ghits|[prt]+news|nr)/i,A=0;A<w[S(581)];A++){var te=w[A];this[S(937)][S(986)](te)===-1&&D[S(871)](te[S(1063)])&&(this[S(937)][S(1024)](te),this.bindEvent(te,S(1146),a[S(900)]),this[S(758)](te,S(796),a[S(697)]),this[S(758)](te,S(1312),a[S(1201)]),this.bindEvent(te,S(998),a[S(984)]),this.bindEvent(te,"touchstart",a[S(1066)]),this.bindEvent(te,S(824),a[S(657)]),this[S(758)](te,S(542),a[S(513)]))}this.app[S(564)]()},C.prototype[x(758)]=function(w,S,D){var A=x,te=this;l.ju[A(827)](w,S,function(se){var ne=A;return te[ne(775)](se,w,D)})},C[x(678)][x(775)]=function(w,S,D){var A=x,te=this;if(this.bindAntiFraudParams(w,S),this[A(695)][A(505)](D),D===a[A(697)]){if(this[A(911)][A(1278)]){var se=S[A(1262)](A(1243))||this.options.showHash;this.sendAnura(se)}setTimeout(function(){var ne=A;return te[ne(1113)]()},100)}},C.prototype[x(1104)]=function(w,S){var D=x,A=document[D(837)]("Events");A[D(798)](S,!0,!1),A[D(864)]=Date[D(862)](),w[D(1002)](A)},C[x(678)][x(1113)]=function(){var w=x;this[w(597)]&&this.afActiveEl&&(this[w(677)][w(1063)]=this[w(597)])},C[x(678)][x(963)]=function(w){var S=x;this.anura[S(590)](this.options[S(1247)],this[S(911)].publisherSource,{composite:this[S(911)][S(1111)],resultUrl:this[S(911)][S(844)]+S(1032),showHash:w})},C[x(745)]=x(770),C.id="206",C}()})(),module[iJ(1311)]=B})()});var Pp={};We(Pp,{AntifraudStatisticsBlock:()=>Ha});var Ep,_n,pa,Cn,kn,Dn,Ha,Ap=ke(()=>{N();V();U();j();z();$();Z();Ip();Me();Ep=da(Sn()),_n=class{constructor(){this.mousePositions=[],this.lineSegments=[],this.lineIndex=0,this.scrollActive=!1}isLinear(){return this.calculateTotalLength()<10?!1:this.lineSegments.every(a=>{let n=this.mousePositions.slice(a.start,a.end+1);return this.checkLinear(n)})}reset(){this.mousePositions=[],this.lineSegments=[],this.lineIndex=0,this.scrollActive=!1}onMouseMoveHandler(a){this.scrollActive||(this.mousePositions.push({x:a.clientX,y:a.clientY}),this.mousePositions.length>2&&this.checkForNewLineSegment())}onScrollHandler(){this.scrollActive=!0}onScrollEndHandler(){this.scrollActive=!1}checkForNewLineSegment(){let a=this.mousePositions[this.mousePositions.length-2],n=this.mousePositions[this.mousePositions.length-1],o=(n.y-a.y)/(n.x-a.x);if(this.lineSegments[this.lineIndex]){let l=this.mousePositions[this.lineSegments[this.lineIndex].start],c=(a.y-l.y)/(a.x-l.x);Math.abs(o-c)>5?(this.lineSegments[this.lineIndex].end=this.mousePositions.length-2,this.lineSegments.push({start:this.mousePositions.length-1}),this.lineIndex++):this.lineSegments[this.lineIndex].end=this.mousePositions.length-1}else this.lineSegments.push({start:0,end:this.mousePositions.length-1})}checkLinear(a){if(a.length<2)return!0;let n=3,[o,l]=[a[0].x,a[0].y],[c,d]=[a[a.length-1].x,a[a.length-1].y];for(let g=1;g<a.length-1;g++){let[y,b]=[a[g].x,a[g].y];if(Math.abs((d-l)*y-(c-o)*b+c*l-d*o)/Math.sqrt(Math.pow(d-l,2)+Math.pow(c-o,2))>n)return!1}return!0}calculateTotalLength(){let a=0;for(let n=1;n<this.mousePositions.length;n++){let o=this.mousePositions[n-1],l=this.mousePositions[n];a+=Math.sqrt(Math.pow(l.x-o.x,2)+Math.pow(l.y-o.y,2))}return a}},pa=class{static getClosestDistanceInSquare(a,n){let o=a.x-n.left,l=a.y-n.top,c=n.width-o,d=n.height-l;return Math.min(o,l,c,d)}static getInnerElementPercent(a,n){let o=a.getBoundingClientRect(),l=Math.abs(o.width*o.height),c=o.width,d=o.height;o.top<0&&(d+=o.top),o.left<0&&(c+=o.left);let g=o.top+o.height;n.height<g&&(d-=g-n.height);let y=o.left+o.width;return n.width<y&&(c-=y-n.width),d=d>0?d:0,c=c>0?c:0,c*d*100/l}static findImageElementOfTeaser(a){return a.querySelector("img.mcimg")}static getViewportSize(){return{width:Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),height:Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)}}},Cn=class{constructor(){this.action="undefined",this.isTabActive=!0,this.clickTime=0,this.lastScrollTime=0,this.lastPageResizeTime=0,this.lastWidgetResizeTime=0,this.widgetCoordinateX=0,this.widgetCoordinateY=0,this.tapRadiusX=0,this.tapRadiusY=0,this.isHidden=!1,this.clickToBorderDistance=0,this.teaserCoordinateX=0,this.teaserCoordinateY=0,this.teaserWidth=0,this.teaserHeight=0,this.imageWidth=0,this.imageHeight=0,this.teaserViewportPercent=0,this.widgetOnLoadDisposition=!1,this.clickCoordinateX=0,this.clickCoordinateY=0,this.compileTime=1694429831,this.forbiddenPatternMatches=0,this.snapshot="",this.widgetType="",this.isLinear=!1}},kn=class{constructor(a,n,o=[]){this.app=a,this.parameters=n,this.forbiddenPatterns=o,this.linearMovementDetector=new _n}onWidgetLoadEvent(){let a=this.app.root.getBoundingClientRect();this.initialWidgetCoordinates={x:a.left+window.scrollX,y:a.top+window.scrollY},this.setForbiddenPatternMatches()}onContextFocusEvent(){this.parameters.isTabActive=!0,this.setForbiddenPatternMatches()}onContextBlurEvent(){this.parameters.isTabActive=!1,this.setForbiddenPatternMatches()}async onWidgetClickEvent(a,n){this.setWidgetCoordinates(),this.setForbiddenPatternMatches(),this.setClickCoordinates(n),this.setWidgetType(),this.parameters.action="click",this.parameters.clickTime=this.app.getCurrentTimestamp(),this.parameters.widgetOnLoadDisposition=this.getWidgetDisposition(),this.app.getWidgetValue("useSnapshot",!1)&&!this.parameters.snapshot.length&&(this.parameters.snapshot=(await Ep.Snapshot.generate()).visitorId);let o=this.app.findClosest(a,"div[data-i]");if(o){let l=o.getBoundingClientRect();this.parameters.isHidden=!o.offsetParent,this.parameters.teaserCoordinateX=l.left,this.parameters.teaserCoordinateY=l.top,this.parameters.teaserWidth=l.width,this.parameters.teaserHeight=l.height,this.parameters.teaserViewportPercent=pa.getInnerElementPercent(o,pa.getViewportSize()),this.parameters.isLinear=this.linearMovementDetector.isLinear(),"clientX"in n&&"clientY"in n&&(this.parameters.clickToBorderDistance=pa.getClosestDistanceInSquare({x:n.clientX,y:n.clientY},l));let c=pa.findImageElementOfTeaser(o);c&&this.setImageProperties(c)}}setForbiddenPatternMatches(){if(typeof this.app.context.document=="object"&&typeof this.app.context.document.documentElement=="object"){let a=this.countPatternMatchesInElement(this.app.context.document.documentElement,this.forbiddenPatterns);this.parameters.forbiddenPatternMatches<a&&(this.parameters.forbiddenPatternMatches=a)}}onContextMouseMoveEvent(a){if(this.app.getCurrentTimestamp()-this.loadTimestamp>10){this.linearMovementDetector.reset();return}this.linearMovementDetector.onMouseMoveHandler(a)}onContextScrollEvent(){this.parameters.lastScrollTime=this.app.getCurrentTimestamp(),this.linearMovementDetector.onScrollHandler(),this.scrollEndHandler&&clearTimeout(this.scrollEndHandler),this.scrollEndHandler=setTimeout(()=>{this.linearMovementDetector.onScrollEndHandler()},150)}onContextResizeEvent(){this.parameters.lastPageResizeTime=this.app.getCurrentTimestamp()}onRootResizeEvent(){this.parameters.lastWidgetResizeTime=this.app.getCurrentTimestamp()}onRootTouchEndEvent(a){let n=a.changedTouches.item(0);n&&(this.parameters.tapRadiusX=n.radiusX,this.parameters.tapRadiusY=n.radiusY)}setWidgetCoordinates(){let a=this.app.root.getBoundingClientRect();this.parameters.widgetCoordinateX=a.left,this.parameters.widgetCoordinateY=a.top}setImageProperties(a){let n=a.getBoundingClientRect();this.parameters.imageWidth=n.width,this.parameters.imageHeight=n.height}getWidgetDisposition(){return this.parameters.widgetCoordinateX+window.scrollX!==this.initialWidgetCoordinates.x||this.parameters.widgetCoordinateY+window.scrollY!==this.initialWidgetCoordinates.y}setClickCoordinates(a){"clientX"in a&&"clientY"in a?(this.parameters.clickCoordinateX=a.clientX,this.parameters.clickCoordinateY=a.clientY):a.touches&&a.touches[0]&&(this.parameters.clickCoordinateX=a.touches[0].clientX,this.parameters.clickCoordinateY=a.touches[0].clientY)}setWidgetType(){switch(!0){case this.app.getWidgetValue("hasGoodsPart",!0):this.parameters.widgetType="goods";break;case this.app.getWidgetValue("hasNewsPart",!1):this.parameters.widgetType="news";break;case this.app.getWidgetValue("hasVideoPart",!0):this.parameters.widgetType="video";break;default:this.parameters.widgetType="exchange"}}countPatternMatchesInElement(a,n){let o=a.outerHTML;return n.reduce((l,c)=>{try{let d=new RegExp(c,"gi"),g=o.match(d);if(g)return l+g.length}catch(d){this.app.log(`Error processing pattern "${c}": ${d.message}`)}return l},0)}},Dn=class{constructor(a,n,o){this.protocol=a,this.parameters=n,this.client=o}send(a,n){let o=btoa(JSON.stringify({rid:n,showHash:a,parameters:this.getEncodedParameters(a,n)})),l=new Blob([o]);this.client.beaconBlob("antifraud-event-hash",this.protocol+"//c.mgid.com/aws",l,{})}getEncodedParameters(a,n){let o={stringify:function(l){let c={ct:btoa(l.ciphertext.toString())};return l.iv&&(c.iv=l.iv.toString()),l.salt&&(c.s=btoa(l.salt.toString())+Math.random().toString(36).slice(-2)),JSON.stringify(c).replace(/\s/g,"")}};return btoa(Ai.AES.encrypt(JSON.stringify(this.parameters),a+n,{format:o}).toString())}},Ha=class extends ge{constructor(a){super(a),this.name="AntifraudStatisticsBlock",this.parameters=new Cn,this.statistics=new Dn(this.app.webProtocol,this.parameters,this.app.request),this.eventHandler=new kn(this.app,this.parameters,Object.keys(oe).length?oe:[]),this.addHook("afterLoadNewsHooks",this.initAntifraudStatistics.bind(this)),this.app.onAntifraudStatisticsClickHandler=this.clickHandler.bind(this),this.app.addClickHandler(this.app.clickHandlerList.onAntifraudStatisticsClick.handler,this.app.clickHandlerList.onAntifraudStatisticsClick.priority)}initAntifraudStatistics(){this.eventHandler.onWidgetLoadEvent(),this.app.addEvent(this.app.context,"focus",()=>this.eventHandler.onContextFocusEvent()),this.app.addEvent(this.app.context,"blur",()=>this.eventHandler.onContextBlurEvent()),this.app.addEvent(this.app.context,"scroll",()=>this.eventHandler.onContextScrollEvent()),this.app.addEvent(this.app.context,"resize",()=>this.eventHandler.onContextResizeEvent()),this.app.addEvent(this.app.context,"mousemove",a=>this.eventHandler.onContextMouseMoveEvent(a)),this.app.addEvent(this.app.root,"resize",()=>this.eventHandler.onRootResizeEvent()),this.app.addEvent(this.app.root,"touchend",a=>this.eventHandler.onRootTouchEndEvent(a))}clickHandler(a,n){return this.eventHandler.onWidgetClickEvent(a,n).catch(o=>{this.app.log("Click Handler name: "+Ha.name+", error: ","error",o)}).finally(()=>{this.statistics.send(a.getAttribute("data-hash"),this.app.servicerData.rid)}),!0}}});var Lp={};We(Lp,{AntifraudBlock:()=>In});var Rt,In,Bp=ke(()=>{N();V();U();j();z();$();Z();Me();Rt=da(Sn());Nt();In=class extends ge{constructor(a){super(a),this.name="AntifraudBlock",this.addHook("beforeInitHooks",this.beforeInitHook.bind(this)),this.addHook("afterLoadNewsHooks",this.afterLoadNewsHook.bind(this)),this.addHook("afterInitHooks",this.afterInitHook.bind(this))}getAntifraudParams(a,n){if(this.app.allowReturnParams===!1)return"";n=n||this.app.context.document.createElement("A"),a=a||this.app.context.document.createEvent("MouseEvent");let o=n["data-hash"]||n.getAttribute("data-hash")||"";return this.antifraud.generateHash(a,n,o)}beforeInitHook(){let a=this.app.getWidgetValue("id",1401472),n=this.app.getWidgetValue("informerPrefix","MarketGid"),o=this.app.getWidgetValue("propertiesDom",'{"props":{"3":"window.close","13":"window.navigator.taintEnabled","16":"window.EventTarget.toString","18":"window.navigator.appName","20":"window.ApplicationCacheErrorEvent","22":"window.clearImmediate","23":"window.CryptoKey","25":"window.external.AddSearchProvider","32":"window.chrome.search","33":"window.clientInformation.vendor","40":"window.TouchEvent","43":"window.DeviceMotionEvent","46":"window.navigator.webkitGetGamepads","49":"window.Notification","56":"window.BeforeLoadEvent","57":"window.Entity","72":"window.AnalyserNode","74":"window.ArrayBufferView","76":"window.HTMLBaseFontElement","86":"window.self.SharedWorker","87":"window.Touch","91":"window.DOMException.ABORT_ERR","92":"window.Set","98":"window.document.createTouch","138":"window.NaN","139":"window.document.prepend","163":"window.SiteBoundCredential","165":"window.CanvasCaptureMediaStreamTrack"},"rules":{"contains":{"3":["({command:\\"window.close.self\\"})"],"18":["MicrosoftInternetExplorer"],"33":["GoogleInc."]},"not_empty":[13,16,18,20,22,23,25,32,40,43,46,49,56,57,76,86,87,91,92,98,138,139,163,165],"undefined":[25,46,72,74,87]}}'),l=this.app.getWidgetValue("loggerEnabled",!1)?this.app.context[n+"InfC"+a+"Logger"]:null,c=new Rt.BaseConfiguration({logger:l,propertiesDom:o,afShortEnabled:!!this.app.getWidgetValue("afShortEnabled",!0),modulePrefix:this.app.getWidgetValue("modulePrefix","MarketGidC"),id:this.app.id.toString(),context:this.app.context,root:this.app.root,iframePlacementType:this.app.iframePlacementType,cookieStorage:this.app.cookieBlock,useTimePerformance:this.app.getWidgetValue("useTimePerformance",!0)});this.antifraud=new Rt.AntiFraud(c),this.anura=new Rt.Anura({logger:l,widgetPrefix:n+"InfC"+a,context:this.app.context,consentData:this.app.consentsBlock.getConsentData()}),this.pixalate=new Rt.Pixalate({context:this.app.context}),this.app.allowReturnParams=!1}afterLoadNewsHook(){let a=this.app.root;this.app.addEvent(a,"mousedown",this.linkMouseDownHandler.bind(this)),this.app.addEvent(a,"mouseup",this.linkClickHandler.bind(this)),this.app.addEvent(a,"mouseover",this.linkMouseOverHandler.bind(this)),this.app.addEvent(a,"mousemove",this.linkMouseMoveHandler.bind(this)),this.app.addEvent(a,"touchstart",this.linkTouchStartHandler.bind(this)),this.app.addEvent(a,"touchend",this.linkTouchEndHandler.bind(this));let n=a.querySelector("a[data-hash]");n&&this.app.addEvent(n,"focus",this.linkFocusHandler.bind(this)),this.antifraud.setWidgetEvents()}afterInitHook(){this.antifraud.initialize()}linkClickHandler(a){let n=this.handleEvent(a,0);if(n){let o=n.getAttribute("data-hash");this.app.teaserData[o]&&[je.Wages,je.Exchange].indexOf(this.app.teaserData[o].coopType)>-1&&this.addIntegrations(o,n),setTimeout(()=>{this.app.allowReturnParams=!1,this.reWriteHref(a,n)},100)}}linkMouseOverHandler(a){this.handleEvent(a,Rt.EventMask.MouseOver)}linkMouseMoveHandler(a){this.handleEvent(a,Rt.EventMask.MouseMove)}linkTouchStartHandler(a){this.handleEvent(a,Rt.EventMask.TouchStart)}linkTouchEndHandler(a){this.handleEvent(a,Rt.EventMask.TouchEnd)}linkMouseDownHandler(a){this.handleEvent(a,Rt.EventMask.MouseDown)}linkFocusHandler(a){this.handleEvent(a,Rt.EventMask.Focus)}handleEvent(a,n){a||(a=this.app.context.event),a.target||(a.target=a.srcElement),this.app.allowReturnParams=!0;let o=a.target;return o.tagName!=="A"&&(o=this.app.getParentLink(o),!o)||!o.hasAttribute("data-hash")?null:(this.antifraud.addEventBit(n),this.reWriteHref(a,o),o)}reWriteHref(a,n){a||(a=this.app.context.event);let o=n["data-hash"]||n.getAttribute("data-hash");!o||(n[this.app.hrefAttr]=this.app.prepareNiceHref(o,a,n))}addIntegrations(a,n){if((this.app.servicerData.anura||0)>this.app.random(1,100)&&this.anura.send(this.getSourceId(a),this.getQueryParam(n,"pubsrcid"),{composite:this.app.getWidgetValue("id",this.app.getWidgetValue("id",1401472)),resultUrl:"https://"+this.app.getWidgetValue("countersDomain","c.mgid.com")+"/anura",showHash:a}),this.app.getWidgetValue("afCheckForensiq",!1)&&this.addForesiqScript(a),this.app.getWidgetValue("usePixelate",!0)){let o=!1,l=this.app.findClosest(n,"div[data-i]");l&&(o=l.querySelector("a").href.includes("/ghits/")),o&&this.sendPixalateRequest(l,this.getQueryParam(n,"pubsrcid"),a)}}sendPixalateRequest(a,n,o){let l=this.app.getMuid(),c=0,d=0,g=0;if(a){let y=a.getAttribute("data-i"),b=a.querySelector(".image-with-text");if(b&&(c=Math.floor(b.offsetWidth),d=Math.floor(b.offsetHeight)),y===o){let _=a.querySelectorAll("[data-i]");for(let k=0;k<_.length;k++){let M=_[k];if(o!==M.getAttribute("data-i")){g=parseInt(M.getAttribute("data-i"));break}}}else g=parseInt(y)}this.pixalate.send({plid:g,publisherId:this.app.getWidgetValue("publisherId",57733605),siteId:this.app.getWidgetValue("siteId",796531),kv1:c+"x"+d,kv3:l,kv5:n,kv7:this.app.getWidgetValue("clientId",710546),kv11:o,kv12:this.app.servicerData.rid})}addForesiqScript(a){let n=this.getSourceId(a),o=this.app.webProtocol+"//c.securepaths.com/js/implement-r.js?sl=1&org=5reyucracrajubrac4um&p="+n+"&a=0&cmp="+this.app.teaserData[a].id+"&rt=click";this.app.request.script("forensiq",o,{},{dest:this.app.context.document.body})}getSourceId(a){let n=this.app.getWidgetValue("hasNewsPart",!1)?"ni"+this.app.getWidgetValue("newsPartUid",0):"ni",o=this.app.getWidgetValue("hasGoodsPart",!0)?this.app.getWidgetValue("goodsPartUid",57733605):"";return this.app.teaserData[a].coopType===je.Exchange?n:o}getQueryParam(a,n){let o=a.search.substring(1).split("&"),l="";for(let c=0;c<o.length;c++){let d=o[c].split("=");if(d[0]===n){l=decodeURIComponent(d[1]);break}}return l}}});var Op={};We(Op,{AccidentalClicksBlock:()=>En});var En,Rp=ke(()=>{N();V();U();j();z();$();Z();Me();Nt();En=class extends ge{constructor(a){super(a),this.name="AccidentalClicksBlock",this.app.accidentalClicksHandler=this._onClick.bind(this),this.app.addClickHandler(this.app.clickHandlerList.accidentalClicks.handler,this.app.clickHandlerList.accidentalClicks.priority),this.accidentalClicksDelay=(parseInt(this.app.globalSettings.accidental_clicks_delay)||5)*1e3,this.accidentalClicksDisableTypes="wages".split(","),this.teasersClickTimes={}}_onClick(a,n){if(n.button===2)return!0;let o=a.getAttribute("data-hash"),l=new Date().getTime();if(this.app.isEnabledDoubleClick()||typeof this.app.servicerData.dc<"u"&&o in this.app.hashTimer&&l-this.app.hashTimer[o]<this.app.servicerData.dc)return!0;switch(this.app.teaserData[o].coopType){case je.Wages:if(this.accidentalClicksDisableTypes.indexOf("wages")==-1)return!0;break;case je.Exchange:if(this.accidentalClicksDisableTypes.indexOf("exchange")==-1)return!0;break;case je.InternalExchange:if(this.accidentalClicksDisableTypes.indexOf("int_exchange")==-1)return!0;break;default:return!0}return this.teasersClickTimes.hasOwnProperty(o)?new Date().getTime()-this.teasersClickTimes[o]<=this.accidentalClicksDelay?(n.preventDefault(),this.app.doubleClickType="accidental",this.app.doubleClickHandler(a),!1):(this.teasersClickTimes[o]=new Date().getTime(),!0):(this.teasersClickTimes[o]=new Date().getTime(),!0)}}});var Mp={};We(Mp,{ActivateDelayBlock:()=>Pn});var Pn,Wp=ke(()=>{N();V();U();j();z();$();Z();Me();Nt();Pn=class extends ge{constructor(a){super(a),this.name="ActivateDelayBlock",this.app.clickableDelay=!1,this.eventDisabled=!1,this.addHook("afterLoadNewsHooks",this._init),this.app.activateDelayLinkHandler=this._onClick.bind(this)}isCloseLink(a){return a.classList.contains("mg-close-button-div-inner")}isWagesLink(a){if(!a)return!1;let n=a.getAttribute("data-hash");return this.app.teaserData[n]&&this.app.teaserData[n].coopType===je.Wages}_init(){if(this.isInited)return;this.isInited=!0;let a=parseInt(2e3);this.app.addClickHandler(this.app.clickHandlerList.activateDelayLink.handler,this.app.clickHandlerList.activateDelayLink.priority),this.app.context.setTimeout(()=>{this.eventDisabled=!0,this.app.linksBlocked=!1,this.app.clickableDelay=!1},a)}_onClick(a,n){return this.eventDisabled||this.app.clickableDelay&&this.isWagesLink(a)||this.isCloseLink(a)||typeof this.app.servicerData.dc<"u"?!0:(this.app.doubleClickType="delay",this.app.doubleClickHandler(a),this.app.linksBlocked=!0,n.preventDefault(),!1)}}});var Hp={};We(Hp,{MonitorBlock:()=>An});var An,Np=ke(()=>{N();V();U();j();z();$();Z();Me();An=class extends ge{constructor(a){super(a),this.name="MonitorBlock",this.shownBlocks={},this.monitorTimeout=null,this.isFirstByType={},this.isFirstByCid={},this.regAllowedHash=/([A-Za-z0-9\-_\*]{64})/,this.addHook("beforeInjectTemplateHooks",this._init.bind(this))}_init(){if(typeof this.VisData!="function"){let n=!0,o=this.app.context.self;try{this.app.context.self!==this.app.context.top&&this.app.context.top.location.href&&(o=this.app.context.top)}catch{n=!1}this.VisData=(()=>{try{if(!n)return _e=>_e?{extTf:!1}:!0;let l,c,d={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"};for(l in d)if(l in document){c=d[l];break}let g=-1,y=-1,b=-1,_=1,k=!1,M,E,K,W,Q,ie=typeof document.hasFocus=="function"?()=>{let _e=o.document.hasFocus();_e!=_&&(M=new Date().getTime()),k|=_e,_=_e}:()=>{_=1};setInterval(ie,100),this.app.addEvent(o.document,c,()=>{o.document[l]?g=0:setTimeout(()=>{g=1},100),Q=new Date().getTime()}),this.app.addEvent(o.document,"mouseleave",()=>{b=0,E=new Date().getTime()}),this.app.addEvent(o.document,"mouseenter",()=>{b=1,E=new Date().getTime()}),this.app.addEvent(o.document,"touchmove",()=>{b=2,E=new Date().getTime()});let J=0;this.app.addEvent(o.document,"keydown",()=>{J=1,K=new Date().getTime()});let ae=0,ee=0;this.app.addEvent(o.document,"click",_e=>{ee=1,ae=new Date().getTime();let Re=_e.target;for(;Re.parentElement;)if(Re.tagName==="A"){ee=2;break}else Re=Re.parentElement}),this.app.addEvent(o,"blur",()=>{o.document.activeElement&&o.document.activeElement.tagName=="IFRAME"?y=2:y=0,W=new Date().getTime()}),this.app.addEvent(o,"focus",()=>{y=1,W=new Date().getTime()});let Se=0,me=null,ye=()=>{me=new Date().getTime(),Se=1};o.document.addEventListener?(o.document.addEventListener("mousewheel",ye,!1),o.document.addEventListener("DOMMouseScroll",ye,!1)):o.document.attachEvent("onmousewheel",ye);let xe=0;try{let _e=new Image;_e.__defineGetter__("id",()=>{xe=1}),console.debug(_e)}catch{xe=-1}return _e=>{ie();let Re=_&&(g!==0||y!==0||b!==-1||Se);if(_e){let Ee={extVs:Re,extTv:g,extWv:y,extMa:b,extHf:_,extCl:ee,extKp:J,extMw:Se,extDg:xe,extFt:k},Oe=new Date().getTime();return ae&&(Ee.extClt=Oe-ae),me&&(Ee.extMwt=Oe-me),W&&(Ee.extWvt=Oe-W),E&&(Ee.extMat=Oe-E),Q&&(Ee.extTvt=Oe-Q),M&&(Ee.extHft=Oe-M),K&&(Ee.extKpt=Oe-K),Ee}return Re}}catch{return c=>c?{}:!0}})()}let a=parseFloat(this.app.globalSettings.capping_observer_threshold);if((!a||a<=0||a>1||Number(a)!=a)&&(a=.9),typeof IntersectionObserver=="function"&&this.app.servicerData.cv===3){let o=0,l=0,c=[],d=null,g=()=>{let M=0;for(let E=0;E<c.length;E++)c[E]&&(c[E].dataset.shown?M++:c[E].dataset.observeStart>0&&parseFloat(c[E].dataset.observeTime)+(new Date().getTime()-c[E].dataset.observeStart)>1e3&&(this.app.intersectionObserver.unobserve(c[E]),this.app.intersectionObserver.observe(c[E])));M<o&&setTimeout(g,100)};if(!this.app.intersectionObserver){let M=E=>{let K={},W=0;for(let Q=0;Q<E.length;Q++){let ie=E[Q];if(!(!this.regAllowedHash.exec(ie.target.dataset.i)||ie.target.dataset.shown)){if(ie.target.width+ie.target.height==0){this.app.intersectionObserver.unobserve(ie.target),(()=>{let J=ie.target;setTimeout(()=>{this.app.intersectionObserver.observe(J)},100)})();continue}if(ie.intersectionRatio>=a)if(ie.target.dataset.observeStart==0)ie.target.dataset.observeStart=new Date().getTime();else{let J=new Date().getTime()-ie.target.dataset.observeStart;ie.target.dataset.observeTime=parseFloat(ie.target.dataset.observeTime)+J}else ie.target.dataset.observeTime=0,ie.target.dataset.observeStart=0;ie.target.dataset.observeTime>=1e3&&(ie.target.dataset.shown=1,this.app.intersectionObserver.unobserve(ie.target),K[ie.target.dataset.i]=this._getTeaserCappingData(ie.target),W++)}}W&&this._prepareCappingData(K,this.app.servicerData.cv)};this.app.intersectionObserver=new IntersectionObserver(M,{threshold:[0,a,1]})}let y=[],b=null,_=()=>{d||(d=setTimeout(g,100)),b=null;for(let M=y.pop();M;M=y.pop())this.app.intersectionObserver.observe(M)},k=M=>{y.push(M),c.push(M),o++,b&&clearTimeout(b),o<l?b=setTimeout(_,100):_()};(()=>{let M="";if(this.app.templateContent===""?M=this.app.root.getElementsByClassName("mgline"):M=this.app.templateContent.getElementsByClassName("mgline"),M.length){for(let E=0;E<M.length;E++)if(!M[E].dataset.observing)if(this.regAllowedHash.exec(M[E].dataset.i)){M[E].dataset.observeTime=0,M[E].dataset.observeStart=0,M[E].dataset.observing="yes";let K=M[E].querySelector("img.mcimg");K?((W,Q)=>{this.app.addEvent(Q,"load",()=>{W.dataset.completeFired||(W.dataset.loadFired=!0,k(W))}),this.app.addEvent(Q,"error",()=>{W.dataset.completeFired||k(W)}),setTimeout(()=>{Q.complete&&!W.dataset.loadFired&&(W.dataset.completeFired=!0,k(W))},50)})(M[E],K):k(M[E]),l++}else M[E].dataset.observing="no"}})()}else if(!this.monitorTimeout){let n=()=>{let o={},l="";this.app.templateContent&&(l=this.app.templateContent.getElementsByClassName("mgline")),l.length||(l=this.app.root.getElementsByClassName("mgline"));let c=[];for(let d=0;d<l.length;d++)if(this.regAllowedHash.exec(l[d].dataset.i)&&!this.shownBlocks[l[d].dataset.i])if(l[d].dataset.observing)c.push(l[d]);else{let g=l[d].querySelector("img.mcimg");g?((y,b)=>{this.app.addEvent(b,"load",()=>{y.dataset.observing="yes"}),this.app.addEvent(b,"error",()=>{y.dataset.observing="yes"}),setTimeout(()=>{b.complete&&(y.dataset.observing="yes")},50)})(l[d],g):l[d].dataset.observing="yes"}for(let d=0;d<c.length;d++){let g=c[d];this._elementViewportIntersection(g)>=a&&(o[g.dataset.i]=this._getTeaserCappingData(g))}this._prepareCappingData(o,"2"),this.monitorTimeout=setTimeout(n,1e3)};n()}}_getTeaserCappingData(a){let n=this.app.utils.getRect(a,!0);return{width:Math.round(n.width),height:Math.round(n.height),atf:n.top<this.app.utils.getViewportSize().height,align:this._getTeaserAlign(n),desc:this._isTeaserElementVisible(a,"mcdesc"),price:this._isTeaserElementVisible(a,"mcprice"),domain:this._isTeaserElementVisible(a,"mcdomain")}}_prepareCappingData(a,n){let o=[],l=[],c=[],d=[];this.app.lifeCycleBlock.processHooks("beforePrepareCappingDataHooks");for(let g in a){let y=g;if(this.shownBlocks[y])continue;let b=a[g].width+"|"+a[g].height+"|"+((a[g].desc?1:0)+(a[g].price?2:0)+(a[g].domain?4:0)+(a[g].atf?8:0)+(a[g].align=="right"?16:0)+(a[g].align=="left"?32:0))+"|";if(y&&this.app.teaserData[y]){this.shownBlocks[y]=1;let _=this.app.teaserData[y].coopType;this.app.teaserData[y].ch&&this.app.teaserData[y].ccid&&this.app.teaserData[y].cdomain&&(c=this._prepareMultiCappingData(c,y,b,_,n),d=c.counter,d[_][this.app.teaserData[y].cdomain]>20&&(this._multiSendCappingData(c[_]),c[_]=[],d=[])),o=this._prepareSingleCappingData(o,y,b,_,n),l=o.counter,l[_]>20&&(this._sendCappingData(o[_]),o[_]="",l[_]=0);{let k=this.app.teaserData[y].imp;for(let M of k)this.app.countersBlock.sendCustomCounter(M)}_==="w"&&this.app.sspDoubleClickHash.push(y),this.app.lifeCycleBlock.processHooks("afterPrepareCappingDataHooks",[y])}}for(let g in l)l[g]>0&&this._sendCappingData(o[g]);for(let g of Object.keys(d)){let y=d[g];Object.keys(d[y]).length>0&&this._multiSendCappingData(c[y])}}_sensorsToJsFlags(){let a=0;try{let n=this.VisData(!0),o=1500;if(n){if(n.extTf===!1)return 3;n.extVs===1&&(a=1),n.extHf&&(a+=2),n.extWv<0?a+=3<<2:n.extWv<3&&(a+=n.extWv<<2),n.extTv<0?a+=3<<4:n.extTv<3&&(a+=n.extTv<<4),n.extMa<0?a+=3<<6:n.extMa<3&&(a+=n.extMa<<6),n.extCl>0&&n.extCl<3&&(a+=n.extCl<<8),n.extMw==1&&(a+=1<<10),n.extKp==1&&(a+=1<<11),n.extDg!=0&&(a+=1<<12),n.extMa!=2&&n.extMw==1&&n.extMwt<o&&(a+=1<<13),Number(n.extHft)===n.extHft&&n.extHft>=0&&n.extHft<o&&(!n.extWvt||n.extWvt<o)&&(!n.extTvt||n.extTvt<o)&&(a+=1<<14),n.extFt&&(a+=1<<15),a=a<<1}}catch{a=1}return a}_prepareMultiCappingData(a,n,o,l,c){let d=this.app.teaserData[n].cdomain,g=this.app.teaserData[n].ch,y=this.app.teaserData[n].ccid,b="pv="+c;return b.indexOf("extjs")==-1&&(b+="&extjs="+this._sensorsToJsFlags()),typeof a[l]>"u"&&(a[l]=[],typeof a.counter>"u"&&(a.counter=[]),typeof a.counter[l]>"u"&&(a.counter[l]=[])),typeof a[l][d]>"u"&&(a[l][d]=[],a.counter[l][d]=0),typeof a[l][d][y]>"u"&&(a[l][d][y]=""),b+="&v="+o+g,(c!="0"&&!this.isFirstByType[l+y]||!this.isFirstByCid[l+y])&&(b+="&f"+l+"=1",this.isFirstByType[l+y]=1,this.isFirstByCid[l+y]=1),a[l][d][y]+=b,a.counter[l][d]++,a}_prepareSingleCappingData(a,n,o,l,c){return typeof a[l]>"u"&&(a[l]="pv="+c,typeof a.counter>"u"&&(a.counter=[])),typeof a.counter[l]>"u"&&(a.counter[l]=0),a[l]+="&v="+o+n,c!="0"&&!this.isFirstByType[l]&&(a[l]+="&f"+l+"=1",this.isFirstByType[l]=1),a[l].indexOf("extjs")==-1&&(a[l]+="&extjs="+this._sensorsToJsFlags()),a.counter[l]++,a}_multiSendCappingData(a){for(let n in a)if(a.hasOwnProperty(n)){for(let o in a[n])if(a[n].hasOwnProperty(o)){let l=a[n][o]+"&cid="+o;this._sendCappingData(l,n)}}}_sendCappingData(a,n){let o=this.app.webProtocol+"//",l=null;if(typeof n<"u"?o+=n:o+="c.mgid.com",this.app.pagesServicerData.length){let b="",_=a.split("&").filter(k=>k.indexOf("v=")===0)[0];if(_&&(b=_.split("|").filter((k,M,E)=>k===E[E.length-1])[0]),b&&this.app.teaserData[b]){let k=this.app.pagesServicerData.filter(M=>M.page===this.app.teaserData[b].page)[0];l=typeof k<"u"?k.servicerData:null}l&&l.h2&&(a+="&h2="+l.h2),l&&l.rid&&(a+="&rid="+l.rid),l&&l.tt&&(a+="&tt="+l.tt),l&&l.ts&&(a+="&ts="+l.ts),l&&l.psid&&(a+="&psid="+l.psid),l&&l.iv&&(a+="&iv="+l.iv)}let c=a.search("&cid="),d=a.search("pv=0&")>=0,g;c!=-1&&(g=a.substr(c+5).split("&")[0]),d?typeof g>"u"&&(a+="&cid="+this.app.id.toString()):((typeof this.app.context._mgwcapping>"u"||this.app.context._mgwcapping.indexOf(this.app.id.toString())==-1||typeof g<"u"&&this.app.context._mgwcapping.indexOf(g.toString())==-1)&&(a="f=1&"+a),this.app.context._mgwcapping=this.app.context._mgwcapping||[],typeof g>"u"?(a+="&cid="+this.app.id.toString(),this.app.context._mgwcapping.push(this.app.id.toString())):this.app.context._mgwcapping.push(g)),a+="&pageImp="+this._getPageImp(),a+="&pvid="+this.app.pvid,a+="&cbuster="+this.app.getCbusterParameter();let y=this.app.getMuid();y.length&&(a+="&muid="+y),a=a.split("&").filter(b=>{let _=b.split("=");return _[0]==="v"?!!this.regAllowedHash.exec(_[1]):!0}),a.some(b=>b.split("=")[0]==="v")&&(this.app.request.pixel("capping",`${o}/c?${a.join("&")}`,{},{}),this.app.lifeCycleBlock.processHooks("afterSendCappingHooks"))}_sendWidgetCappingData(a,n){let o=this.app.pageViewPixelBlock.getPageDataParams(),l={cid:`cid=${this.app.id}`,cbuster:`cbuster=${o.cbuster}`,cxurl:`cxurl=${o.cxurl}`};o.lu&&(l.lu=`lu=${o.lu}`),o.pr&&(l.pr=`pr=${o.pr}`),n&&(n.h2&&(l.h2=`h2=${n.h2}`),n.psid&&(l.psid=`psid=${n.psid}`),n.tt&&(l.tt=`tt=${n.tt}`),n.ts&&(l.ts=`ts=${n.ts}`)),l.pageImp="pageImp="+this._getPageImp(),this.app.request.pixel("widgetCapping",`${a}/w`,l,{}),this.app.lifeCycleBlock.processHooks("afterSendCappingHooks")}_getPageImp(){let a=0;if(this.app.context["isFBIA"+1401472]&&this.app.context.localStorage){let n=this.app.context.localStorage.getItem("_mgPageImp"+796531),o=this.app.globalSettings.ia_page_imp_timeout||180;(!n||new Date().getTime()-n>o*1e3)&&(this.app.context.localStorage.setItem("_mgPageImp"+796531,new Date().getTime()),a=1)}else{let n=this.app.getMostTopWindow(),o=n.location.pathname;n["_mgPageImp"+796531]=n["_mgPageImp"+796531]||[];let l=n["_mgPageImp"+796531];Array.isArray(l)&&l.indexOf(o)===-1&&(l.push(o),a=1)}return a}_getTeaserAlign(a){let n=this.app.context.document.body.scrollWidth;return a.right<.3*n?"left":a.left>=.7*n?"right":"center"}_isTeaserElementVisible(a,n){let o=a.getElementsByClassName(n);if(o.length>0){let l=o[0].getBoundingClientRect();return!(l.right-l==0||l.bottom-l.top==0)}else return!1}_elementViewportIntersection(a){let n=this.app.utils.getRect(a,!0);for(let b in n)n.hasOwnProperty(b)&&(n[b]=Math.floor(n[b]));let o=this.app.utils.getViewportSize(),l=this.app.utils.getScroll();o.top=l.top,o.bottom=l.top+o.height,o.left=l.left,o.right=l.left+o.width;let c=n.width*n.height;if(!c)return 0;let d=Math.max(0,Math.min(n.right,o.right)-Math.max(n.left,o.left)),g=Math.max(0,Math.min(n.bottom,o.bottom)-Math.max(n.top,o.top));return d*g/c}}});var Vp={};We(Vp,{HideDescriptionBlock:()=>Ln});var Ln,Gp=ke(()=>{N();V();U();j();z();$();Z();Me();Ln=class extends ge{constructor(a){super(a),this.name="HideDescriptionBlock",typeof this.app.afterAutoplacementHooks<"u"&&this.app.widgetConstructorData.autoplacement!=="off"?this.addHook("afterAutoplacementHooks",this.hideDescription):this.addHook("afterLoadNewsHooks",this.hideDescription)}hideDescription(){let a=this.app.root.querySelector(".mcdesc");if(!a)return;let n=this.app.root.querySelector(".mcdesc > a"),o=this.app.root.querySelector(".mglbtn"),l=this.app.root.querySelector(".mglbtn > a"),c=this.app.root.querySelector("div.mcimg"),d=this.app.root.querySelector(".image-with-text"),g=n.scrollHeight-n.clientHeight,y=o.clientWidth,b=c.clientWidth,_=d.clientWidth;_-b-15-y-15<0&&(_!==b?l.innerHTML=this.app.getTranslation("[INFORMER_CTA_LEARN_MORE]")+"<span></span>":o.clientHeight>75&&(l.innerHTML=this.app.getTranslation("[INFORMER_CTA_LEARN_MORE]")+"<span></span>"),y<135&&(l.innerHTML="<span></span>")),g>1&&(a.style.display="none")}}});var qp={};We(qp,{CollectViewDataBlock:()=>Bn});var Wt,Bn,Up=ke(()=>{N();V();U();j();z();$();Z();Me();(function(p){p.widgetOutOfSight="widget_out_of_sight",p.leavePage="user_change_tab_or_close_site",p.widgetOverLimitTime="widget_over_limit_time",p.siteOverLimitTime="site_over_limit_time",p.newWidgetPage="new_widget_page",p.newSitePage="new_site_page"})(Wt||(Wt={}));Bn=class extends ge{constructor(a){super(a),this.keyHash="_mgUniqueHash",this.keyUserPages="_mgUserPages",this.timeOutLimit=30,this.viewMinTime=1,this.widget={isVisible:!1,isStartView:!1,startingViewTime:0,requestsList:[]},this.teasersList=[],this.teasersVisibleList=[],this.acceptableTeaserTypes=["type-w","type-i","mgline-banner"],this.acceptableSiteEvents=[Wt.leavePage,Wt.newSitePage,Wt.siteOverLimitTime],this.name="CollectViewDataBlock",!this.app.isAmp()&&!this.app.isIframe()&&this.init()}init(){if(this.currentPath=this.app.context.document.location.pathname,typeof this.app.context[this.keyUserPages]>"u"){this.app.context[this.keyUserPages]=[];let a=Math.round(this.app.context.performance?.timeOrigin)||this.app.context.performance.timing.navigationStart,n={pathname:this.currentPath,href:this.app.context.document.location.href,startingViewTime:a,isOverLimitTime:!1};this.app.context[this.keyUserPages].push(n)}setInterval(()=>{this.detectUrlChanged(),this.detectTimeOverLimit()},1e3),this.setupLeavePageEvents(),this.addHook("afterLoadNewsHooks",this.startObserving)}detectUrlChanged(){if(this.currentPath!==this.app.context.document.location.pathname){this.sendAnalyticsData(Wt.newSitePage),this.currentPath=this.app.context.document.location.pathname;let a=this.getCurrentPage();if(!a){let n={pathname:this.currentPath,href:this.app.context.document.location.href,startingViewTime:new Date().getTime(),isOverLimitTime:!1};this.app.context[this.keyUserPages].push(n)}a&&a.startingViewTime===0&&this.updateCurrentUserPage({startingViewTime:new Date().getTime(),href:this.app.context.document.location.href})}}detectTimeOverLimit(){let a=this.getCurrentPage();a&&!a.isOverLimitTime&&a.startingViewTime>0&&this.isTimeOverLimit(new Date().getTime()-a.startingViewTime)&&(this.updateCurrentUserPage({isOverLimitTime:!0}),this.sendAnalyticsData(Wt.siteOverLimitTime)),this.widget.isStartView&&this.isTimeOverLimit(new Date().getTime()-this.widget.startingViewTime)&&this.sendAnalyticsData(Wt.widgetOverLimitTime)}setupLeavePageEvents(){let n=["hidden","mozHidden","msHidden","webkitHidden"].filter(l=>typeof this.app.context.document[l]<"u")[0],o=n==="hidden"?"visibilitychange":n.replace("Hidden","")+"visibilitychange";this.app.context.document.addEventListener(o,()=>{if(this.app.context.document[n]&&this.sendAnalyticsData(Wt.leavePage),this.widget.isVisible&&!this.app.context.document[n]&&this.restartTeasersViewTime(),!this.app.context.document[n]){let l=this.getCurrentPage();l&&l.startingViewTime===0&&this.updateCurrentUserPage({startingViewTime:new Date().getTime()})}}),this.app.context.addEventListener("beforeunload",()=>{this.sendAnalyticsData(Wt.leavePage)})}startObserving(){let a={page:this.app.pagesServicerData.length,requestId:this.app.servicerData.rid};this.widget.requestsList.push(a);let n=typeof this.app.context[this.keyHash+this.app.id+"_"+this.app.uniqId]<"u";n&&this.widget.isStartView&&(this.sendAnalyticsData(Wt.newWidgetPage),this.teasersVisibleList.length?this.restartTeasersViewTime():(this.widget.isStartView=!0,this.widget.startingViewTime=new Date().getTime())),n||(this.app.context[this.keyHash+this.app.id+"_"+this.app.uniqId]=this.app.utils.generateHash(),this.addHook("observerTeasersHooks",this.teasersObserving),["mobile-widget","in-site-notification","passage","interstitial"].includes("smart")===!1&&this.addHook("observerWidgetHooks",this.widgetObserving))}teasersObserving(a,n,o,l,c){let d,g;if(l&&c&&(d=c+"-"+l,g=this.teasersList.filter(y=>y.order===d)[0]),o===0&&d&&g&&g.isVisible&&(this.teasersList=this.teasersList.map(y=>{if(y.order===d){let b=new Date().getTime()-y.startingViewTime,_=y.viewTime?y.viewTime+b:b;return{...y,viewTime:_,isVisible:!1,startingViewTime:0}}else return y})),o>.5){if(this.widget.isVisible=!0,this.widget.isStartView||(this.widget.isStartView=!0,this.widget.startingViewTime=new Date().getTime()),!g&&d&&a&&l&&c){let y={order:d,iteration:l,page:c,isVisible:!0,startingViewTime:new Date().getTime(),viewTime:0,requestId:this.widget.requestsList.filter(b=>b.page===c)[0]?.requestId,showHash:a.dataset.i||"",className:a.className};this.teasersList.push(y)}g&&!g.isVisible&&d&&(this.teasersList=this.teasersList.map(y=>y.order===d?{...y,isVisible:!0,startingViewTime:new Date().getTime()}:y))}this.teasersList.length&&this.teasersList.every(y=>!y.isVisible)&&["mobile-widget","passage","interstitial"].includes("smart")&&(this.sendAnalyticsData(Wt.widgetOutOfSight),this.widget.isVisible=!1)}widgetObserving(a,n){typeof a<"u"&&!a&&(this.sendAnalyticsData(Wt.widgetOutOfSight),this.widget.isVisible=!1)}sendAnalyticsData(a){let n;if(this.widget.isStartView){let c=new Date().getTime()-this.widget.startingViewTime;this.isTimeMoreMinLimit(c)&&(n=n||{},n.widget_data=this.preparedWidgetData(a)),this.widget.isStartView=!1,this.widget.startingViewTime=0}if(this.teasersList.some(c=>c.viewTime>0||c.isVisible)){this.teasersVisibleList=this.teasersList.filter(d=>d.isVisible);let c=this.preparedTeasersData();c.length&&(n=n||{},n.teasers_data=c),this.resetTeasersViewTime()}let o=this.getCurrentPage(),l=this.acceptableSiteEvents.some(c=>c===a);if(o&&l&&o.startingViewTime>0){let c=new Date().getTime()-o.startingViewTime;this.isTimeMoreMinLimit(c)&&(n=n||{},n.user_data=this.preparedUserData(o)),this.updateCurrentUserPage({startingViewTime:0})}if(n&&Object.keys(n).length&&this.isMuidn()){n.event_name=a;let c=new Blob([JSON.stringify(n)],{type:"text/plain"});this.app.request.beaconBlob("visibility",this.app.webProtocol+"//c.mgid.com/vz",c,{})}}preparedWidgetData(a){let n=this.getSessionId(),o={composite_id:this.app.id,device:this.app.servicerData.dt,muidn:this.app.getMuid(),unique_hash:this.app.context[this.keyHash+this.app.id+"_"+this.app.uniqId],visible_time:new Date().getTime()-this.widget.startingViewTime};n&&(o.session_id=n);let l=this.teasersList.filter(c=>c.viewTime>0||c.isVisible).map(c=>c.requestId).filter((c,d,g)=>g.indexOf(c)===d);return a===Wt.newWidgetPage?(o.request_id=this.widget.requestsList[this.widget.requestsList.length-2]?.requestId,l.length>=2&&(o.first_request_id=this.widget.requestsList[0]?.requestId),o):(l.length===1?o.request_id=l[0]:l.length>=2?(o.request_id=this.widget.requestsList[this.widget.requestsList.length-1]?.requestId,o.first_request_id=this.widget.requestsList[0]?.requestId):o.request_id=this.app.servicerData.rid,o)}preparedTeasersData(){return this.teasersList.map(a=>{if(a.isVisible){let n=new Date().getTime()-a.startingViewTime,o=a.viewTime?a.viewTime+n:n;return{...a,viewTime:o}}else return a}).filter(a=>this.isTimeMoreMinLimit(a.viewTime)&&this.acceptableTeaserTypes.some(n=>a.className.indexOf(n)!==-1)&&a.showHash.length&&a.showHash!=="undefined").map(a=>({composite_id:this.app.id,show_hash:a.showHash,muidn:this.app.getMuid(),request_id:a.requestId,visible_time:a.viewTime}))}preparedUserData(a){let n=new Date().getTime()-a.startingViewTime;return{muidn:this.app.getMuid(),page_view_id:this.getPvid(),page_url:a.href,visible_time:n}}resetTeasersViewTime(){this.teasersList=this.teasersList.map(a=>({...a,viewTime:0,isVisible:!1,startingViewTime:0}))}restartTeasersViewTime(){this.teasersVisibleList.forEach(a=>{this.teasersObserving(null,!0,1,a.iteration,a.page)}),this.teasersVisibleList=[]}updateCurrentUserPage(a){this.app.context[this.keyUserPages]=this.app.context[this.keyUserPages].map(n=>n.pathname===this.currentPath?{...n,...a}:n)}isMuidn(){return!!this.app.getMuid().length}isTimeOverLimit(a){return a>this.timeOutLimit*6e4}isTimeMoreMinLimit(a){return a>this.viewMinTime*1e3}getCurrentPage(){return this.app.context[this.keyUserPages].filter(a=>a.pathname===this.currentPath)[0]}getPvid(){let a="";try{a=this.app.pvid||this.app.context._mgPvid||this.app.context.localStorage.getItem("_mgPvid")||""}catch{}return a}getSessionId(){let a=null;try{this.app.context.localStorage&&(a=this.app.context.localStorage.getItem("_mgSessionId"))}catch{}return a}}});var jp={};We(jp,{RtbBlock:()=>On});var On,Fp=ke(()=>{N();V();U();j();z();$();Z();Me();On=class extends ge{constructor(a){super(a),this.name="RtbBlock",this.addHook("afterLoadNewsHooks",this.cmPixelLoad)}cmPixelLoad(){if(!this.app.context["i.js.loaded"]&&this.app.cookieMatchingDomain.length){this.app.context["i.js.loaded"]=!0;let a=this.app.webProtocol+"//"+this.app.cookieMatchingDomain+"/i.js?",n=typeof this.app.realRoot<"u"?this.app.realRoot:this.app.root,o={},l=this.app.getMuid();l.length&&(o.muid=l),o.cbuster=this.app.getCbusterParameter(),a+=Object.keys(o).map(d=>d+"="+encodeURIComponent(o[d])).join("&");let c={charset:"utf-8",onerror:()=>{this.app.context["i.js.loaded"]=!1},dest:n.parentNode};this.app.request.script("i.js",a,{},c)}if(!this.app.context["i-noref.js.loaded"]&&this.app.cookieMatchingDomain.length){this.app.context["i-noref.js.loaded"]=!0;let a=this.app.context.document.createElement("IFRAME");a.src="about:blank",a.frameBorder="0",a.style.position="absolute",a.style.top="0px",a.style.left="-1px",a.style.width="0px",a.style.height="0px",a.style.display="none",a.onload=()=>{setTimeout(()=>{let n=this.app.webProtocol+"//"+this.app.cookieMatchingDomain+"/i-noref.js?cbuster="+this.app.getCbusterParameter(),o={charset:"utf-8",onerror:()=>{this.app.context["i-noref.js.loaded"]=!1},dest:a.contentDocument.body};this.app.request.script("i-noref",n,{},o)},0)},setTimeout(()=>{this.app.context.document.body.appendChild(a)},0)}}}});var ca,Rn=ke(()=>{N();V();U();j();z();$();Z();Me();ca=class extends ge{constructor(a){super(a),this.addHook("afterInitHooks",this.init)}init(){if(!this.initCheck())return;this.check()||this.addHook("afterLoadNewsHooks",this.load);let a=this.getData();a!==""&&(this.app.requestParams[this.paramName]=encodeURIComponent(a))}initCheck(){return!0}}});var zp={};We(zp,{ID5Block:()=>Mn});var Mn,$p=ke(()=>{N();V();U();j();z();$();Z();Rn();Mn=class extends ca{constructor(a){super(a),this.storageKey="_mgID5",this.name="ID5Block",this.paramName="id5",this.refreshTime=36e5}id5Init(){let a="https://cdn.id5-sync.com/api/1.0/id5-api.js",n=this.app.context.document.createElement("script");n.async=!0,n.type="text/javascript",n.src=a,this.app.root.parentNode.insertBefore(n,this.app.root);let o=0,l=setInterval(()=>{o++,o>20&&clearInterval(l),typeof this.app.context.ID5<"u"&&this.app.context.ID5.loaded===!0&&(clearInterval(l),this.app.context.ID5.init(this.id5Params())?.onAvailable(this.id5Callback.bind(this)))},100)}id5Params(){return{partnerId:231,refreshInSeconds:15}}id5Callback(a){let n=a.getUserId();if(typeof n<"u"&&n!=0)if(this.app.context._mgID5Exists=!0,this.app.isAmp()){let o=this.storageKey+"="+n+";domain=.ampproject.net;Max-Age="+this.refreshTime/1e3+";SameSite=None;Secure";this.app.context.document.cookie=o}else this.app.context.localStorage.setItem(this.storageKey,JSON.stringify({time:new Date().getTime(),data:n}))}check(){let a=!0;if(this.app.isAmp())this.app.getCookieValue(this.storageKey).length||(a=!1);else{let n=this.app.context.localStorage.getItem(this.storageKey);if(n){let o=JSON.parse(n);new Date().getTime()-o.time>this.refreshTime&&(a=!1)}else a=!1}return a}getData(){let a="";if(this.app.isAmp())a=this.app.getCookieValue(this.storageKey);else{let n=this.app.context.localStorage.getItem(this.storageKey);n&&(a=JSON.parse(n).data)}return a}load(){typeof this.app.context._mgID5Exists>"u"&&this.id5Init()}initCheck(){return this.app.currentSubnet===0}}});var Yp={};We(Yp,{PubmaticBlock:()=>Wn});var Wn,Zp=ke(()=>{N();V();U();j();z();$();Z();Rn();Wn=class extends ca{constructor(a){super(a),this.storageKey="_mgPubmatic",this.name="PubmaticBlock",this.paramName="pubmatic",this.refreshTime=36e5}initPubmaticCode(){this.app.context.PWT={},this.app.context.pbjs=this.app.context.pbjs||{},this.app.context.pbjs.que=this.app.context.pbjs.que||[],this.app.context.PWT.jsLoaded=()=>{this.app.context._mgPubmaticExists=!0,this.app.context.localStorage.setItem(this.storageKey,JSON.stringify({time:new Date().getTime(),data:JSON.stringify(this.app.context.PWT.getUserIds())}))};let a=this.app.context.location.href,n="https://ads.pubmatic.com/AdServer/js/pwt/161673/7165",o="";if(a.indexOf("pwtv=")>0){let d=/pwtv=(.*?)(&|$)/g.exec(a);d.length>=2&&d[1].length>0&&(o="/"+d[1])}let l=this.app.context.document.createElement("script");l.async=!0,l.type="text/javascript",l.src=n+o+"/pwt.js",this.app.root.parentNode.insertBefore(l,this.app.root)}check(){let a=this.app.context.localStorage.getItem(this.storageKey);if(a){let n=JSON.parse(a);if(new Date().getTime()-n.time>this.refreshTime)return!1}else return!1;return!0}getData(){let a=this.app.context.localStorage.getItem(this.storageKey);return a?JSON.parse(a).data:""}load(){typeof this.app.context._mgPubmaticExists>"u"&&this.initPubmaticCode()}}});var Xp={};We(Xp,{ObserverBlock:()=>Hn});var Hn,Jp=ke(()=>{N();V();U();j();z();$();Z();Me();Hn=class extends ge{constructor(a){super(a),this.name="ObserverBlock",this.addHook("afterLoadNewsHooks",this.initWidgetObserver)}initWidgetObserver(){if(this.app.context.IntersectionObserver){this.app.widgetObserver=new IntersectionObserver(n=>{n.forEach(o=>{let l=o.isIntersecting?"shown":"hidden";if(o.target==this.app.root)this.app.log(`Observer. Widget ${l}. Ratio: ${o.intersectionRatio}`),this.app.lifeCycleBlock.processHooks("observerWidgetHooks",[o.isIntersecting,o.intersectionRatio]);else for(let c=0;c<this.app.observerTeasersHooks.length;c++){let d=1,g=1;try{o.target instanceof HTMLElement&&(d=this.app.teaserData[o.target.dataset.i].iteration,g=this.app.teaserData[o.target.dataset.i].page)}catch{}this.app.log(`Observer. Teaser[${g}, ${d}] ${l}. 
                Ratio: ${o.intersectionRatio}`),this.app.lifeCycleBlock.processHooks("observerTeasersHooks",[o.target,o.isIntersecting,o.intersectionRatio,d,g])}})},{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}),this.app.widgetObserver.observe(this.app.root);let a=[].slice.call(this.app.root.getElementsByClassName("mgline"));for(let n of a)this.app.widgetObserver.observe(n)}}}});var Kp=Ie(()=>{N();V();U();j();z();$();Z()});var Qp=Ie(()=>{N();V();U();j();z();$();Z()});var Qs,er,ec=ke(()=>{N();V();U();j();z();$();Z();(function(p){p.Init="init",p.Render="render"})(Qs||(Qs={}));er=class{constructor(a){this.app=a,this.app.debugBlock.initDebugger(),this.app.lifeCycleBlock=this,this.stage=null,this.workInProgress=!1,this.isAdBlockDetect=this.app.adBlockDetect(),this.mirrorName=JSON.parse('[{"id":0,"informer_prefix":"MarketGid","mirror":"mgid.com","mirrorName":"marketgid","imageDomain":"mgid.com","dashboardDomain":"dashboard.mgid.com","utm":"?utm_source={domain}&utm_medium=referral&utm_campaign=widgets&utm_content="}]')[0]?.mirrorName,this.workersAvailable=typeof Worker<"u";try{let n=new Worker(window.URL.createObjectURL(new Blob([],{type:"text/javascript"})))}catch{this.workersAvailable=!1}if(this.workersAvailable){let n=new Blob([`self.onmessage = function(e) { 
              if (e.data.timeout === 0) { self.postMessage({ eventId: e.data.eventId }); }
              else { setTimeout(function() { self.postMessage({ eventId: e.data.eventId }); }, e.data.timeout); }
            }`],{type:"text/javascript"});this.worker=new Worker(window.URL.createObjectURL(n)),this.workerCallbacks={},this.worker.addEventListener("message",o=>{this.workerCallbacks[o.data.eventId](),delete this.workerCallbacks[o.data.eventId]})}}async run(){this.stage=Qs.Init,this.workInProgress=!0,this.app.time("run()");try{this.app.time("initNavigatorAgentDataBlock"),await this.execute("",async()=>{this.app.navigatorAgentDataBlock=new(await Promise.resolve().then(()=>(Rr(),Or))).NavigatorAgentDataBlock(this.app)}),this.app.timeEnd("initNavigatorAgentDataBlock"),typeof this.app.context?.navigator?.userAgentData?.getHighEntropyValues=="function"&&(this.app.time("app.navigatorAgentDataBlock.waitForUserAgentData()"),await this.app.navigatorAgentDataBlock.waitForUserAgentData(),this.app.timeEnd("app.navigatorAgentDataBlock.waitForUserAgentData()")),await this.execute("",async()=>{this.app.ampRenderBlock=new(await Promise.resolve().then(()=>(sl(),al))).AmpRenderBlock(this.app)}),this.app.time("processHooks(beforeInitBlockHooks)"),await this.processHooks("beforeInitBlockHooks",null),this.app.timeEnd("processHooks(beforeInitBlockHooks)"),this.app.time("initBlocks()"),await this.initBlocks(),this.app.timeEnd("initBlocks()"),this.app.rootId==="TempRootId"&&(this.app.time("waitWidgetLoad()"),await this.waitWidgetLoad(),this.app.timeEnd("waitWidgetLoad()")),this.app.time("processHooks(beforeInitHooks)"),await this.processHooks("beforeInitHooks",null),this.app.timeEnd("processHooks(beforeInitHooks)"),await this.execute("app.init()",()=>{this.app.init()}),await this.execute("app.utils.isMobile()",()=>{this.app.utils.isMobile()}),this.app.time("processHooks(afterInitHooks)"),await this.processHooks("afterInitHooks",null),this.app.timeEnd("processHooks(afterInitHooks)"),this.app.time("app.videoMetricsBlock.waitForCollectMetrics()"),await this.app.videoMetricsBlock.waitForCollectMetrics(),this.app.timeEnd("app.videoMetricsBlock.waitForCollectMetrics()");{let a=await this.execute("app.preparePrerenderData()",()=>this.app.preparePrerenderData()),n=await this.execute("app.templateFunc()",()=>{let o=this.app.getRenderer(this.app.templateText);return o.setRawTemplate(this.app.templateText),o.getHtml(a)});await this.execute("app.prerenderNews()",()=>{this.app.prerenderNews(n)}),await this.execute("app.calcPreRenderingBlock()",()=>{this.app.calcPreRenderingBlock()},50)}this.app.time("processHooks(beforeInjectScriptHooks)"),await this.processHooks("beforeInjectScriptHooks",null),this.app.timeEnd("processHooks(beforeInjectScriptHooks)"),await this.execute("app.injectScript()",()=>{this.app.injectScript(!1)}),this.app.initServicerRequest||(this.app.time("processHooks(afterInjectScriptHooks)"),await this.processHooks("afterInjectScriptHooks",null),this.app.timeEnd("processHooks(afterInjectScriptHooks)"))}catch(a){this.app.log("","error",a)}this.workInProgress=!1,this.app.timeEnd("run()")}async render(a,n){await this.waitForFree(),this.stage=Qs.Render,this.workInProgress=!0,this.app.time("render()");try{await this.execute("loadNewsPrestart()",()=>{this.app.loadNewsPrestart(n)});let o=this.app.responseParser.getAdUnitsFromJson(a);this.app.responseParser.fillAdUnitsData(o),this.app.time("processHooks(beforeLoadNewsHooks)"),await this.processHooks("beforeLoadNewsHooks",[a,n]),this.app.timeEnd("processHooks(beforeLoadNewsHooks)"),await this.execute("app.loadNews()",()=>{this.app.getRenderer(this.app.templateText).setRawTemplate(this.app.templateText),this.app.loadNews(o)}),this.app.time("processHooks(afterLoadNewsHooks)"),await this.processHooks("afterLoadNewsHooks",null),this.app.timeEnd("processHooks(afterLoadNewsHooks)")}catch(o){this.app.log("","error",o)}this.workInProgress=!1,this.app.timeEnd("render()")}async initBlocks(){if(await this.execute("",async()=>{this.app.mgqBlock=new(await Promise.resolve().then(()=>(nl(),rl))).MgqBlock(this.app)}),await this.execute("",async()=>{this.app.consentsBlock=new(await Promise.resolve().then(()=>(Vr(),Nr))).ConsentsBlock(this.app)}),await this.execute("",async()=>{this.app.request=new(await Promise.resolve().then(()=>(cl(),pl))).RequestBlock(this.app)}),await this.execute("",async()=>{this.app.contextBlock=new(await Promise.resolve().then(()=>(hl(),dl))).ContextBlock(this.app)}),await this.execute("",async()=>{this.app.pageViewPixelBlock=new(await Promise.resolve().then(()=>(ml(),ul))).PageViewPixelBlock(this.app)}),await this.execute("",async()=>{this.app.utils=new(await Promise.resolve().then(()=>(gl(),fl))).UtilsBlock(this.app)}),await this.execute("",async()=>{this.app.backButtonBlock=new(await Promise.resolve().then(()=>(bl(),vl))).BackButtonBlock(this.app)}),await this.execute("",async()=>{this.app.main=new(await Promise.resolve().then(()=>(wl(),xl))).MainBlock(this.app)}),await this.execute("",async()=>{this.app.responseParser=new(await Promise.resolve().then(()=>(Sl(),Tl))).ResponseParserBlock(this.app)}),await this.execute("",async()=>{this.app.cookieBlock=new(await Promise.resolve().then(()=>(Cl(),_l))).CookieBlock(this.app)}),await this.execute("",async()=>{this.app.stylesheetsBlock=new(await Promise.resolve().then(()=>(Dl(),kl))).StylesheetsBlock(this.app)}),await this.execute("",async()=>{this.app.sendDimensions=new(await Promise.resolve().then(()=>(El(),Il))).SendDimensionsBlock(this.app)}),await this.execute("",async()=>{this.app.versionControl=new(await Promise.resolve().then(()=>(Al(),Pl))).VersionControlBlock(this.app)}),await this.execute("",async()=>{this.app.internalExchangeBlock=new(await Promise.resolve().then(()=>(Bl(),Ll))).InternalExchangeBlock(this.app)}),await this.execute("",async()=>{this.app.retentionToolBlock=new(await Promise.resolve().then(()=>(Rl(),Ol))).RetentionToolBlock(this.app)}),await this.execute("",async()=>{this.app.InternalExchangeLogger=new(await Promise.resolve().then(()=>(Wl(),Ml))).InternalExchangeLoggerBlock(this.app)}),await this.execute("",async()=>{this.app.advertLinkBlock=new(await Promise.resolve().then(()=>(Nl(),Hl))).AdvertLinkBlock(this.app)}),await this.execute("",async()=>{this.app.colorBlock=new(await Promise.resolve().then(()=>(Gl(),Vl))).ColorBlock(this.app)}),await this.execute("",async()=>{this.app.gradientBlock=new(await Promise.resolve().then(()=>(Ul(),ql))).GradientBlock(this.app)}),await this.execute("",async()=>{this.app.adChoiceBlock=new(await Promise.resolve().then(()=>(Fl(),jl))).AdChoiceBlock(this.app)}),this.mirrorName!=="trafficmedia"&&await this.execute("",async()=>{this.app.rejectBlock=new(await Promise.resolve().then(()=>($l(),zl))).RejectBlock(this.app)}),await this.execute("",async()=>{this.app.teaserHoverBlock=new(await Promise.resolve().then(()=>(Zl(),Yl))).TeaserHoverBlock(this.app)}),await this.execute("",async()=>{this.app.consentsBlock=new(await Promise.resolve().then(()=>(Vr(),Nr))).ConsentsBlock(this.app)}),await this.execute("",async()=>{this.app.inAppParamsBlock=new(await Promise.resolve().then(()=>(Kl(),Jl))).InAppParamsBlock(this.app)}),await this.execute("",async()=>{this.app.navigatorAgentDataBlock=new(await Promise.resolve().then(()=>(Rr(),Or))).NavigatorAgentDataBlock(this.app)}),await this.execute("",async()=>{this.app.countersBlock=new(await Promise.resolve().then(()=>(ep(),Ql))).CountersBlock(this.app)}),await this.execute("",async()=>{this.app.blurBlock=new(await Promise.resolve().then(()=>(ip(),tp))).BlurBlock(this.app)}),await this.execute("",async()=>{this.app.subnetsBlock=new(await Promise.resolve().then(()=>(sp(),ap))).SubnetsBlock(this.app)}),await this.execute("",async()=>{this.app.smartDoubleClickBlock=new(await Promise.resolve().then(()=>(op(),np))).SmartDoubleClickBlock(this.app)}),await this.execute("",async()=>{this.app.mobileDoubleClickBlock=new(await Promise.resolve().then(()=>(pp(),lp))).MobileDoubleClickBlock(this.app)}),await this.execute("",async()=>{this.app.desktopDoubleClickBlock=new(await Promise.resolve().then(()=>(dp(),cp))).DesktopDoubleClickBlock(this.app)}),await this.execute("",async()=>{this.app.sspDoubleClickBlock=new(await Promise.resolve().then(()=>(up(),hp))).SspDoubleClickBlock(this.app)}),await this.execute("",async()=>{}),await this.execute("",async()=>{this.app.externalCountersBlock=new(await Promise.resolve().then(()=>(fp(),mp))).ExternalCountersBlock(this.app)}),await this.execute("",async()=>{this.app.videoMetricsBlock=new(await Promise.resolve().then(()=>(yp(),gp))).VideoMetricsBlock(this.app)}),await this.execute("",async()=>{this.app.originTrialsBlock=new(await Promise.resolve().then(()=>(bp(),vp))).OriginTrialsBlock(this.app)}),await this.execute("",async()=>{this.app.browserTopicsBlock=new(await Promise.resolve().then(()=>(wp(),xp))).BrowserTopicsBlock(this.app)}),await this.execute("",async()=>{this.app.calculateSessionsBlock=new(await Promise.resolve().then(()=>(Sp(),Tp))).CalculateSessionsBlock(this.app)}),await this.execute("",async()=>{this.app.renderClassicBlock=new(await Promise.resolve().then(()=>(Cp(),_p))).RenderClassicBlock(this.app)}),await this.execute("",async()=>{this.app.renderSchematicBlock=new(await Promise.resolve().then(()=>(Dp(),kp))).RenderSchematicBlock(this.app)}),await this.execute("",async()=>{this.app.antifraudStatisticsBlock=new(await Promise.resolve().then(()=>(Ap(),Pp))).AntifraudStatisticsBlock(this.app)}),await this.execute("",async()=>{this.app.antifraudBlock=new(await Promise.resolve().then(()=>(Bp(),Lp))).AntifraudBlock(this.app)}),5>0&&await this.execute("",async()=>{this.app.accidentalClicksBlock=new(await Promise.resolve().then(()=>(Rp(),Op))).AccidentalClicksBlock(this.app)}),await this.execute("",async()=>{this.app.activateDelayBlock=new(await Promise.resolve().then(()=>(Wp(),Mp))).ActivateDelayBlock(this.app)}),await this.execute("",async()=>{this.app.monitorBlock=new(await Promise.resolve().then(()=>(Np(),Hp))).MonitorBlock(this.app)}),this.isAdBlockDetect){for(let a in this.app.childWidgetsData)if(this.app.childWidgetsData.hasOwnProperty(a)){let n=this.app.childWidgetsData[a].isAdblockChild,o=this.app.childWidgetsData[a].childSubtype;if(n&&o==="in-article-adblock"){await this.execute("",async()=>{this.app.hideDescriptionBlock=new(await Promise.resolve().then(()=>(Gp(),Vp))).HideDescriptionBlock(this.app)});break}}}await this.execute("",async()=>{this.app.collectViewDataBlock=new(await Promise.resolve().then(()=>(Up(),qp))).CollectViewDataBlock(this.app)}),await this.execute("",async()=>{this.app.rtbBlock=new(await Promise.resolve().then(()=>(Fp(),jp))).RtbBlock(this.app)});try{this.app.context.localStorage&&(await this.execute("ID5Block",async()=>{this.app.id5Block=new(await Promise.resolve().then(()=>($p(),zp))).ID5Block(this.app)}),await this.execute("PubmaticBlock",async()=>{this.app.pubmaticBlock=new(await Promise.resolve().then(()=>(Zp(),Yp))).PubmaticBlock(this.app)}))}catch{}await this.execute("",async()=>{this.app.observerBlock=new(await Promise.resolve().then(()=>(Jp(),Xp))).ObserverBlock(this.app)});try{await Promise.resolve().then(()=>da(Kp())),await Promise.resolve().then(()=>da(Qp())),await this.initializeCustomFuncBlocks()}catch(a){this.app.log("LifeCycleBlock - Initialize Custom Func Blocks error:","error",a)}}async initializeCustomFuncBlocks(){let a=window["MarketGidInfC1401472"].parentCustomFuncBlocks||{};for(let n in a)if(a.hasOwnProperty(n)){let o=n.replace(/[-_]/g,"").replace(/./,c=>c.toUpperCase())+"Block",l=`Custom func block - ${n}`;await this.execute(l,c=>{try{this.app[o]=new a[n](this.app),c()}catch(d){this.app.log(`LifeCycleBlock - ${l} error:`,"error",d),c()}},0,!1,!0)}}async processHooks(a,n){for(let o=0;o<this.app[a].length;o++){let l=this.app[a][o];try{await l(n)}catch(c){this.app.log(`LifeCycleBlock - ${a} hook ${l} failed`,"error",c)}}}async execute(a,n,o=0,l=!1,c=!1){a&&typeof this.app.time=="function"&&this.app.time(a);let d=navigator.userAgent.toLowerCase(),g=this.app.isAmp()||!(d.indexOf("chrome")>-1&&navigator.vendor.toLowerCase().indexOf("google")>-1)||d.indexOf("fbav")>-1||d.indexOf("fban")>-1;return new Promise(y=>{if(g&&!l)c?n(y):y(n());else if(this.workersAvailable){let b=("0000000000"+Math.round(Math.random()*1e10).toString(16)).slice(-10);this.workerCallbacks[b]=()=>{c?n(y):y(n())},this.worker.postMessage({eventId:b,timeout:o})}else setTimeout(()=>{c?n(y):y(n())},o)}).finally(()=>{a&&typeof this.app.timeEnd=="function"&&this.app.timeEnd(a)})}async waitForFree(){return new Promise(a=>{(function n(){this.workInProgress?this.execute("",()=>{n.bind(this)()},50,!0):a()}).bind(this)()})}async waitWidgetLoad(){return new Promise(a=>{this.app.lifeCycleLoadResolver=a})}}});var tr,tc=ke(()=>{N();V();U();j();z();$();Z();Lr();ec();tr=class{canLoad(){let a=this._getVersion();return a!=null?(this._loadVersion(a),!0):!1}_getVersion(){let a=this._getMgID(),n=this._getCodes();if(a!=null){if(parent.window.document.getElementById(n[9]))return 9;if(parent.window.document.getElementById(n[10]))return 10}else if([this._getCodes(1401472)[9],this._getCodes(1401472)[9],this._getCodes(1401472)[10],this._getCodes(1401472)[10]].filter(l=>document.getElementById(l))[0])return 11;if(document.getElementById(n[3]))return 3;if(document.getElementById(n[4]))return 4}_loadVersion(a){+a<=4?this._loadVersion3To4(a):+a<=10?this._loadVersion9To10(a):+a==11&&this._loadVersion11WithWidgetID()}_loadVersion11WithWidgetID(){let a=this._getUniqID(),n=a!==""?"_"+a:"",o=null;if([[this._getCode(10,1401472),1401472],[this._getCode(10,1401472),1401472],[this._getCode(9,1401472),1401472],[this._getCode(9,1401472),1401472]].some(([c,d])=>{if(document.getElementById(c))return o=d,!0}),!window.document.getElementById(this._getCode(3,o))||!window.document.getElementById(this._getCode(4,o))){let c=[this._getCode(9,o),this._getCode(10,o)].filter(g=>window.document.getElementById(g))[0],d=this._getCode(3,o+n)+n;this._setDivs({id:d,rootID:c,newRootID:c+n})}this._setPreloadBlockId(o,n);let l=[this._getCode(3,o+n)+n,this._getCode(4,o+n)+n].filter(c=>document.getElementById(c))[0];this._loadApp({id:l,containerID:o+n,version:11})}_loadVersion3To4(a){let o=this._getCode(a);document.getElementById(o).innerHTML="",this._loadApp({id:o,version:a,fallback:!1,containerID:0})}_loadVersion9To10(a){let n="_"+this._getUniqID(),o=this._getCode(a),l="MarketGidComposite"+1401472+n,c=parent.window;this._setPreloadBlockId(this._getMgID(),n),this._setDivs({id:l,rootID:o,context:c,newRootID:o+n}),this._loadApp({id:l,version:a,context:c,containerID:this._getMgID()+n})}_loadApp({id:a,context:n=window,fallback:o=!1,containerID:l=this._getMgID(),uniqID:c=this._getUniqID(),version:d}){this.widgetLoadV16Count&&(d=16),this.widget=new oa(a,n,o,l,c,d),this.lifeCycle=new er(this.widget),window["MarketGidInfC1401472"]=this.widget}_setDivs({rootID:a,id:n,context:o=window,newRootID:l=null}){let c=o.document.getElementById(a),d=o.document.createElement("div");d.id=n,c.appendChild(d),l&&(c.id=l)}_setPreloadBlockId(a,n){let o="MarketGidPreloadC"+a,l="M"+796531+"PreloadC"+a,c=[o,l].filter(d=>{try{return parent.window.document.getElementById(d)}catch{return window.document.getElementById(d)}})[0];if(c)try{parent.window.document.getElementById(c).id=c+n}catch{window.document.getElementById(c).id=c+n}}_getUniqID(){return this.uniqID||(this.uniqID=window.uniqId||("00000"+Math.round(Math.random()*1e5).toString(16)).slice(-5)),this.uniqID}_getCodes(a=null){let n=a||this._getMgID();return{3:"MarketGidComposite"+1401472,4:"M"+796531+"Composite"+1401472,9:"MarketGidScriptRootC"+n,10:"M"+796531+"ScriptRootC"+n}}_getCode(a,n=null){return this._getCodes(n)[a]}_getMgID(){return typeof this.mgID>"u"&&(document.getElementById("MG_ID")?this.mgID=document.getElementById("MG_ID").innerHTML:this.mgID=null),this.mgID}loadCurrentWidget(){let a=!0,n=`mg_loaded_${796531}_${1401472}`;typeof window[n]<"u",a&&(window[n]=!0,window[n]=!0,this.lifeCycle.run())}waitAndLoadWidget(a){let o=!1;this.widgetLoadV16Count=0;let l,c;a&&(l=this._getUniqID(),c=l!==""?"_"+l:"",this._loadApp({id:"TempRootId",containerID:1401472+c,version:16}),this.loadCurrentWidget()),window["_mgWidgetLoad"+1401472]=()=>{if(this.widgetLoadV16Count++,this.widget&&this.widget.versionWidget!==16&&(this.widget.versionWidget=16),a&&!o){if(o=!0,!window.document.getElementById(this._getCode(3,1401472))||!window.document.getElementById(this._getCode(4,1401472))){let g=[this._getCode(9,1401472),this._getCode(10,1401472)].filter(b=>window.document.getElementById(b))[0],y=this._getCode(3,1401472+c)+c;this._setDivs({id:y,rootID:g,newRootID:g+c})}this._setPreloadBlockId(1401472,c);let d=[this._getCode(3,1401472+c)+c,this._getCode(4,1401472+c)+c].filter(g=>document.getElementById(g))[0];this.widget.root=document.getElementById(d),this.widget.lifeCycleLoadResolver&&this.widget.lifeCycleLoadResolver()}else this.uniqID=null,this.canLoad()&&this.loadCurrentWidget()}}}});var Rf={};var ir,ic=ke(()=>{N();V();U();j();z();$();Z();tc();ir=new tr;ir.canLoad()?(ir.loadCurrentWidget(),ir.waitAndLoadWidget(!1)):ir.waitAndLoadWidget(!0)});N();V();U();j();z();$();Z();Promise.resolve().then(()=>ic());})();